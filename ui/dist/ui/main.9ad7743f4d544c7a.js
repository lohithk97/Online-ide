(self.webpackChunkui=self.webpackChunkui||[]).push([[179],{8919:function(ge,J,ne){"use strict";function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function H(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=N(e)););return e}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,r){var i=H(n,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},x.apply(this,arguments)}function O(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,n,t){return n&&O(e.prototype,n),t&&O(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function y(e,n){return(y=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r})(e,n)}function v(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&y(e,n)}function f(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,n){if(n&&("object"===s(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}function c(e){var n=f();return function(){var i,r=N(e);if(n){var o=N(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return u(this,i)}}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function h(e,n){if(e){if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,n)}}function p(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=h(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(L){throw L},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var m,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var L=t.next();return o=L.done,L},e:function(L){l=!0,m=L},f:function(){try{!o&&null!=t.return&&t.return()}finally{if(l)throw m}}}}function b(e,n){return function _(e){if(Array.isArray(e))return e}(e)||function E(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,m,r=[],i=!0,o=!1;try{for(t=t.call(e);!(i=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);i=!0);}catch(A){o=!0,m=A}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw m}}return r}}(e,n)||h(e,n)||function D(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function T(e){return function M(e){if(Array.isArray(e))return d(e)}(e)||function k(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function C(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,n,t){return(I=f()?Reflect.construct:function(i,o,l){var m=[null];m.push.apply(m,o);var L=new(Function.bind.apply(i,m));return l&&y(L,l.prototype),L}).apply(null,arguments)}function F(e){var n="function"==typeof Map?new Map:void 0;return F=function(r){if(null===r||!function $(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(r))return n.get(r);n.set(r,i)}function i(){return I(r,arguments,N(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),y(i,r)},F(e)}function P(e){return"function"==typeof e}function U(e){var t=e(function(i){Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var W=U(function(e){return function(t){e(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(r,i){return"".concat(i+1,") ").concat(r.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t}});function z(e,n){if(e){var t=e.indexOf(n);0<=t&&e.splice(t,1)}}var e,X=function(){function e(n){g(this,e),this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return w(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r)){var o,i=p(r);try{for(i.s();!(o=i.n()).done;)o.value.remove(this)}catch(j){i.e(j)}finally{i.f()}}else r.remove(this);var m=this.initialTeardown;if(P(m))try{m()}catch(j){t=j instanceof W?j.errors:[j]}var A=this._finalizers;if(A){this._finalizers=null;var B,L=p(A);try{for(L.s();!(B=L.n()).done;){var V=B.value;try{oe(V)}catch(j){t=null!=t?t:[],j instanceof W?t=[].concat(T(t),T(j.errors)):t.push(j)}}}catch(j){L.e(j)}finally{L.f()}}if(t)throw new W(t)}}},{key:"add",value:function(t){var r;if(t&&t!==this)if(this.closed)oe(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}},{key:"_hasParent",value:function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)}},{key:"_addParent",value:function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}},{key:"_removeParent",value:function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&z(r,t)}},{key:"remove",value:function(t){var r=this._finalizers;r&&z(r,t),t instanceof e&&t._removeParent(this)}}]),e}();X.EMPTY=((e=new X).closed=!0,e);var K=X.EMPTY;function Q(e){return e instanceof X||e&&"closed"in e&&P(e.remove)&&P(e.add)&&P(e.unsubscribe)}function oe(e){P(e)?e():e.unsubscribe()}var G={setTimeout:function(e){function n(t,r){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e,n){for(var t=G.delegate,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return(null==t?void 0:t.setTimeout)?t.setTimeout.apply(t,[e,n].concat(i)):setTimeout.apply(void 0,[e,n].concat(i))}),clearTimeout:function(e){function n(t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){var n=G.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(e)}),delegate:void 0};function ie(e){G.setTimeout(function(){throw e})}function Y(){}var ee=ve("C",void 0,void 0);function ve(e,n,t){return{kind:e,value:n,error:t}}function Ce(e){e()}var He=function(e){v(t,e);var n=c(t);function t(r){var i;return g(this,t),(i=n.call(this)).isStopped=!1,r?(i.destination=r,Q(r)&&r.add(a(i))):i.destination=be,i}return w(t,[{key:"next",value:function(i){this.isStopped?ft(function ce(e){return ve("N",e,void 0)}(i),this):this._next(i)}},{key:"error",value:function(i){this.isStopped?ft(function Z(e){return ve("E",void 0,e)}(i),this):(this.isStopped=!0,this._error(i))}},{key:"complete",value:function(){this.isStopped?ft(ee,this):(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,x(N(t.prototype),"unsubscribe",this).call(this),this.destination=null)}},{key:"_next",value:function(i){this.destination.next(i)}},{key:"_error",value:function(i){try{this.destination.error(i)}finally{this.unsubscribe()}}},{key:"_complete",value:function(){try{this.destination.complete()}finally{this.unsubscribe()}}}],[{key:"create",value:function(i,o,l){return new yt(i,o,l)}}]),t}(X);var et=function(){function e(n){g(this,e),this.partialObserver=n}return w(e,[{key:"next",value:function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(i){Vt(i)}}},{key:"error",value:function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(i){Vt(i)}else Vt(t)}},{key:"complete",value:function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){Vt(r)}}}]),e}(),yt=function(e){v(t,e);var n=c(t);function t(r,i,o){var l,m;return g(this,t),l=n.call(this),P(r)||!r?m={next:null!=r?r:void 0,error:null!=i?i:void 0,complete:null!=o?o:void 0}:(a(l),m=r),l.destination=new et(m),l}return w(t)}(He);function Vt(e){ie(e)}function ft(e,n){var t=null;t&&G.setTimeout(function(){return t(e,n)})}var be={closed:!0,next:Y,error:function nn(e){throw e},complete:Y},we="function"==typeof Symbol&&Symbol.observable||"@@observable";function De(e){return e}function ct(e){return 0===e.length?De:1===e.length?e[0]:function(t){return e.reduce(function(r,i){return i(r)},t)}}var xe=function(){var e=function(){function n(t){g(this,n),t&&(this._subscribe=t)}return w(n,[{key:"lift",value:function(r){var i=new n;return i.source=this,i.operator=r,i}},{key:"subscribe",value:function(r,i,o){var l=this,m=function wt(e){return e&&e instanceof He||function kt(e){return e&&P(e.next)&&P(e.error)&&P(e.complete)}(e)&&Q(e)}(r)?r:new yt(r,i,o);return Ce(function(){var A=l.operator,L=l.source;m.add(A?A.call(m,L):L?l._subscribe(m):l._trySubscribe(m))}),m}},{key:"_trySubscribe",value:function(r){try{return this._subscribe(r)}catch(i){r.error(i)}}},{key:"forEach",value:function(r,i){var o=this;return new(i=Nt(i))(function(l,m){var A=new yt({next:function(B){try{r(B)}catch(V){m(V),A.unsubscribe()}},error:m,complete:l});o.subscribe(A)})}},{key:"_subscribe",value:function(r){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(r)}},{key:we,value:function(){return this}},{key:"pipe",value:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ct(i)(this)}},{key:"toPromise",value:function(r){var i=this;return new(r=Nt(r))(function(o,l){var m;i.subscribe(function(A){return m=A},function(A){return l(A)},function(){return o(m)})})}}]),n}();return e.create=function(n){return new e(n)},e}();function Nt(e){var n;return null!==(n=null!=e?e:undefined)&&void 0!==n?n:Promise}var pt=U(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Fe=function(){var e=function(n){v(r,n);var t=c(r);function r(){var i;return g(this,r),(i=t.call(this)).closed=!1,i.currentObservers=null,i.observers=[],i.isStopped=!1,i.hasError=!1,i.thrownError=null,i}return w(r,[{key:"lift",value:function(o){var l=new rn(this,this);return l.operator=o,l}},{key:"_throwIfClosed",value:function(){if(this.closed)throw new pt}},{key:"next",value:function(o){var l=this;Ce(function(){if(l._throwIfClosed(),!l.isStopped){l.currentObservers||(l.currentObservers=Array.from(l.observers));var A,m=p(l.currentObservers);try{for(m.s();!(A=m.n()).done;)A.value.next(o)}catch(B){m.e(B)}finally{m.f()}}})}},{key:"error",value:function(o){var l=this;Ce(function(){if(l._throwIfClosed(),!l.isStopped){l.hasError=l.isStopped=!0,l.thrownError=o;for(var m=l.observers;m.length;)m.shift().error(o)}})}},{key:"complete",value:function(){var o=this;Ce(function(){if(o._throwIfClosed(),!o.isStopped){o.isStopped=!0;for(var l=o.observers;l.length;)l.shift().complete()}})}},{key:"unsubscribe",value:function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}},{key:"observed",get:function(){var o;return(null===(o=this.observers)||void 0===o?void 0:o.length)>0}},{key:"_trySubscribe",value:function(o){return this._throwIfClosed(),x(N(r.prototype),"_trySubscribe",this).call(this,o)}},{key:"_subscribe",value:function(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)}},{key:"_innerSubscribe",value:function(o){var l=this,L=this.observers;return this.hasError||this.isStopped?K:(this.currentObservers=null,L.push(o),new X(function(){l.currentObservers=null,z(L,o)}))}},{key:"_checkFinalizedStatuses",value:function(o){var A=this.isStopped;this.hasError?o.error(this.thrownError):A&&o.complete()}},{key:"asObservable",value:function(){var o=new xe;return o.source=this,o}}]),r}(xe);return e.create=function(n,t){return new rn(n,t)},e}(),rn=function(e){v(t,e);var n=c(t);function t(r,i){var o;return g(this,t),(o=n.call(this)).destination=r,o.source=i,o}return w(t,[{key:"next",value:function(i){var o,l;null===(l=null===(o=this.destination)||void 0===o?void 0:o.next)||void 0===l||l.call(o,i)}},{key:"error",value:function(i){var o,l;null===(l=null===(o=this.destination)||void 0===o?void 0:o.error)||void 0===l||l.call(o,i)}},{key:"complete",value:function(){var i,o;null===(o=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===o||o.call(i)}},{key:"_subscribe",value:function(i){var o,l;return null!==(l=null===(o=this.source)||void 0===o?void 0:o.subscribe(i))&&void 0!==l?l:K}}]),t}(Fe);function Zn(e){return P(null==e?void 0:e.lift)}function gt(e){return function(n){if(Zn(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _t(e,n,t,r,i){return new ho(e,n,t,r,i)}var ho=function(e){v(t,e);var n=c(t);function t(r,i,o,l,m,A){var L,B,V,j;return g(this,t),(j=n.call(this,r)).onFinalize=m,j.shouldUnsubscribe=A,j._next=i?function(q){try{i(q)}catch(te){r.error(te)}}:x((L=a(j),N(t.prototype)),"_next",L),j._error=l?function(q){try{l(q)}catch(te){r.error(te)}finally{this.unsubscribe()}}:x((B=a(j),N(t.prototype)),"_error",B),j._complete=o?function(){try{o()}catch(q){r.error(q)}finally{this.unsubscribe()}}:x((V=a(j),N(t.prototype)),"_complete",V),j}return w(t,[{key:"unsubscribe",value:function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var o=this.closed;x(N(t.prototype),"unsubscribe",this).call(this),!o&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}]),t}(He);function Xe(e,n){return gt(function(t,r){var i=0;t.subscribe(_t(r,function(o){r.next(e.call(n,o,i++))}))})}var fo=ne(7757),hr=ne.n(fo);function Ti(e,n,t,r){return new(t||(t=Promise))(function(o,l){function m(B){try{L(r.next(B))}catch(V){l(V)}}function A(B){try{L(r.throw(B))}catch(V){l(V)}}function L(B){B.done?o(B.value):function i(o){return o instanceof t?o:new t(function(l){l(o)})}(B.value).then(m,A)}L((r=r.apply(e,n||[])).next())})}function Qn(e){return this instanceof Qn?(this.v=e,this):new Qn(e)}function po(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(j){r[j]&&(i[j]=function(q){return new Promise(function(te,se){o.push([j,q,te,se])>1||m(j,q)})})}function m(j,q){try{!function A(j){j.value instanceof Qn?Promise.resolve(j.value.v).then(L,B):V(o[0][2],j)}(r[j](q))}catch(te){V(o[0][3],te)}}function L(j){m("next",j)}function B(j){m("throw",j)}function V(j,q){j(q),o.shift(),o.length&&m(o[0][0],o[0][1])}}function go(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function xi(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(l){return new Promise(function(m,A){!function i(o,l,m,A){Promise.resolve(A).then(function(L){o({value:L,done:m})},l)}(m,A,(l=e[o](l)).done,l.value)})}}}var ui=function(n){return n&&"number"==typeof n.length&&"function"!=typeof n};function Oi(e){return P(null==e?void 0:e.then)}function Ii(e){return P(e[we])}function Pi(e){return Symbol.asyncIterator&&P(null==e?void 0:e[Symbol.asyncIterator])}function Fi(e){return new TypeError("You provided ".concat(null!==e&&"object"==typeof e?"an invalid object":"'".concat(e,"'")," where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable."))}var Bi=function yo(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ni(e){return P(null==e?void 0:e[Bi])}function $i(e){return po(this,arguments,hr().mark(function n(){var t,r,i;return hr().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:t=e.getReader(),m.prev=1;case 2:return m.next=5,Qn(t.read());case 5:if(i=(r=m.sent).value,!r.done){m.next=12;break}return m.next=11,Qn(void 0);case 11:return m.abrupt("return",m.sent);case 12:return m.next=14,Qn(i);case 14:return m.next=16,m.sent;case 16:m.next=2;break;case 18:return m.prev=18,t.releaseLock(),m.finish(18);case 21:case"end":return m.stop()}},n,null,[[1,,18,21]])}))}function Hi(e){return P(null==e?void 0:e.getReader)}function on(e){if(e instanceof xe)return e;if(null!=e){if(Ii(e))return function _o(e){return new xe(function(n){var t=e[we]();if(P(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ui(e))return function Co(e){return new xe(function(n){for(var t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Oi(e))return function bo(e){return new xe(function(n){e.then(function(t){n.closed||(n.next(t),n.complete())},function(t){return n.error(t)}).then(null,ie)})}(e);if(Pi(e))return wo(e);if(Ni(e))return function Ws(e){return new xe(function(n){var r,t=p(e);try{for(t.s();!(r=t.n()).done;)if(n.next(r.value),n.closed)return}catch(o){t.e(o)}finally{t.f()}n.complete()})}(e);if(Hi(e))return function js(e){return wo($i(e))}(e)}throw Fi(e)}function wo(e){return new xe(function(n){(function zs(e,n){var t,r,i,o;return Ti(this,void 0,void 0,hr().mark(function l(){return hr().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:L.prev=0,t=go(e);case 2:return L.next=4,t.next();case 4:if((r=L.sent).done){L.next=12;break}if(n.next(r.value),!n.closed){L.next=10;break}return L.abrupt("return");case 10:L.next=2;break;case 12:L.next=17;break;case 14:L.prev=14,L.t0=L.catch(0),i={error:L.t0};case 17:if(L.prev=17,L.prev=18,!r||r.done||!(o=t.return)){L.next=22;break}return L.next=22,o.call(t);case 22:if(L.prev=22,!i){L.next=25;break}throw i.error;case 25:return L.finish(22);case 26:return L.finish(17);case 27:n.complete();case 28:case"end":return L.stop()}},l,null,[[0,14,17,27],[18,,22,26]])}))})(e,n).catch(function(t){return n.error(t)})})}function Un(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Gs(e,n,t,r,i,o,l,m){var A=[],L=0,B=0,V=!1,j=function(){V&&!A.length&&!L&&n.complete()},q=function(ue){return L<r?te(ue):A.push(ue)},te=function se(ue){o&&n.next(ue),L++;var le=!1;on(t(ue,B++)).subscribe(_t(n,function(ae){null==i||i(ae),o?q(ae):n.next(ae)},function(){le=!0},void 0,function(){if(le)try{L--;for(var ae=function(){var Ee=A.shift();l?Un(n,l,function(){return se(Ee)}):se(Ee)};A.length&&L<r;)ae();j()}catch(me){n.error(me)}}))};return e.subscribe(_t(n,q,function(){V=!0,j()})),function(){null==m||m()}}function Rt(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return P(n)?Rt(function(r,i){return Xe(function(o,l){return n(r,o,i,l)})(on(e(r,i)))},t):("number"==typeof n&&(t=n),gt(function(r,i){return Gs(r,i,e,t)}))}function zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;return Rt(De,e)}var xn=new xe(function(e){return e.complete()});function So(e){return e&&P(e.schedule)}function Ui(e){return e[e.length-1]}function Eo(e){return P(Ui(e))?e.pop():void 0}function Gr(e){return So(Ui(e))?e.pop():void 0}function Ks(e,n){return"number"==typeof Ui(e)?e.pop():n}function Xs(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return gt(function(t,r){t.subscribe(_t(r,function(i){return Un(r,e,function(){return r.next(i)},n)},function(){return Un(r,e,function(){return r.complete()},n)},function(i){return Un(r,e,function(){return r.error(i)},n)}))})}function yu(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return gt(function(t,r){r.add(e.schedule(function(){return t.subscribe(r)},n))})}function fe(e,n){if(!e)throw new Error("Iterable cannot be null");return new xe(function(t){Un(t,n,function(){var r=e[Symbol.asyncIterator]();Un(t,n,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function Tt(e,n){return n?function Dt(e,n){if(null!=e){if(Ii(e))return function _u(e,n){return on(e).pipe(yu(n),Xs(n))}(e,n);if(ui(e))return function vc(e,n){return new xe(function(t){var r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Oi(e))return function Cu(e,n){return on(e).pipe(yu(n),Xs(n))}(e,n);if(Pi(e))return fe(e,n);if(Ni(e))return function pc(e,n){return new xe(function(t){var r;return Un(t,n,function(){r=e[Bi](),Un(t,n,function(){var i,o;try{var l=r.next();i=l.value,o=l.done}catch(m){return void t.error(m)}o?t.complete():t.next(i)},0,!0)}),function(){return P(null==r?void 0:r.return)&&r.return()}})}(e,n);if(Hi(e))return function he(e,n){return fe($i(e),n)}(e,n)}throw Fi(e)}(e,n):on(e)}function Vn(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=Gr(n),i=Ks(n,1/0),o=n;return o.length?1===o.length?on(o[0]):zr(i)(Tt(o,r)):xn}function Lt(e){return e<=0?function(){return xn}:gt(function(n,t){var r=0;n.subscribe(_t(t,function(i){++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.connector,t=void 0===n?function(){return new Fe}:n,r=e.resetOnError,i=void 0===r||r,o=e.resetOnComplete,l=void 0===o||o,m=e.resetOnRefCountZero,A=void 0===m||m;return function(L){var B=null,V=null,j=null,q=0,te=!1,se=!1,ue=function(){null==V||V.unsubscribe(),V=null},le=function(){ue(),B=j=null,te=se=!1},ae=function(){var Ee=B;le(),null==Ee||Ee.unsubscribe()};return gt(function(me,Ee){q++,!se&&!te&&ue();var ke=j=null!=j?j:t();Ee.add(function(){0==--q&&!se&&!te&&(V=On(ae,A))}),ke.subscribe(Ee),B||(B=new yt({next:function(Ge){return ke.next(Ge)},error:function(Ge){se=!0,ue(),V=On(le,i,Ge),ke.error(Ge)},complete:function(){te=!0,ue(),V=On(le,l),ke.complete()}}),Tt(me).subscribe(B))})(L)}}function On(e,n){if(!0===n)return e(),null;if(!1===n)return null;for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return n.apply(void 0,r).pipe(Lt(1)).subscribe(function(){return e()})}function ut(e){for(var n in e)if(e[n]===ut)return n;throw Error("Could not find renamed property on target object.")}function sn(e,n){for(var t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Qe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Qe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var n=e.toString();if(null==n)return""+n;var t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function qr(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}var Vi=ut({__forward_ref__:ut});function lt(e){return e.__forward_ref__=lt,e.toString=function(){return Qe(this())},e}function Ue(e){return wn(e)?e():e}function wn(e){return"function"==typeof e&&e.hasOwnProperty(Vi)&&e.__forward_ref__===lt}var Ie=function(e){v(t,e);var n=c(t);function t(r,i){var o;return g(this,t),(o=n.call(this,function Wn(e,n){var t="NG0".concat(Math.abs(e));return"".concat(t).concat(n?": "+n:"")}(r,i))).code=r,o}return w(t)}(F(Error));function Oe(e){return"string"==typeof e?e:null==e?"":String(e)}function At(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Oe(e)}function fr(e,n){var t=n?" in ".concat(n):"";throw new Ie(-201,"No provider for ".concat(At(e)," found").concat(t))}function jn(e,n){null==e&&function Mt(e,n,t,r){throw new Error("ASSERTION ERROR: ".concat(e)+(null==r?"":" [Expected=> ".concat(t," ").concat(r," ").concat(n," <=Actual]")))}(n,e,null,"!=")}function Ve(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Sn(e){return{providers:e.providers||[],imports:e.imports||[]}}function gc(e){return pv(e,wu)||pv(e,mv)}function pv(e,n){return e.hasOwnProperty(n)?e[n]:null}function gv(e){return e&&(e.hasOwnProperty(mc)||e.hasOwnProperty(aw))?e[mc]:null}var yc,wu=ut({"\u0275prov":ut}),mc=ut({"\u0275inj":ut}),mv=ut({ngInjectableDef:ut}),aw=ut({ngInjectorDef:ut}),je=function(){return(je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je}();function uw(){return yc}function ci(e){var n=yc;return yc=e,n}function yv(e,n,t){var r=gc(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&je.Optional?null:void 0!==n?n:void fr(Qe(e),"Injector")}function hi(e){return{toString:e}.toString()}var dr=function(){return(dr=dr||{})[dr.OnPush=0]="OnPush",dr[dr.Default=1]="Default",dr}(),Rr=function(){return function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(Rr||(Rr={})),Rr}(),lw="undefined"!=typeof globalThis&&globalThis,cw="undefined"!=typeof window&&window,hw="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,fw="undefined"!=typeof global&&global,mt=lw||fw||cw||hw,ko={},Ct=[],Su=ut({"\u0275cmp":ut}),_c=ut({"\u0275dir":ut}),Cc=ut({"\u0275pipe":ut}),_v=ut({"\u0275mod":ut}),Yr=ut({"\u0275fac":ut}),Zs=ut({__NG_ELEMENT_ID__:ut}),dw=0;function vr(e){return hi(function(){var t={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===dr.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Ct,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Rr.Emulated,id:"c",styles:e.styles||Ct,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,o=e.features,l=e.pipes;return r.id+=dw++,r.inputs=Sv(e.inputs,t),r.outputs=Sv(e.outputs),o&&o.forEach(function(m){return m(r)}),r.directiveDefs=i?function(){return("function"==typeof i?i():i).map(Cv)}:null,r.pipeDefs=l?function(){return("function"==typeof l?l():l).map(bv)}:null,r})}function Cv(e){return vn(e)||function fi(e){return e[_c]||null}(e)}function bv(e){return function Wi(e){return e[Cc]||null}(e)}var wv={};function Pn(e){return hi(function(){var n={type:e.type,bootstrap:e.bootstrap||Ct,declarations:e.declarations||Ct,imports:e.imports||Ct,exports:e.exports||Ct,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(wv[e.id]=e.type),n})}function Sv(e,n){if(null==e)return ko;var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}var Ne=vr;function vn(e){return e[Su]||null}function er(e,n){var t=e[_v]||null;if(!t&&!0===n)throw new Error("Type ".concat(Qe(e)," does not have '\u0275mod' property."));return t}function Tr(e){return Array.isArray(e)&&"object"==typeof e[1]}function gr(e){return Array.isArray(e)&&!0===e[1]}function Sc(e){return 0!=(8&e.flags)}function Au(e){return 2==(2&e.flags)}function Mu(e){return 1==(1&e.flags)}function mr(e){return null!==e.template}function _w(e){return 0!=(512&e[2])}function qi(e,n){return e.hasOwnProperty(Yr)?e[Yr]:null}var ww=function(){function e(n,t,r){g(this,e),this.previousValue=n,this.currentValue=t,this.firstChange=r}return w(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Nn(){return kv}function kv(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ew),Sw}function Sw(){var e=Av(this),n=null==e?void 0:e.current;if(n){var t=e.previous;if(t===ko)e.previous=n;else for(var r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Ew(e,n,t,r){var i=Av(e)||function kw(e,n){return e[Dv]=n}(e,{previous:ko,current:null}),o=i.current||(i.current={}),l=i.previous,m=this.declaredInputs[t],A=l[m];o[m]=new ww(A&&A.currentValue,n,l===ko),e[r]=n}Nn.ngInherit=!0;var Dv="__ngSimpleChanges__";function Av(e){return e[Dv]||null}var Mc=void 0;function $t(e){return!!e.listen}var Mv={createRenderer:function(n,t){return function Rc(){return void 0!==Mc?Mc:"undefined"!=typeof document?document:void 0}()}};function Gt(e){for(;Array.isArray(e);)e=e[0];return e}function Ru(e,n){return Gt(n[e])}function rr(e,n){return Gt(n[e.index])}function Tc(e,n){return e.data[n]}function Gn(e,n){var t=n[e];return Tr(t)?t:t[0]}function Rv(e){return 4==(4&e[2])}function Lc(e){return 128==(128&e[2])}function di(e,n){return null==n?null:e[n]}function Tv(e){e[18]=0}function xc(e,n){e[5]+=n;for(var t=e,r=e[3];null!==r&&(1===n&&1===t[5]||-1===n&&0===t[5]);)r[5]+=n,t=r,r=r[3]}var We={lFrame:Nv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Lv(){return We.bindingsEnabled}function pe(){return We.lFrame.lView}function at(){return We.lFrame.tView}function cn(e){return We.lFrame.contextLView=e,e[8]}function Jt(){for(var e=xv();null!==e&&64===e.type;)e=e.parent;return e}function xv(){return We.lFrame.currentTNode}function Lr(e,n){var t=We.lFrame;t.currentTNode=e,t.isParent=n}function Oc(){return We.lFrame.isParent}function Tu(){return We.isInCheckNoChangesMode}function Lu(e){We.isInCheckNoChangesMode=e}function Lo(){return We.lFrame.bindingIndex++}function Vw(e,n){var t=We.lFrame;t.bindingIndex=t.bindingRootIndex=e,Pc(n)}function Pc(e){We.lFrame.currentDirectiveIndex=e}function Pv(){return We.lFrame.currentQueryIndex}function Bc(e){We.lFrame.currentQueryIndex=e}function jw(e){var n=e[1];return 2===n.type?n.declTNode:1===n.type?e[6]:null}function Fv(e,n,t){if(t&je.SkipSelf){for(var r=n,i=e;!(null!==(r=r.parent)||t&je.Host||null===(r=jw(i))||(i=i[15],10&r.type)););if(null===r)return!1;n=r,e=i}var o=We.lFrame=Bv();return o.currentTNode=n,o.lView=e,!0}function xu(e){var n=Bv(),t=e[1];We.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Bv(){var e=We.lFrame,n=null===e?null:e.child;return null===n?Nv(e):n}function Nv(e){var n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function $v(){var e=We.lFrame;return We.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Hv=$v;function Ou(){var e=$v();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zw(e){var n=We.lFrame.contextLView=function Gw(e,n){for(;e>0;)n=n[15],e--;return n}(e,We.lFrame.contextLView);return n[8]}function kn(){return We.lFrame.selectedIndex}function vi(e){We.lFrame.selectedIndex=e}function Ht(){var e=We.lFrame;return Tc(e.tView,e.selectedIndex)}function Iu(e,n){for(var t=n.directiveStart,r=n.directiveEnd;t<r;t++){var o=e.data[t].type.prototype,l=o.ngAfterContentInit,m=o.ngAfterContentChecked,A=o.ngAfterViewInit,L=o.ngAfterViewChecked,B=o.ngOnDestroy;l&&(e.contentHooks||(e.contentHooks=[])).push(-t,l),m&&((e.contentHooks||(e.contentHooks=[])).push(t,m),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(t,m)),A&&(e.viewHooks||(e.viewHooks=[])).push(-t,A),L&&((e.viewHooks||(e.viewHooks=[])).push(t,L),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(t,L)),null!=B&&(e.destroyHooks||(e.destroyHooks=[])).push(t,B)}}function Pu(e,n,t){Uv(e,n,3,t)}function Fu(e,n,t,r){(3&e[2])===t&&Uv(e,n,t,r)}function Nc(e,n){var t=e[2];(3&t)===n&&(t&=2047,e[2]=t+=1)}function Uv(e,n,t,r){for(var o=null!=r?r:-1,l=n.length-1,m=0,A=void 0!==r?65535&e[18]:0;A<l;A++)if("number"==typeof n[A+1]){if(m=n[A],null!=r&&m>=r)break}else n[A]<0&&(e[18]+=65536),(m<o||-1==o)&&(Qw(e,t,n,A),e[18]=(4294901760&e[18])+A+2),A++}function Qw(e,n,t,r){var i=t[r]<0,o=t[r+1],m=e[i?-t[r]:t[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===n){e[2]+=2048;try{o.call(m)}finally{}}}else try{o.call(m)}finally{}}var ra=w(function e(n,t,r){g(this,e),this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r});function Bu(e,n,t){for(var r=$t(e),i=0;i<t.length;){var o=t[i];if("number"==typeof o){if(0!==o)break;i++;var l=t[i++],m=t[i++],A=t[i++];r?e.setAttribute(n,m,A,l):n.setAttributeNS(l,m,A)}else{var L=o,B=t[++i];Hc(L)?r&&e.setProperty(n,L,B):r?e.setAttribute(n,L,B):n.setAttribute(L,B),i++}}return i}function Vv(e){return 3===e||4===e||6===e}function Hc(e){return 64===e.charCodeAt(0)}function Nu(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else for(var t=-1,r=0;r<n.length;r++){var i=n[r];"number"==typeof i?t=i:0===t||Wv(e,t,i,null,-1===t||2===t?n[++r]:null)}return e}function Wv(e,n,t,r,i){var o=0,l=e.length;if(-1===n)l=-1;else for(;o<e.length;){var m=e[o++];if("number"==typeof m){if(m===n){l=-1;break}if(m>n){l=o-1;break}}}for(;o<e.length;){var A=e[o];if("number"==typeof A)break;if(A===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==l&&(e.splice(l,0,n),o=l+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function jv(e){return-1!==e}function xo(e){return 32767&e}function Oo(e,n){for(var t=function iS(e){return e>>16}(e),r=n;t>0;)r=r[15],t--;return r}var Uc=!0;function $u(e){var n=Uc;return Uc=e,n}var sS=0;function oa(e,n){var t=Wc(e,n);if(-1!==t)return t;var r=n[1];r.firstCreatePass&&(e.injectorIndex=n.length,Vc(r.data,e),Vc(n,null),Vc(r.blueprint,null));var i=Hu(e,n),o=e.injectorIndex;if(jv(i))for(var l=xo(i),m=Oo(i,n),A=m[1].data,L=0;L<8;L++)n[o+L]=m[l+L]|A[l+L];return n[o+8]=i,o}function Vc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Wc(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Hu(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var t=0,r=null,i=n;null!==i;){var o=i[1],l=o.type;if(null===(r=2===l?o.declTNode:1===l?i[6]:null))return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Uu(e,n,t){!function aS(e,n,t){var r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Zs)&&(r=t[Zs]),null==r&&(r=t[Zs]=sS++);var i=255&r;n.data[e+(i>>5)]|=1<<i}(e,n,t)}function qv(e,n,t){if(t&je.Optional)return e;fr(n,"NodeInjector")}function Kv(e,n,t,r){if(t&je.Optional&&void 0===r&&(r=null),0==(t&(je.Self|je.Host))){var i=e[9],o=ci(void 0);try{return i?i.get(n,r,t&je.Optional):yv(n,r,t&je.Optional)}finally{ci(o)}}return qv(r,n,t)}function Xv(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:je.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=hS(t);if("function"==typeof o){if(!Fv(n,e,r))return r&je.Host?qv(i,t,r):Kv(n,t,r,i);try{var l=o(r);if(null!=l||r&je.Optional)return l;fr(t)}finally{Hv()}}else if("number"==typeof o){var m=null,A=Wc(e,n),L=-1,B=r&je.Host?n[16][6]:null;for((-1===A||r&je.SkipSelf)&&(-1!==(L=-1===A?Hu(e,n):n[A+8])&&Zv(r,!1)?(m=n[1],A=xo(L),n=Oo(L,n)):A=-1);-1!==A;){var V=n[1];if(Jv(o,A,V.data)){var j=cS(A,n,t,m,r,B);if(j!==Yv)return j}-1!==(L=n[A+8])&&Zv(r,n[1].data[A+8]===B)&&Jv(o,A,n)?(m=V,A=xo(L),n=Oo(L,n)):A=-1}}}return Kv(n,t,r,i)}var Yv={};function lS(){return new Io(Jt(),pe())}function cS(e,n,t,r,i,o){var l=n[1],m=l.data[e+8],B=Vu(m,l,t,null==r?Au(m)&&Uc:r!=l&&0!=(3&m.type),i&je.Host&&o===m);return null!==B?sa(n,l,B,m):Yv}function Vu(e,n,t,r,i){for(var o=e.providerIndexes,l=n.data,m=1048575&o,A=e.directiveStart,B=o>>20,j=i?m+B:e.directiveEnd,q=r?m:m+B;q<j;q++){var te=l[q];if(q<A&&t===te||q>=A&&te.type===t)return q}if(i){var se=l[A];if(se&&mr(se)&&se.type===t)return A}return null}function sa(e,n,t,r){var i=e[t],o=n.data;if(function eS(e){return e instanceof ra}(i)){var l=i;l.resolving&&function Kr(e,n){var t=n?". Dependency path: ".concat(n.join(" > ")," > ").concat(e):"";throw new Ie(-200,"Circular dependency in DI detected for ".concat(e).concat(t))}(At(o[t]));var m=$u(l.canSeeViewProviders);l.resolving=!0;var A=l.injectImpl?ci(l.injectImpl):null;Fv(e,r,je.Default);try{i=e[t]=l.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function Zw(e,n,t){var r=n.type.prototype,o=r.ngOnInit,l=r.ngDoCheck;if(r.ngOnChanges){var m=kv(n);(t.preOrderHooks||(t.preOrderHooks=[])).push(e,m),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,m)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-e,o),l&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e,l),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,l))}(t,o[t],n)}finally{null!==A&&ci(A),$u(m),l.resolving=!1,Hv()}}return i}function hS(e){if("string"==typeof e)return e.charCodeAt(0)||0;var n=e.hasOwnProperty(Zs)?e[Zs]:void 0;return"number"==typeof n?n>=0?255&n:lS:n}function Jv(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function Zv(e,n){return!(e&je.Self||e&je.Host&&n)}var Io=function(){function e(n,t){g(this,e),this._tNode=n,this._lView=t}return w(e,[{key:"get",value:function(t,r,i){return Xv(this._tNode,this._lView,t,i,r)}}]),e}();function gn(e){return hi(function(){for(var n=e.prototype.constructor,t=n[Yr]||jc(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[Yr]||jc(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return function(l){return new l}})}function jc(e){return wn(e)?function(){var n=jc(Ue(e));return n&&n()}:qi(e)}var Fo="__parameters__";function No(e,n,t){return hi(function(){var r=function zc(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var r in t)this[r]=t[r]}}}(n);function i(){for(var o=arguments.length,l=new Array(o),m=0;m<o;m++)l[m]=arguments[m];if(this instanceof i)return r.apply(this,l),this;var A=I(i,l);return L.annotation=A,L;function L(B,V,j){for(var q=B.hasOwnProperty(Fo)?B[Fo]:Object.defineProperty(B,Fo,{value:[]})[Fo];q.length<=j;)q.push(null);return(q[j]=q[j]||[]).push(A),B}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Je=function(){function e(n,t){g(this,e),this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ve({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}return w(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),dS=new Je("AnalyzeForEntryComponents");function ir(e,n){void 0===n&&(n=e);for(var t=0;t<e.length;t++){var r=e[t];Array.isArray(r)?(n===e&&(n=e.slice(0,t)),ir(r,n)):n!==e&&n.push(r)}return n}function xr(e,n){e.forEach(function(t){return Array.isArray(t)?xr(t,n):n(t)})}function ep(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Wu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function qn(e,n,t){var r=$o(e,n);return r>=0?e[1|r]=t:function gS(e,n,t,r){var i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r=~r,n,t),r}function qc(e,n){var t=$o(e,n);if(t>=0)return e[1|t]}function $o(e,n){return function rp(e,n,t){for(var r=0,i=e.length>>t;i!==r;){var o=r+(i-r>>1),l=e[o<<t];if(n===l)return o<<t;l>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}var ha={},Xc="__NG_DI_FLAG__",zu="ngTempTokenPath",ES=/\n/gm,op="__source",DS=ut({provide:String,useValue:ut}),fa=void 0;function sp(e){var n=fa;return fa=e,n}function AS(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je.Default;if(void 0===fa){var t="";throw new Ie(203,t)}return null===fa?yv(e,void 0,n):fa.get(e,n&je.Optional?null:void 0,n)}function Te(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je.Default;return(uw()||AS)(Ue(e),n)}var MS=Te;function Yc(e){for(var n=[],t=0;t<e.length;t++){var r=Ue(e[t]);if(Array.isArray(r)){if(0===r.length)throw new Ie(900,"");for(var o=void 0,l=je.Default,m=0;m<r.length;m++){var A=r[m],L=RS(A);"number"==typeof L?-1===L?o=A.token:l|=L:o=A}n.push(Te(o,l))}else n.push(Te(r))}return n}function da(e,n){return e[Xc]=n,e.prototype[Xc]=n,e}function RS(e){return e[Xc]}function TS(e,n,t,r){var i=e[zu];throw n[op]&&i.unshift(n[op]),e.message=function LS(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=Qe(n);if(Array.isArray(n))i=n.map(Qe).join(" -> ");else if("object"==typeof n){var o=[];for(var l in n)if(n.hasOwnProperty(l)){var m=n[l];o.push(l+":"+("string"==typeof m?JSON.stringify(m):Qe(m)))}i="{".concat(o.join(", "),"}")}return"".concat(t).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(ES,"\n  "))}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[zu]=null,e}var Gu=da(No("Inject",function(e){return{token:e}}),-1),gi=da(No("Optional"),8),va=da(No("SkipSelf"),4),pp=function(){function e(n){g(this,e),this.changingThisBreaksApplicationSecurity=n}return w(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),e}();function mi(e){return e instanceof pp?e.changingThisBreaksApplicationSecurity:e}var JS=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ZS=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var qt=function(){return(qt=qt||{})[qt.NONE=0]="NONE",qt[qt.HTML=1]="HTML",qt[qt.STYLE=2]="STYLE",qt[qt.SCRIPT=3]="SCRIPT",qt[qt.URL=4]="URL",qt[qt.RESOURCE_URL=5]="RESOURCE_URL",qt}();function ih(e){var n=function ya(){var e=pe();return e&&e[12]}();return n?n.sanitize(qt.URL,e)||"":function ga(e,n){var t=function qS(e){return e instanceof pp&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error("Required a safe ".concat(n,", got a ").concat(t," (see https://g.co/ng/security#xss)"))}return t===n}(e,"URL")?mi(e):function Yu(e){return(e=String(e)).match(JS)||e.match(ZS)?e:"unsafe:"+e}(Oe(e))}var kp="__ngContext__";function mn(e,n){e[kp]=n}function sh(e){var n=function _a(e){return e[kp]||null}(e);return n?Array.isArray(n)?n:n.lView:null}function uh(e){return e.ngOriginalError}function D1(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];e.error.apply(e,t)}var Ca=function(){function e(){g(this,e),this._console=console}return w(e,[{key:"handleError",value:function(t){var r=this._findOriginalError(t),i=function k1(e){return e&&e.ngErrorLogger||D1}(t);i(this._console,"ERROR",t),r&&i(this._console,"ORIGINAL ERROR",r)}},{key:"_findOriginalError",value:function(t){for(var r=t&&uh(t);r&&uh(r);)r=uh(r);return r||null}}]),e}(),F1=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(mt)}();function Ir(e){return e instanceof Function?e():e}var Kn=function(){return(Kn=Kn||{})[Kn.Important=1]="Important",Kn[Kn.DashCase=2]="DashCase",Kn}();function ch(e,n){return undefined(e,n)}function ba(e){var n=e[3];return gr(n)?n[3]:n}function hh(e){return Ip(e[13])}function fh(e){return Ip(e[4])}function Ip(e){for(;null!==e&&!gr(e);)e=e[4];return e}function Wo(e,n,t,r,i){if(null!=r){var o,l=!1;gr(r)?o=r:Tr(r)&&(l=!0,r=r[0]);var m=Gt(r);0===e&&null!==t?null==i?Hp(n,t,m):Ki(n,t,m,i||null,!0):1===e&&null!==t?Ki(n,t,m,i||null,!0):2===e?function qp(e,n,t){var r=Zu(e,n);r&&function Y1(e,n,t,r){$t(e)?e.removeChild(n,t,r):n.removeChild(t)}(e,r,n,t)}(n,m,l):3===e&&n.destroyNode(m),null!=o&&function Q1(e,n,t,r,i){var o=t[7];o!==Gt(t)&&Wo(n,e,r,o,i);for(var m=10;m<t.length;m++){var A=t[m];wa(A[1],A,e,n,r,o)}}(n,e,o,t,i)}}function dh(e,n){return $t(e)?e.createText(n):e.createTextNode(n)}function vh(e,n,t){if($t(e))return e.createElement(n,t);var r=null!==t?function Rw(e){var n=e.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?e.createElement(n):e.createElementNS(r,n)}function Fp(e,n){var t=e[9],r=t.indexOf(n),i=n[3];1024&n[2]&&(n[2]&=-1025,xc(i,-1)),t.splice(r,1)}function ph(e,n){if(!(e.length<=10)){var t=10+n,r=e[t];if(r){var i=r[17];null!==i&&i!==e&&Fp(i,r),n>0&&(e[t-1][4]=r[4]);var o=Wu(e,10+n);!function V1(e,n){wa(e,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);var l=o[19];null!==l&&l.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Bp(e,n){if(!(256&n[2])){var t=n[11];$t(t)&&t.destroyNode&&wa(e,n,t,3,null,null),function z1(e){var n=e[13];if(!n)return gh(e[1],e);for(;n;){var t=null;if(Tr(n))t=n[13];else{var r=n[10];r&&(t=r)}if(!t){for(;n&&!n[4]&&n!==e;)Tr(n)&&gh(n[1],n),n=n[3];null===n&&(n=e),Tr(n)&&gh(n[1],n),t=n&&n[4]}n=t}}(n)}}function gh(e,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function X1(e,n){var t;if(null!=e&&null!=(t=e.destroyHooks))for(var r=0;r<t.length;r+=2){var i=n[t[r]];if(!(i instanceof ra)){var o=t[r+1];if(Array.isArray(o))for(var l=0;l<o.length;l+=2){var m=i[o[l]],A=o[l+1];try{A.call(m)}finally{}}else try{o.call(i)}finally{}}}}(e,n),function K1(e,n){var t=e.cleanup,r=n[7],i=-1;if(null!==t)for(var o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){var l=t[o+1],m="function"==typeof l?l(n):Gt(n[l]),A=r[i=t[o+2]],L=t[o+3];"boolean"==typeof L?m.removeEventListener(t[o],A,L):L>=0?r[i=L]():r[i=-L].unsubscribe(),o+=2}else{var B=r[i=t[o+1]];t[o].call(B)}if(null!==r){for(var V=i+1;V<r.length;V++)(0,r[V])();n[7]=null}}(e,n),1===n[1].type&&$t(n[11])&&n[11].destroy();var t=n[17];if(null!==t&&gr(n[3])){t!==n[3]&&Fp(t,n);var r=n[19];null!==r&&r.detachView(e)}}}function Np(e,n,t){return function $p(e,n,t){for(var r=n;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===Rr.None||i===Rr.Emulated)return null}return rr(r,t)}(e,n.parent,t)}function Ki(e,n,t,r,i){$t(e)?e.insertBefore(n,t,r,i):n.insertBefore(t,r,i)}function Hp(e,n,t){$t(e)?e.appendChild(n,t):n.appendChild(t)}function Up(e,n,t,r,i){null!==r?Ki(e,n,t,r,i):Hp(e,n,t)}function Zu(e,n){return $t(e)?e.parentNode(n):n.parentNode}var jp=function Wp(e,n,t){return 40&e.type?rr(e,t):null};function Qu(e,n,t,r){var i=Np(e,r,n),o=n[11],m=function Vp(e,n,t){return jp(e,n,t)}(r.parent||n[6],r,n);if(null!=i)if(Array.isArray(t))for(var A=0;A<t.length;A++)Up(o,i,t[A],m,!1);else Up(o,i,t,m,!1)}function el(e,n){if(null!==n){var t=n.type;if(3&t)return rr(n,e);if(4&t)return yh(-1,e[n.index]);if(8&t){var r=n.child;if(null!==r)return el(e,r);var i=e[n.index];return gr(i)?yh(-1,i):Gt(i)}if(32&t)return ch(n,e)()||Gt(e[n.index]);var m=Gp(e,n);return null!==m?Array.isArray(m)?m[0]:el(ba(e[16]),m):el(e,n.next)}return null}function Gp(e,n){return null!==n?e[16][6].projection[n.projection]:null}function yh(e,n){var t=10+e+1;if(t<n.length){var r=n[t],i=r[1].firstChild;if(null!==i)return el(r,i)}return n[7]}function _h(e,n,t,r,i,o,l){for(;null!=t;){var m=r[t.index],A=t.type;if(l&&0===n&&(m&&mn(Gt(m),r),t.flags|=4),64!=(64&t.flags))if(8&A)_h(e,n,t.child,r,i,o,!1),Wo(n,e,i,m,o);else if(32&A){for(var L=ch(t,r),B=void 0;B=L();)Wo(n,e,i,B,o);Wo(n,e,i,m,o)}else 16&A?Kp(e,n,r,t,i,o):Wo(n,e,i,m,o);t=l?t.projectionNext:t.next}}function wa(e,n,t,r,i,o){_h(t,r,e.firstChild,n,i,o,!1)}function Kp(e,n,t,r,i,o){var l=t[16],A=l[6].projection[r.projection];if(Array.isArray(A))for(var L=0;L<A.length;L++)Wo(n,e,i,A[L],o);else _h(e,n,A,l[3],i,o,!0)}function Xp(e,n,t){$t(e)?e.setAttribute(n,"style",t):n.style.cssText=t}function Ch(e,n,t){$t(e)?""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t):n.className=t}function Yp(e,n,t){for(var r=e.length;;){var i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var Jp="ng-template";function tE(e,n,t){for(var r=0;r<e.length;){var i=e[r++];if(t&&"class"===i){if(-1!==Yp((i=e[r]).toLowerCase(),n,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===n)return!0;return!1}}return!1}function Zp(e){return 4===e.type&&e.value!==Jp}function nE(e,n,t){return n===(4!==e.type||t?e.value:Jp)}function rE(e,n,t){for(var r=4,i=e.attrs||[],o=function sE(e){for(var n=0;n<e.length;n++)if(Vv(e[n]))return n;return e.length}(i),l=!1,m=0;m<n.length;m++){var A=n[m];if("number"!=typeof A){if(!l)if(4&r){if(r=2|1&r,""!==A&&!nE(e,A,t)||""===A&&1===n.length){if(yr(r))return!1;l=!0}}else{var L=8&r?A:n[++m];if(8&r&&null!==e.attrs){if(!tE(e.attrs,L,t)){if(yr(r))return!1;l=!0}continue}var V=iE(8&r?"class":A,i,Zp(e),t);if(-1===V){if(yr(r))return!1;l=!0;continue}if(""!==L){var j;j=V>o?"":i[V+1].toLowerCase();var q=8&r?j:null;if(q&&-1!==Yp(q,L,0)||2&r&&L!==j){if(yr(r))return!1;l=!0}}}}else{if(!l&&!yr(r)&&!yr(A))return!1;if(l&&yr(A))continue;l=!1,r=A|1&r}}return yr(r)||l}function yr(e){return 0==(1&e)}function iE(e,n,t,r){if(null===n)return-1;var i=0;if(r||!t){for(var o=!1;i<n.length;){var l=n[i];if(l===e)return i;if(3===l||6===l)o=!0;else{if(1===l||2===l){for(var m=n[++i];"string"==typeof m;)m=n[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=o?1:2}return-1}return function aE(e,n){var t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){var r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Qp(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<n.length;r++)if(rE(e,n[r],t))return!0;return!1}function eg(e,n){return e?":not("+n.trim()+")":n}function lE(e){for(var n=e[0],t=1,r=2,i="",o=!1;t<e.length;){var l=e[t];if("string"==typeof l)if(2&r){var m=e[++t];i+="["+l+(m.length>0?'="'+m+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!yr(l)&&(n+=eg(o,i),i=""),r=l,o=o||!yr(r);t++}return""!==i&&(n+=eg(o,i)),n}var ze={};function Ot(e){tg(at(),pe(),kn()+e,Tu())}function tg(e,n,t,r){if(!r)if(3==(3&n[2])){var o=e.preOrderCheckHooks;null!==o&&Pu(n,o,t)}else{var l=e.preOrderHooks;null!==l&&Fu(n,l,0,t)}vi(t)}function tl(e,n){return e<<17|n<<2}function _r(e){return e>>17&32767}function bh(e){return 2|e}function Qr(e){return(131068&e)>>2}function wh(e,n){return-131069&e|n<<2}function Sh(e){return 1|e}function fg(e,n){var t=e.contentQueries;if(null!==t)for(var r=0;r<t.length;r+=2){var o=t[r+1];if(-1!==o){var l=e.data[o];Bc(t[r]),l.contentQueries(2,n[o],o)}}}function Sa(e,n,t,r,i,o,l,m,A,L){var B=n.blueprint.slice();return B[0]=i,B[2]=140|r,Tv(B),B[3]=B[15]=e,B[8]=t,B[10]=l||e&&e[10],B[11]=m||e&&e[11],B[12]=A||e&&e[12]||null,B[9]=L||e&&e[9]||null,B[6]=o,B[16]=2==n.type?e[16]:B,B}function jo(e,n,t,r,i){var o=e.data[n];if(null===o)o=function xh(e,n,t,r,i){var o=xv(),l=Oc(),A=e.data[n]=function AE(e,n,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=A),null!==o&&(l?null==o.child&&null!==A.parent&&(o.child=A):null===o.next&&(o.next=A)),A}(e,n,t,r,i),function Uw(){return We.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;var l=function na(){var e=We.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return Lr(o,!0),o}function zo(e,n,t,r){if(0===t)return-1;for(var i=n.length,o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ea(e,n,t){xu(n);try{var r=e.viewQuery;null!==r&&Uh(1,r,t);var i=e.template;null!==i&&dg(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&fg(e,n),e.staticViewQueries&&Uh(2,e.viewQuery,t);var o=e.components;null!==o&&function EE(e,n){for(var t=0;t<n.length;t++)zE(e,n[t])}(n,o)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{n[2]&=-5,Ou()}}function Go(e,n,t,r){var i=n[2];if(256!=(256&i)){xu(n);var o=Tu();try{Tv(n),function Ov(e){return We.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&dg(e,n,t,2,r);var l=3==(3&i);if(!o)if(l){var m=e.preOrderCheckHooks;null!==m&&Pu(n,m,null)}else{var A=e.preOrderHooks;null!==A&&Fu(n,A,0,null),Nc(n,0)}if(function WE(e){for(var n=hh(e);null!==n;n=fh(n))if(n[2])for(var t=n[9],r=0;r<t.length;r++){var i=t[r];0==(1024&i[2])&&xc(i[3],1),i[2]|=1024}}(n),function VE(e){for(var n=hh(e);null!==n;n=fh(n))for(var t=10;t<n.length;t++){var r=n[t],i=r[1];Lc(r)&&Go(i,r,i.template,r[8])}}(n),null!==e.contentQueries&&fg(e,n),!o)if(l){var L=e.contentCheckHooks;null!==L&&Pu(n,L)}else{var B=e.contentHooks;null!==B&&Fu(n,B,1),Nc(n,1)}!function wE(e,n){var t=e.hostBindingOpCodes;if(null!==t)try{for(var r=0;r<t.length;r++){var i=t[r];if(i<0)vi(~i);else{var o=i,l=t[++r],m=t[++r];Vw(l,o),m(2,n[o])}}}finally{vi(-1)}}(e,n);var V=e.components;null!==V&&function SE(e,n){for(var t=0;t<n.length;t++)jE(e,n[t])}(n,V);var j=e.viewQuery;if(null!==j&&Uh(2,j,r),!o)if(l){var q=e.viewCheckHooks;null!==q&&Pu(n,q)}else{var te=e.viewHooks;null!==te&&Fu(n,te,2),Nc(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,xc(n[3],-1))}finally{Ou()}}}function kE(e,n,t,r){var i=n[10],o=!Tu(),l=Rv(n);try{o&&!l&&i.begin&&i.begin(),l&&Ea(e,n,r),Go(e,n,t,r)}finally{o&&!l&&i.end&&i.end()}}function dg(e,n,t,r,i){var o=kn(),l=2&r;try{vi(-1),l&&n.length>20&&tg(e,n,20,Tu()),t(r,i)}finally{vi(o)}}function Oh(e,n,t){!Lv()||(function IE(e,n,t,r){var i=t.directiveStart,o=t.directiveEnd;e.firstCreatePass||oa(t,n),mn(r,n);for(var l=t.initialInputs,m=i;m<o;m++){var A=e.data[m],L=mr(A);L&&$E(n,t,A);var B=sa(n,e,m,t);mn(B,n),null!==l&&HE(0,m-i,B,A,0,l),L&&(Gn(t.index,n)[8]=B)}}(e,n,t,rr(t,n)),128==(128&t.flags)&&function PE(e,n,t){var r=t.directiveStart,i=t.directiveEnd,l=t.index,m=function Ww(){return We.lFrame.currentDirectiveIndex}();try{vi(l);for(var A=r;A<i;A++){var L=e.data[A],B=n[A];Pc(A),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&wg(L,B)}}finally{vi(-1),Pc(m)}}(e,n,t))}function Ih(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rr,r=n.localNames;if(null!==r)for(var i=n.index+1,o=0;o<r.length;o+=2){var l=r[o+1],m=-1===l?t(n,e):e[l];e[i++]=m}}function pg(e){var n=e.tView;return null===n||n.incompleteFirstPass?e.tView=il(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function il(e,n,t,r,i,o,l,m,A,L){var B=20+r,V=B+i,j=function DE(e,n){for(var t=[],r=0;r<n;r++)t.push(r<e?null:ze);return t}(B,V),q="function"==typeof L?L():L;return j[1]={type:e,blueprint:j,template:t,queries:null,viewQuery:m,declTNode:n,data:j.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:A,consts:q,incompleteFirstPass:!1}}function yg(e,n,t,r){var i=Mg(n);null===t?i.push(r):(i.push(t),e.firstCreatePass&&Rg(e).push(r,i.length-1))}function _g(e,n,t){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(n,i):t[r]=[n,i]}return t}function Ph(e,n,t,r){var i=!1;if(Lv()){var o=function FE(e,n,t){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var l=r[o];Qp(t,l.selectors,!1)&&(i||(i=[]),Uu(oa(t,n),e,l.type),mr(l)?(Sg(e,t),i.unshift(l)):i.push(l))}return i}(e,n,t),l=null===r?null:{"":-1};if(null!==o){i=!0,Eg(t,e.data.length,o.length);for(var m=0;m<o.length;m++){var A=o[m];A.providersResolver&&A.providersResolver(A)}for(var L=!1,B=!1,V=zo(e,n,o.length,null),j=0;j<o.length;j++){var q=o[j];t.mergedAttrs=Nu(t.mergedAttrs,q.hostAttrs),kg(e,t,n,V,q),NE(V,q,l),null!==q.contentQueries&&(t.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(t.flags|=128);var te=q.type.prototype;!L&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t.index),L=!0),!B&&(te.ngOnChanges||te.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t.index),B=!0),V++}!function ME(e,n){for(var r=n.directiveEnd,i=e.data,o=n.attrs,l=[],m=null,A=null,L=n.directiveStart;L<r;L++){var B=i[L],V=B.inputs,j=null===o||Zp(n)?null:UE(V,o);l.push(j),m=_g(V,L,m),A=_g(B.outputs,L,A)}null!==m&&(m.hasOwnProperty("class")&&(n.flags|=16),m.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=l,n.inputs=m,n.outputs=A}(e,t)}l&&function BE(e,n,t){if(n)for(var r=e.localNames=[],i=0;i<n.length;i+=2){var o=t[n[i+1]];if(null==o)throw new Ie(-301,!1);r.push(n[i],o)}}(t,r,l)}return t.mergedAttrs=Nu(t.mergedAttrs,t.attrs),i}function bg(e,n,t,r,i,o){var l=o.hostBindings;if(l){var m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);var A=~n.index;(function OE(e){for(var n=e.length;n>0;){var t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(m)!=A&&m.push(A),m.push(r,i,l)}}function wg(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Sg(e,n){n.flags|=2,(e.components||(e.components=[])).push(n.index)}function NE(e,n,t){if(t){if(n.exportAs)for(var r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;mr(n)&&(t[""]=e)}}function Eg(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function kg(e,n,t,r,i){e.data[r]=i;var o=i.factory||(i.factory=qi(i.type)),l=new ra(o,mr(i),null);e.blueprint[r]=l,t[r]=l,bg(e,n,0,r,zo(e,t,i.hostVars,ze),i)}function $E(e,n,t){var r=rr(n,e),i=pg(t),o=e[10],l=ol(e,Sa(e,i,null,t.onPush?64:16,r,n,o,o.createRenderer(r,t),null,null));e[n.index]=l}function Pr(e,n,t,r,i,o){var l=rr(e,n);!function Fh(e,n,t,r,i,o,l){if(null==o)$t(e)?e.removeAttribute(n,i,t):n.removeAttribute(i);else{var m=null==l?Oe(o):l(o,r||"",i);$t(e)?e.setAttribute(n,i,m,t):t?n.setAttributeNS(t,i,m):n.setAttribute(i,m)}}(n[11],l,o,e.value,t,r,i)}function HE(e,n,t,r,i,o){var l=o[n];if(null!==l)for(var m=r.setInput,A=0;A<l.length;){var L=l[A++],B=l[A++],V=l[A++];null!==m?r.setInput(t,V,L,B):t[B]=V}}function UE(e,n){for(var t=null,r=0;r<n.length;){var i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,e[i],n[r+1])),r+=2}else r+=2;else r+=4}return t}function Dg(e,n,t,r){return new Array(e,!0,!1,n,null,0,r,t,null,null)}function jE(e,n){var t=Gn(n,e);if(Lc(t)){var r=t[1];80&t[2]?Go(r,t,r.template,t[8]):t[5]>0&&Bh(t)}}function Bh(e){for(var n=hh(e);null!==n;n=fh(n))for(var t=10;t<n.length;t++){var r=n[t];if(1024&r[2]){var i=r[1];Go(i,r,i.template,r[8])}else r[5]>0&&Bh(r)}var l=e[1].components;if(null!==l)for(var m=0;m<l.length;m++){var A=Gn(l[m],e);Lc(A)&&A[5]>0&&Bh(A)}}function zE(e,n){var t=Gn(n,e),r=t[1];(function GE(e,n){for(var t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(r,t),Ea(r,t,t[8])}function ol(e,n){return e[13]?e[14][4]=n:e[13]=n,e[14]=n,n}function Nh(e){for(;e;){e[2]|=64;var n=ba(e);if(_w(e)&&!n)return e;e=n}return null}function Hh(e,n,t){var r=n[10];r.begin&&r.begin();try{Go(e,n,e.template,t)}catch(i){throw Lg(n,i),i}finally{r.end&&r.end()}}function Ag(e){!function $h(e){for(var n=0;n<e.components.length;n++){var t=e.components[n],r=sh(t),i=r[1];kE(i,r,i.template,t)}}(e[8])}function Uh(e,n,t){Bc(0),n(e,t)}var YE=function(){return Promise.resolve(null)}();function Mg(e){return e[7]||(e[7]=[])}function Rg(e){return e.cleanup||(e.cleanup=[])}function Lg(e,n){var t=e[9],r=t?t.get(Ca,null):null;r&&r.handleError(n)}function xg(e,n,t,r,i){for(var o=0;o<t.length;){var l=t[o++],m=t[o++],A=n[l],L=e.data[l];null!==L.setInput?L.setInput(A,i,r,m):A[m]=i}}function ei(e,n,t){var r=Ru(n,e);!function Pp(e,n,t){$t(e)?e.setValue(n,t):n.textContent=t}(e[11],r,t)}function sl(e,n,t){var r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(var l=0;l<n.length;l++){var m=n[l];"number"==typeof m?o=m:1==o?i=qr(i,m):2==o&&(r=qr(r,m+": "+n[++l]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}var Vh=new Je("INJECTOR",-1),Og=function(){function e(){g(this,e)}return w(e,[{key:"get",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ha;if(r===ha){var i=new Error("NullInjectorError: No provider for ".concat(Qe(t),"!"));throw i.name="NullInjectorError",i}return r}}]),e}(),Wh=new Je("Set Injector scope."),ka={},QE={},jh=void 0;function Ig(){return void 0===jh&&(jh=new Og),jh}function Pg(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Fg(e,n,t,r);return i._resolveInjectorDefTypes(),i}function Fg(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new ek(e,t,n||Ig(),r)}var ek=function(){function e(n,t,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;g(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var l=[];t&&xr(t,function(A){return i.processProvider(A,n,t)}),xr([n],function(A){return i.processInjectorType(A,[],l)}),this.records.set(Vh,qo(void 0,this));var m=this.records.get(Wh);this.scope=null!=m?m.value:null,this.source=o||("object"==typeof n?null:Qe(n))}return w(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ha,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:je.Default;this.assertNotDestroyed();var o=sp(this),l=ci(void 0);try{if(!(i&je.SkipSelf)){var m=this.records.get(t);if(void 0===m){var A=uk(t)&&gc(t);m=A&&this.injectableDefInScope(A)?qo(zh(t),ka):null,this.records.set(t,m)}if(null!=m)return this.hydrate(t,m)}var L=i&je.Self?Ig():this.parent;return L.get(t,r=i&je.Optional&&r===ha?null:r)}catch(V){if("NullInjectorError"===V.name){var B=V[zu]=V[zu]||[];if(B.unshift(Qe(t)),o)throw V;return TS(V,t,"R3InjectorError",this.source)}throw V}finally{ci(l),sp(o)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(r){return t.get(r)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(i,o){return t.push(Qe(o))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Ie(205,!1)}},{key:"processInjectorType",value:function(t,r,i){var o=this;if(!(t=Ue(t)))return!1;var l=gv(t),m=null==l&&t.ngModule||void 0,A=void 0===m?t:m,V=-1!==i.indexOf(A);if(void 0!==m&&(l=gv(m)),null==l)return!1;if(null!=l.imports&&!V){var j;i.push(A);try{xr(l.imports,function(ae){o.processInjectorType(ae,r,i)&&(void 0===j&&(j=[]),j.push(ae))})}finally{}if(void 0!==j)for(var q=function(me){var Ee=j[me],ke=Ee.ngModule,tt=Ee.providers;xr(tt,function(Ge){return o.processProvider(Ge,ke,tt||Ct)})},te=0;te<j.length;te++)q(te)}this.injectorDefTypes.add(A);var se=qi(A)||function(){return new A};this.records.set(A,qo(se,ka));var ue=l.providers;if(null!=ue&&!V){var le=t;xr(ue,function(ae){return o.processProvider(ae,le,ue)})}return void 0!==m&&void 0!==t.providers}},{key:"processProvider",value:function(t,r,i){var o=Ko(t=Ue(t))?t:Ue(t&&t.provide),l=function nk(e,n,t){return Ng(e)?qo(void 0,e.useValue):qo(Bg(e),ka)}(t);if(Ko(t)||!0!==t.multi)this.records.get(o);else{var m=this.records.get(o);m||((m=qo(void 0,ka,!0)).factory=function(){return Yc(m.multi)},this.records.set(o,m)),o=t,m.multi.push(t)}this.records.set(o,l)}},{key:"hydrate",value:function(t,r){return r.value===ka&&(r.value=QE,r.value=r.factory()),"object"==typeof r.value&&r.value&&function ak(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this.onDestroy.add(r.value),r.value}},{key:"injectableDefInScope",value:function(t){if(!t.providedIn)return!1;var r=Ue(t.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}]),e}();function zh(e){var n=gc(e),t=null!==n?n.factory:qi(e);if(null!==t)return t;if(e instanceof Je)throw new Ie(204,!1);if(e instanceof Function)return function tk(e){var n=e.length;if(n>0)throw function ca(e,n){for(var t=[],r=0;r<e;r++)t.push(n);return t}(n,"?"),new Ie(204,!1);var r=function ow(e){var n=e&&(e[wu]||e[mv]);if(n){var t=function sw(e){if(e.hasOwnProperty("name"))return e.name;var n=(""+e).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(t,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(t,'" class.')),n}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Ie(204,!1)}function Bg(e,n,t){var r=void 0;if(Ko(e)){var i=Ue(e);return qi(i)||zh(i)}if(Ng(e))r=function(){return Ue(e.useValue)};else if(function ik(e){return!(!e||!e.useFactory)}(e))r=function(){return e.useFactory.apply(e,T(Yc(e.deps||[])))};else if(function rk(e){return!(!e||!e.useExisting)}(e))r=function(){return Te(Ue(e.useExisting))};else{var o=Ue(e&&(e.useClass||e.provide));if(!function sk(e){return!!e.deps}(e))return qi(o)||zh(o);r=function(){return I(o,T(Yc(e.deps)))}}return r}function qo(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:n,multi:t?[]:void 0}}function Ng(e){return null!==e&&"object"==typeof e&&DS in e}function Ko(e){return"function"==typeof e}function uk(e){return"function"==typeof e||"object"==typeof e&&e instanceof Je}var Dn=function(){var e=function(){function n(){g(this,n)}return w(n,null,[{key:"create",value:function(r,i){var o;if(Array.isArray(r))return Pg({name:""},i,r,"");var l=null!==(o=r.name)&&void 0!==o?o:"";return Pg({name:l},r.parent,r.providers,l)}}]),n}();return e.THROW_IF_NOT_FOUND=ha,e.NULL=new Og,e.\u0275prov=Ve({token:e,providedIn:"any",factory:function(){return Te(Vh)}}),e.__NG_ELEMENT_ID__=-1,e}();function _k(e,n){Iu(sh(e)[1],Jt())}function dt(e){for(var n=function Gg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0,r=[e];n;){var i=void 0;if(mr(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ie(903,"");i=n.\u0275dir}if(i){if(t){r.push(i);var l=e;l.inputs=qh(e.inputs),l.declaredInputs=qh(e.declaredInputs),l.outputs=qh(e.outputs);var m=i.hostBindings;m&&Sk(e,m);var A=i.viewQuery,L=i.contentQueries;if(A&&bk(e,A),L&&wk(e,L),sn(e.inputs,i.inputs),sn(e.declaredInputs,i.declaredInputs),sn(e.outputs,i.outputs),mr(i)&&i.data.animation){var B=e.data;B.animation=(B.animation||[]).concat(i.data.animation)}}var V=i.features;if(V)for(var j=0;j<V.length;j++){var q=V[j];q&&q.ngInherit&&q(e),q===dt&&(t=!1)}}n=Object.getPrototypeOf(n)}!function Ck(e){for(var n=0,t=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Nu(i.hostAttrs,t=Nu(t,i.hostAttrs))}}(r)}function qh(e){return e===ko?{}:e===Ct?[]:e}function bk(e,n){var t=e.viewQuery;e.viewQuery=t?function(r,i){n(r,i),t(r,i)}:n}function wk(e,n){var t=e.contentQueries;e.contentQueries=t?function(r,i,o){n(r,i,o),t(r,i,o)}:n}function Sk(e,n){var t=e.hostBindings;e.hostBindings=t?function(r,i){n(r,i),t(r,i)}:n}var al=null;function Xo(){if(!al){var e=mt.Symbol;if(e&&e.iterator)al=e.iterator;else for(var n=Object.getOwnPropertyNames(Map.prototype),t=0;t<n.length;++t){var r=n[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(al=r)}}return al}function Da(e){return!!Kh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Xo()in e)}function Kh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function yn(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Br(e,n,t,r){var i=pe();return yn(i,Lo(),n)&&(at(),Pr(Ht(),i,e,n,t,r)),Br}function Yn(e,n,t,r,i,o,l,m){var A=pe(),L=at(),B=e+20,V=L.firstCreatePass?function Tk(e,n,t,r,i,o,l,m,A){var L=n.consts,B=jo(n,e,4,l||null,di(L,m));Ph(n,t,B,di(L,A)),Iu(n,B);var V=B.tViews=il(2,B,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,L);return null!==n.queries&&(n.queries.template(n,B),V.queries=n.queries.embeddedTView(B)),B}(B,L,A,n,t,r,i,o,l):L.data[B];Lr(V,!1);var j=A[11].createComment("");Qu(L,A,j,V),mn(j,A),ol(A,A[B]=Dg(j,A,j,V)),Mu(V)&&Oh(L,A,V),null!=l&&Ih(A,V,m)}function de(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je.Default,t=pe();if(null===t)return Te(e,n);var r=Jt();return Xv(r,t,Ue(e),n)}function Zh(){throw new Error("invalid")}function bt(e,n,t){var r=pe();return yn(r,Lo(),n)&&function Xn(e,n,t,r,i,o,l,m){var B,A=rr(n,t),L=n.inputs;!m&&null!=L&&(B=L[r])?(xg(e,t,B,r,i),Au(n)&&function TE(e,n){var t=Gn(n,e);16&t[2]||(t[2]|=64)}(t,n.index)):3&n.type&&(r=function RE(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=l?l(i,n.value||"",r):i,$t(o)?o.setProperty(A,r,i):Hc(r)||(A.setProperty?A.setProperty(r,i):A[r]=i))}(at(),Ht(),r,e,n,r[11],t,!1),bt}function Qh(e,n,t,r,i){var l=i?"class":"style";xg(e,t,n.inputs[l],l,r)}function Le(e,n,t,r){var i=pe(),o=at(),l=20+e,m=i[11],A=i[l]=vh(m,n,function Jw(){return We.lFrame.currentNamespace}()),L=o.firstCreatePass?function Yk(e,n,t,r,i,o,l){var m=n.consts,L=jo(n,e,2,i,di(m,o));return Ph(n,t,L,di(m,l)),null!==L.attrs&&sl(L,L.attrs,!1),null!==L.mergedAttrs&&sl(L,L.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,L),L}(l,o,i,0,n,t,r):o.data[l];Lr(L,!0);var B=L.mergedAttrs;null!==B&&Bu(m,A,B);var V=L.classes;null!==V&&Ch(m,A,V);var j=L.styles;return null!==j&&Xp(m,A,j),64!=(64&L.flags)&&Qu(o,i,A,L),0===function Pw(){return We.lFrame.elementDepthCount}()&&mn(A,i),function Fw(){We.lFrame.elementDepthCount++}(),Mu(L)&&(Oh(o,i,L),function vg(e,n,t){if(Sc(n))for(var i=n.directiveEnd,o=n.directiveStart;o<i;o++){var l=e.data[o];l.contentQueries&&l.contentQueries(1,t[o],o)}}(o,L,i)),null!==r&&Ih(i,L),Le}function Re(){var e=Jt();Oc()?function Ic(){We.lFrame.isParent=!1}():Lr(e=e.parent,!1);var n=e;!function Bw(){We.lFrame.elementDepthCount--}();var t=at();return t.firstCreatePass&&(Iu(t,e),Sc(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function nS(e){return 0!=(16&e.flags)}(n)&&Qh(t,n,pe(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function rS(e){return 0!=(32&e.flags)}(n)&&Qh(t,n,pe(),n.stylesWithoutHost,!1),Re}function _n(e,n,t,r){return Le(e,n,t,r),Re(),_n}function Yi(){return pe()}function Ma(e){return!!e&&"function"==typeof e.then}var nf=function vm(e){return!!e&&"function"==typeof e.subscribe};function vt(e,n,t,r){var i=pe(),o=at(),l=Jt();return function gm(e,n,t,r,i,o,l,m){var A=Mu(r),B=e.firstCreatePass&&Rg(e),V=n[8],j=Mg(n),q=!0;if(3&r.type||m){var te=rr(r,n),se=m?m(te):te,ue=j.length,le=m?function(gu){return m(Gt(gu[r.index]))}:r.index;if($t(t)){var ae=null;if(!m&&A&&(ae=function Zk(e,n,t,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var l=i[o];if(l===t&&i[o+1]===r){var m=n[7],A=i[o+2];return m.length>A?m[A]:null}"string"==typeof l&&(o+=2)}return null}(e,n,i,r.index)),null!==ae)(ae.__ngLastListenerFn__||ae).__ngNextListenerFn__=o,ae.__ngLastListenerFn__=o,q=!1;else{o=rf(r,n,V,o,!1);var Ee=t.listen(se,i,o);j.push(o,Ee),B&&B.push(i,le,ue,ue+1)}}else o=rf(r,n,V,o,!0),se.addEventListener(i,o,l),j.push(o),B&&B.push(i,le,ue,l)}else o=rf(r,n,V,o,!1);var tt,ke=r.outputs;if(q&&null!==ke&&(tt=ke[i])){var Ge=tt.length;if(Ge)for(var Pt=0;Pt<Ge;Pt+=2){var pu=n[tt[Pt]][tt[Pt+1]].subscribe(o),ks=j.length;j.push(o,pu),B&&B.push(i,r.index,ks,-(ks+1))}}}(o,i,i[11],l,e,n,!!t,r),vt}function mm(e,n,t,r){try{return!1!==t(r)}catch(i){return Lg(e,i),!1}}function rf(e,n,t,r,i){return function o(l){if(l===Function)return r;var m=2&e.flags?Gn(e.index,n):n;0==(32&n[2])&&Nh(m);for(var A=mm(n,0,r,l),L=o.__ngNextListenerFn__;L;)A=mm(n,0,L,l)&&A,L=L.__ngNextListenerFn__;return i&&!1===A&&(l.preventDefault(),l.returnValue=!1),A}}function Ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return zw(e)}function Am(e,n,t,r,i){for(var o=e[t+1],l=null===n,m=r?_r(o):Qr(o),A=!1;0!==m&&(!1===A||l);){var B=e[m+1];iD(e[m],n)&&(A=!0,e[m+1]=r?Sh(B):bh(B)),m=r?_r(B):Qr(B)}A&&(e[t+1]=r?bh(o):Sh(o))}function iD(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&$o(e,n)>=0}function ll(e,n){return function br(e,n,t,r){var i=pe(),o=at(),l=function Zr(e){var n=We.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}(2);o.firstUpdatePass&&function Fm(e,n,t,r){var i=e.data;if(null===i[t+1]){var o=i[kn()],l=function Pm(e,n){return n>=e.expandoStartIndex}(e,t);(function Hm(e,n){return 0!=(e.flags&(n?16:32))})(o,r)&&null===n&&!l&&(n=!1),n=function dD(e,n,t,r){var i=function Fc(e){var n=We.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e),o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Ra(t=sf(null,e,n,t,r),n.attrs,r),o=null);else{var m=n.directiveStylingLast;if(-1===m||e[m]!==i)if(t=sf(i,e,n,t,r),null===o){var L=function vD(e,n,t){var r=t?n.classBindings:n.styleBindings;if(0!==Qr(r))return e[_r(r)]}(e,n,r);void 0!==L&&Array.isArray(L)&&function pD(e,n,t,r){e[_r(t?n.classBindings:n.styleBindings)]=r}(e,n,r,L=Ra(L=sf(null,e,n,L[1],r),n.attrs,r))}else o=function gD(e,n,t){for(var r=void 0,i=n.directiveEnd,o=1+n.directiveStylingLast;o<i;o++)r=Ra(r,e[o].hostAttrs,t);return Ra(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function nD(e,n,t,r,i,o){var l=o?n.classBindings:n.styleBindings,m=_r(l),A=Qr(l);e[r]=t;var B,L=!1;if(Array.isArray(t)?(null===(B=t[1])||$o(t,B)>0)&&(L=!0):B=t,i)if(0!==A){var q=_r(e[m+1]);e[r+1]=tl(q,m),0!==q&&(e[q+1]=wh(e[q+1],r)),e[m+1]=function fE(e,n){return 131071&e|n<<17}(e[m+1],r)}else e[r+1]=tl(m,0),0!==m&&(e[m+1]=wh(e[m+1],r)),m=r;else e[r+1]=tl(A,0),0===m?m=r:e[A+1]=wh(e[A+1],r),A=r;L&&(e[r+1]=bh(e[r+1])),Am(e,B,r,!0),Am(e,B,r,!1),function rD(e,n,t,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&$o(o,n)>=0&&(t[r+1]=Sh(t[r+1]))}(n,B,e,r,o),l=tl(m,A),o?n.classBindings=l:n.styleBindings=l}(i,o,n,t,l,r)}}(o,e,l,r),n!==ze&&yn(i,l,n)&&function Nm(e,n,t,r,i,o,l,m){if(3&n.type){var A=e.data,L=A[m+1];cl(function ig(e){return 1==(1&e)}(L)?$m(A,n,t,i,Qr(L),l):void 0)||(cl(o)||function rg(e){return 2==(2&e)}(L)&&(o=$m(A,null,t,i,m,l)),function eE(e,n,t,r,i){var o=$t(e);if(n)i?o?e.addClass(t,r):t.classList.add(r):o?e.removeClass(t,r):t.classList.remove(r);else{var l=-1===r.indexOf("-")?void 0:Kn.DashCase;if(null==i)o?e.removeStyle(t,r,l):t.style.removeProperty(r);else{var m="string"==typeof i&&i.endsWith("!important");m&&(i=i.slice(0,-10),l|=Kn.Important),o?e.setStyle(t,r,i,l):t.style.setProperty(r,i,m?"important":"")}}}(r,l,Ru(kn(),t),i,o))}}(o,o.data[kn()],i,i[11],e,i[l+1]=function _D(e,n){return null==e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Qe(mi(e)))),e}(n,t),r,l)}(e,n,null,!0),ll}function sf(e,n,t,r,i){var o=null,l=t.directiveEnd,m=t.directiveStylingLast;for(-1===m?m=t.directiveStart:m++;m<l&&(r=Ra(r,(o=n[m]).hostAttrs,i),o!==e);)m++;return null!==e&&(t.directiveStylingLast=m),r}function Ra(e,n,t){var r=t?1:2,i=-1;if(null!==n)for(var o=0;o<n.length;o++){var l=n[o];"number"==typeof l?i=l:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),qn(e,l,!!t||n[++o]))}return void 0===e?null:e}function $m(e,n,t,r,i,o){for(var l=null===n,m=void 0;i>0;){var A=e[i],L=Array.isArray(A),B=L?A[1]:A,V=null===B,j=t[i+1];j===ze&&(j=V?Ct:void 0);var q=V?qc(j,r):B===r?j:void 0;if(L&&!cl(q)&&(q=qc(A,r)),cl(q)&&(m=q,l))return m;var te=e[i+1];i=l?_r(te):Qr(te)}if(null!==n){var se=o?n.residualClasses:n.residualStyles;null!=se&&(m=qc(se,r))}return m}function cl(e){return void 0!==e}function ot(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=pe(),r=at(),i=e+20,o=r.firstCreatePass?jo(r,i,1,n,null):r.data[i],l=t[i]=dh(t[11],n);Qu(r,t,l,o),Lr(o,!1)}function hl(e,n,t){var r=pe(),i=function Jo(e,n,t,r){return yn(e,Lo(),t)?n+Oe(t)+r:ze}(r,e,n,t);return i!==ze&&ei(r,kn(),i),hl}var fl="en-US";function PA(e,n,t){var r=at();if(r.firstCreatePass){var i=mr(e);lf(t,r.data,r.blueprint,i,!0),lf(n,r.data,r.blueprint,i,!1)}}function lf(e,n,t,r,i){if(e=Ue(e),Array.isArray(e))for(var o=0;o<e.length;o++)lf(e[o],n,t,r,i);else{var l=at(),m=pe(),A=Ko(e)?e:Ue(e.provide),L=Bg(e),B=Jt(),V=1048575&B.providerIndexes,j=B.directiveStart,q=B.providerIndexes>>20;if(Ko(e)||!e.multi){var te=new ra(L,i,de),se=hf(A,n,i?V:V+q,j);-1===se?(Uu(oa(B,m),l,A),cf(l,e,n.length),n.push(A),B.directiveStart++,B.directiveEnd++,i&&(B.providerIndexes+=1048576),t.push(te),m.push(te)):(t[se]=te,m[se]=te)}else{var ue=hf(A,n,V+q,j),le=hf(A,n,V,V+q),me=le>=0&&t[le];if(i&&!me||!i&&!(ue>=0&&t[ue])){Uu(oa(B,m),l,A);var Ee=function NA(e,n,t,r,i){var o=new ra(e,t,de);return o.multi=[],o.index=n,o.componentProviders=0,Oy(o,i,r&&!t),o}(i?BA:FA,t.length,i,r,L);!i&&me&&(t[le].providerFactory=Ee),cf(l,e,n.length,0),n.push(A),B.directiveStart++,B.directiveEnd++,i&&(B.providerIndexes+=1048576),t.push(Ee),m.push(Ee)}else cf(l,e,ue>-1?ue:le,Oy(t[i?le:ue],L,!i&&r));!i&&r&&me&&t[le].componentProviders++}}}function cf(e,n,t,r){var i=Ko(n),o=function ok(e){return!!e.useClass}(n);if(i||o){var A=(o?Ue(n.useClass):n).prototype.ngOnDestroy;if(A){var L=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){var B=L.indexOf(t);-1===B?L.push(t,[r,A]):L[B+1].push(r,A)}else L.push(t,A)}}}function Oy(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function hf(e,n,t,r){for(var i=t;i<r;i++)if(n[i]===e)return i;return-1}function FA(e,n,t,r){return ff(this.multi,[])}function BA(e,n,t,r){var o,i=this.multi;if(this.providerFactory){var l=this.providerFactory.componentProviders,m=sa(t,t[1],this.providerFactory.index,r);ff(i,o=m.slice(0,l));for(var A=l;A<m.length;A++)o.push(m[A])}else ff(i,o=[]);return o}function ff(e,n){for(var t=0;t<e.length;t++)n.push((0,e[t])());return n}function It(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(t){t.providersResolver=function(r,i){return PA(r,i?i(e):e,n)}}}var $A=w(function e(){g(this,e)}),Iy=w(function e(){g(this,e)}),UA=function(){function e(){g(this,e)}return w(e,[{key:"resolveComponentFactory",value:function(t){throw function HA(e){var n=Error("No component factory found for ".concat(Qe(e),". Did you add it to @NgModule.entryComponents?"));return n.ngComponent=e,n}(t)}}]),e}(),Ia=function(){var e=w(function n(){g(this,n)});return e.NULL=new UA,e}();function VA(){return ls(Jt(),pe())}function ls(e,n){return new hn(rr(e,n))}var hn=function(){var e=w(function n(t){g(this,n),this.nativeElement=t});return e.__NG_ELEMENT_ID__=VA,e}();function WA(e){return e instanceof hn?e.nativeElement:e}var Fy=w(function e(){g(this,e)}),Sr=function(){var e=w(function n(){g(this,n)});return e.__NG_ELEMENT_ID__=function(){return function zA(){var e=pe(),t=Gn(Jt().index,e);return function jA(e){return e[11]}(Tr(t)?t:e)}()},e}(),GA=function(){var e=w(function n(){g(this,n)});return e.\u0275prov=Ve({token:e,providedIn:"root",factory:function(){return null}}),e}(),Pa=w(function e(n){g(this,e),this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}),qA=new Pa("13.3.4"),df={};function ml(e,n,t,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==t;){var o=n[t.index];if(null!==o&&r.push(Gt(o)),gr(o))for(var l=10;l<o.length;l++){var m=o[l],A=m[1].firstChild;null!==A&&ml(m[1],m,A,r)}var L=t.type;if(8&L)ml(e,n,t.child,r);else if(32&L)for(var B=ch(t,n),V=void 0;V=B();)r.push(V);else if(16&L){var j=Gp(n,t);if(Array.isArray(j))r.push.apply(r,T(j));else{var q=ba(n[16]);ml(q[1],q,j,r,!0)}}t=i?t.projectionNext:t.next}return r}var Fa=function(){function e(n,t){g(this,e),this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}return w(e,[{key:"rootNodes",get:function(){var t=this._lView,r=t[1];return ml(r,t,r.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(t){this._lView[8]=t}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(gr(t)){var r=t[8],i=r?r.indexOf(this):-1;i>-1&&(ph(t,i),Wu(r,i))}this._attachedToViewContainer=!1}Bp(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){yg(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Nh(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Hh(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function KE(e,n,t){Lu(!0);try{Hh(e,n,t)}finally{Lu(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Ie(902,"");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null,function j1(e,n){wa(e,n,n[11],2,null,null)}(this._lView[1],this._lView)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Ie(902,"");this._appRef=t}}]),e}(),KA=function(e){v(t,e);var n=c(t);function t(r){var i;return g(this,t),(i=n.call(this,r))._view=r,i}return w(t,[{key:"detectChanges",value:function(){Ag(this._view)}},{key:"checkNoChanges",value:function(){!function XE(e){Lu(!0);try{Ag(e)}finally{Lu(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),t}(Fa),By=function(e){v(t,e);var n=c(t);function t(r){var i;return g(this,t),(i=n.call(this)).ngModule=r,i}return w(t,[{key:"resolveComponentFactory",value:function(i){var o=vn(i);return new vf(o,this.ngModule)}}]),t}(Ia);function Ny(e){var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}var vf=function(e){v(t,e);var n=c(t);function t(r,i){var o;return g(this,t),(o=n.call(this)).componentDef=r,o.ngModule=i,o.componentType=r.type,o.selector=function cE(e){return e.map(lE).join(",")}(r.selectors),o.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],o.isBoundToModule=!!i,o}return w(t,[{key:"inputs",get:function(){return Ny(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ny(this.componentDef.outputs)}},{key:"create",value:function(i,o,l,m){var ae,me,A=(m=m||this.ngModule)?function YA(e,n){return{get:function(r,i,o){var l=e.get(r,df,o);return l!==df||i===df?l:n.get(r,i,o)}}}(i,m.injector):i,L=A.get(Fy,Mv),B=A.get(GA,null),V=L.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",q=l?function mg(e,n,t){if($t(e))return e.selectRootElement(n,t===Rr.ShadowDom);var i="string"==typeof n?e.querySelector(n):n;return i.textContent="",i}(V,l,this.componentDef.encapsulation):vh(L.createRenderer(null,this.componentDef),j,function XA(e){var n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(j)),te=this.componentDef.onPush?576:528,se=function zg(e,n){return{components:[],scheduler:e||F1,clean:YE,playerHandler:n||null,flags:0}}(),ue=il(0,null,null,1,0,null,null,null,null,null),le=Sa(null,ue,se,te,null,null,L,V,B,A);xu(le);try{var Ee=function Wg(e,n,t,r,i,o){var l=t[1];t[20]=e;var A=jo(l,20,2,"#host",null),L=A.mergedAttrs=n.hostAttrs;null!==L&&(sl(A,L,!0),null!==e&&(Bu(i,e,L),null!==A.classes&&Ch(i,e,A.classes),null!==A.styles&&Xp(i,e,A.styles)));var B=r.createRenderer(e,n),V=Sa(t,pg(n),null,n.onPush?64:16,t[20],A,r,B,o||null,null);return l.firstCreatePass&&(Uu(oa(A,t),l,n.type),Sg(l,A),Eg(A,t.length,1)),ol(t,V),t[20]=V}(q,this.componentDef,le,L,V);if(q)if(l)Bu(V,q,["ng-version",qA.full]);else{var ke=function hE(e){for(var n=[],t=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!yr(i))break;i=o}r++}return{attrs:n,classes:t}}(this.componentDef.selectors[0]),tt=ke.attrs,Ge=ke.classes;tt&&Bu(V,q,tt),Ge&&Ge.length>0&&Ch(V,q,Ge.join(" "))}if(me=Tc(ue,20),void 0!==o)for(var Pt=me.projection=[],Ln=0;Ln<this.ngContentSelectors.length;Ln++){var jr=o[Ln];Pt.push(null!=jr?Array.from(jr):null)}ae=function jg(e,n,t,r,i){var o=t[1],l=function xE(e,n,t){var r=Jt();e.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),kg(e,r,n,zo(e,n,1,null),t));var o=sa(n,e,r.directiveStart,r);mn(o,n);var l=rr(r,n);return l&&mn(l,n),o}(o,t,n);if(r.components.push(l),e[8]=l,i&&i.forEach(function(B){return B(l,n)}),n.contentQueries){var m=Jt();n.contentQueries(1,l,m.directiveStart)}var A=Jt();return!o.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(vi(A.index),bg(t[1],A,0,A.directiveStart,A.directiveEnd,n),wg(n,l)),l}(Ee,this.componentDef,le,se,[_k]),Ea(ue,le,null)}finally{Ou()}return new ZA(this.componentType,ae,ls(me,le),le,me)}}]),t}(Iy),ZA=function(e){v(t,e);var n=c(t);function t(r,i,o,l,m){var A;return g(this,t),(A=n.call(this)).location=o,A._rootLView=l,A._tNode=m,A.instance=i,A.hostView=A.changeDetectorRef=new KA(l),A.componentType=r,A}return w(t,[{key:"injector",get:function(){return new Io(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(i){this.hostView.onDestroy(i)}}]),t}($A),ti=w(function e(){g(this,e)}),$y=w(function e(){g(this,e)}),cs=new Map;var Vy=function(e){v(t,e);var n=c(t);function t(r,i){var o;g(this,t),(o=n.call(this))._parent=i,o._bootstrapComponents=[],o.injector=a(o),o.destroyCbs=[],o.componentFactoryResolver=new By(a(o));var l=er(r);return o._bootstrapComponents=Ir(l.bootstrap),o._r3Injector=Fg(r,i,[{provide:ti,useValue:a(o)},{provide:Ia,useValue:o.componentFactoryResolver}],Qe(r)),o._r3Injector._resolveInjectorDefTypes(),o.instance=o.get(r),o}return w(t,[{key:"get",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dn.THROW_IF_NOT_FOUND,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:je.Default;return i===Dn||i===ti||i===Vh?this:this._r3Injector.get(i,o,l)}},{key:"destroy",value:function(){var i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(function(o){return o()}),this.destroyCbs=null}},{key:"onDestroy",value:function(i){this.destroyCbs.push(i)}}]),t}(ti),pf=function(e){v(t,e);var n=c(t);function t(r){var i;return g(this,t),(i=n.call(this)).moduleType=r,null!==er(r)&&function eM(e){var n=new Set;!function t(r){var i=er(r,!0),o=i.id;null!==o&&(function Hy(e,n,t){if(n&&n!==t)throw new Error("Duplicate module registered for ".concat(e," - ").concat(Qe(n)," vs ").concat(Qe(n.name)))}(o,cs.get(o),r),cs.set(o,r));var L,A=p(Ir(i.imports));try{for(A.s();!(L=A.n()).done;){var B=L.value;n.has(B)||(n.add(B),t(B))}}catch(V){A.e(V)}finally{A.f()}}(e)}(r),i}return w(t,[{key:"create",value:function(i){return new Vy(this.moduleType,i)}}]),t}($y);function yl(e,n,t){var r=function En(){var e=We.lFrame,n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}()+e,i=pe();return i[r]===ze?function Fr(e,n,t){return e[n]=t}(i,r,t?n.call(t):n()):function Aa(e,n){return e[n]}(i,r)}var mM=function(e){v(t,e);var n=c(t);function t(){var r,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g(this,t),(r=n.call(this)).__isAsync=i,r}return w(t,[{key:"emit",value:function(i){x(N(t.prototype),"next",this).call(this,i)}},{key:"subscribe",value:function(i,o,l){var m,A,L,B=i,V=o||function(){return null},j=l;if(i&&"object"==typeof i){var q=i;B=null===(m=q.next)||void 0===m?void 0:m.bind(q),V=null===(A=q.error)||void 0===A?void 0:A.bind(q),j=null===(L=q.complete)||void 0===L?void 0:L.bind(q)}this.__isAsync&&(V=gf(V),B&&(B=gf(B)),j&&(j=gf(j)));var te=x(N(t.prototype),"subscribe",this).call(this,{next:B,error:V,complete:j});return i instanceof X&&i.add(te),te}}]),t}(Fe);function gf(e){return function(n){setTimeout(e,void 0,n)}}var ht=mM;function yM(){return this._results[Xo()]()}var _M=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g(this,e),this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var t=Xo(),r=e.prototype;r[t]||(r[t]=yM)}return w(e,[{key:"changes",get:function(){return this._changes||(this._changes=new ht)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,r){return this._results.reduce(t,r)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,r){var i=this;i.dirty=!1;var o=ir(t);(this._changesDetected=!function vS(e,n,t){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(i._results,o,r))&&(i._results=o,i.length=o.length,i.last=o[this.length-1],i.first=o[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}();Symbol;var ni=function(){var e=w(function n(){g(this,n)});return e.__NG_ELEMENT_ID__=wM,e}(),bM=function(e){v(t,e);var n=c(t);function t(r,i,o){var l;return g(this,t),(l=n.call(this))._declarationLView=r,l._declarationTContainer=i,l.elementRef=o,l}return w(t,[{key:"createEmbeddedView",value:function(i){var o=this._declarationTContainer.tViews,l=Sa(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];var A=this._declarationLView[19];return null!==A&&(l[19]=A.createEmbeddedView(o)),Ea(o,l,i),new Fa(l)}}]),t}(ni);function wM(){return _l(Jt(),pe())}function _l(e,n){return 4&e.type?new bM(n,e,ls(e,n)):null}var Er=function(){var e=w(function n(){g(this,n)});return e.__NG_ELEMENT_ID__=SM,e}();function SM(){return Yy(Jt(),pe())}var Ky=function(e){v(t,e);var n=c(t);function t(r,i,o){var l;return g(this,t),(l=n.call(this))._lContainer=r,l._hostTNode=i,l._hostLView=o,l}return w(t,[{key:"element",get:function(){return ls(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Io(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var i=Hu(this._hostTNode,this._hostLView);if(jv(i)){var o=Oo(i,this._hostLView),l=xo(i);return new Io(o[1].data[l+8],o)}return new Io(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(i){var o=Xy(this._lContainer);return null!==o&&o[i]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(i,o,l){var m=i.createEmbeddedView(o||{});return this.insert(m,l),m}},{key:"createComponent",value:function(i,o,l,m,A){var B,L=i&&!function la(e){return"function"==typeof e}(i);if(L)B=o;else{var V=o||{};B=V.index,l=V.injector,m=V.projectableNodes,A=V.ngModuleRef}var j=L?i:new vf(vn(i)),q=l||this.parentInjector;if(!A&&null==j.ngModule){var se=(L?q:this.parentInjector).get(ti,null);se&&(A=se)}var ue=j.create(q,m,void 0,A);return this.insert(ue.hostView,B),ue}},{key:"insert",value:function(i,o){var l=i._lView,m=l[1];if(function Iw(e){return gr(e[3])}(l)){var A=this.indexOf(i);if(-1!==A)this.detach(A);else{var L=l[3],B=new Ky(L,L[6],L[3]);B.detach(B.indexOf(i))}}var V=this._adjustIndex(o),j=this._lContainer;!function G1(e,n,t,r){var i=10+r,o=t.length;r>0&&(t[i-1][4]=n),r<o-10?(n[4]=t[i],ep(t,10+r,n)):(t.push(n),n[4]=null),n[3]=t;var l=n[17];null!==l&&t!==l&&function q1(e,n){var t=e[9];n[16]!==n[3][3][16]&&(e[2]=!0),null===t?e[9]=[n]:t.push(n)}(l,n);var m=n[19];null!==m&&m.insertView(e),n[2]|=128}(m,l,j,V);var q=yh(V,j),te=l[11],se=Zu(te,j[7]);return null!==se&&function W1(e,n,t,r,i,o){r[0]=i,r[6]=n,wa(e,r,t,1,i,o)}(m,j[6],te,l,se,q),i.attachToViewContainerRef(),ep(mf(j),V,i),i}},{key:"move",value:function(i,o){return this.insert(i,o)}},{key:"indexOf",value:function(i){var o=Xy(this._lContainer);return null!==o?o.indexOf(i):-1}},{key:"remove",value:function(i){var o=this._adjustIndex(i,-1),l=ph(this._lContainer,o);l&&(Wu(mf(this._lContainer),o),Bp(l[1],l))}},{key:"detach",value:function(i){var o=this._adjustIndex(i,-1),l=ph(this._lContainer,o);return l&&null!=Wu(mf(this._lContainer),o)?new Fa(l):null}},{key:"_adjustIndex",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==i?this.length+o:i}}]),t}(Er);function Xy(e){return e[8]}function mf(e){return e[8]||(e[8]=[])}function Yy(e,n){var t,r=n[e.index];if(gr(r))t=r;else{var i;if(8&e.type)i=Gt(r);else{var o=n[11];i=o.createComment("");var l=rr(e,n);Ki(o,Zu(o,l),i,function J1(e,n){return $t(e)?e.nextSibling(n):n.nextSibling}(o,l),!1)}n[e.index]=t=Dg(r,n,i,e),ol(n,t)}return new Ky(t,e,n)}var AM=function(){function e(n){g(this,e),this.queryList=n,this.matches=null}return w(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),MM=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];g(this,e),this.queries=n}return w(e,[{key:"createEmbeddedView",value:function(t){var r=t.queries;if(null!==r){for(var i=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[],l=0;l<i;l++){var m=r.getByIndex(l);o.push(this.queries[m.indexInDeclarationView].clone())}return new e(o)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var r=0;r<this.queries.length;r++)null!==t_(t,r).matches&&this.queries[r].setDirty()}}]),e}(),Jy=w(function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;g(this,e),this.predicate=n,this.flags=t,this.read=r}),RM=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];g(this,e),this.queries=n}return w(e,[{key:"elementStart",value:function(t,r){for(var i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,r)}},{key:"elementEnd",value:function(t){for(var r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}},{key:"embeddedTView",value:function(t){for(var r=null,i=0;i<this.length;i++){var o=null!==r?r.length:0,l=this.getByIndex(i).embeddedTView(t,o);l&&(l.indexInDeclarationView=i,null!==r?r.push(l):r=[l])}return null!==r?new e(r):null}},{key:"template",value:function(t,r){for(var i=0;i<this.queries.length;i++)this.queries[i].template(t,r)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),e}(),TM=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;g(this,e),this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}return w(e,[{key:"elementStart",value:function(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,r){this.elementStart(t,r)}},{key:"embeddedTView",value:function(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var r=this._declarationNodeIndex,i=t.parent;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,r){var i=this.metadata.predicate;if(Array.isArray(i))for(var o=0;o<i.length;o++){var l=i[o];this.matchTNodeWithReadOption(t,r,LM(r,l)),this.matchTNodeWithReadOption(t,r,Vu(r,t,l,!1,!1))}else i===ni?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Vu(r,t,i,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,r,i){if(null!==i){var o=this.metadata.read;if(null!==o)if(o===hn||o===Er||o===ni&&4&r.type)this.addMatch(r.index,-2);else{var l=Vu(r,t,o,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,i)}}},{key:"addMatch",value:function(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}]),e}();function LM(e,n){var t=e.localNames;if(null!==t)for(var r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function OM(e,n,t,r){return-1===t?function xM(e,n){return 11&e.type?ls(e,n):4&e.type?_l(e,n):null}(n,e):-2===t?function IM(e,n,t){return t===hn?ls(n,e):t===ni?_l(n,e):t===Er?Yy(n,e):void 0}(e,n,r):sa(e,e[1],t,n)}function Zy(e,n,t,r){var i=n[19].queries[r];if(null===i.matches){for(var o=e.data,l=t.matches,m=[],A=0;A<l.length;A+=2){var L=l[A];m.push(L<0?null:OM(n,o[L],l[A+1],t.metadata.read))}i.matches=m}return i.matches}function yf(e,n,t,r){var i=e.queries.getByIndex(t),o=i.matches;if(null!==o)for(var l=Zy(e,n,i,t),m=0;m<o.length;m+=2){var A=o[m];if(A>0)r.push(l[m/2]);else{for(var L=o[m+1],B=n[-A],V=10;V<B.length;V++){var j=B[V];j[17]===j[3]&&yf(j[1],j,L,r)}if(null!==B[9])for(var q=B[9],te=0;te<q.length;te++){var se=q[te];yf(se[1],se,L,r)}}}return r}function hs(e){var n=pe(),t=at(),r=Pv();Bc(r+1);var i=t_(t,r);if(e.dirty&&Rv(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?yf(t,n,r,[]):Zy(t,n,i,r);e.reset(o,WA),e.notifyOnChanges()}return!0}return!1}function Cl(e,n,t){var r=at();r.firstCreatePass&&(function e_(e,n,t){null===e.queries&&(e.queries=new RM),e.queries.track(new TM(n,t))}(r,new Jy(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),function Qy(e,n,t){var r=new _M(4==(4&t));yg(e,n,r,r.destroy),null===n[19]&&(n[19]=new MM),n[19].queries.push(new AM(r))}(r,pe(),n)}function fs(){return function PM(e,n){return e[19].queries[n].queryList}(pe(),Pv())}function t_(e,n){return e.queries.getByIndex(n)}function Sl(){}var kf=new Je("Application Initializer"),Df=function(){var e=function(){function n(t){var r=this;g(this,n),this.appInits=t,this.resolve=Sl,this.reject=Sl,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(i,o){r.resolve=i,r.reject=o})}return w(n,[{key:"runInitializers",value:function(){var r=this;if(!this.initialized){var i=[],o=function(){r.done=!0,r.resolve()};if(this.appInits)for(var l=function(L){var B=r.appInits[L]();if(Ma(B))i.push(B);else if(nf(B)){var V=new Promise(function(j,q){B.subscribe({complete:j,error:q})});i.push(V)}},m=0;m<this.appInits.length;m++)l(m);Promise.all(i).then(function(){o()}).catch(function(A){r.reject(A)}),0===i.length&&o(),this.initialized=!0}}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(kf,8))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Ha=new Je("AppId",{providedIn:"root",factory:function y_(){return"".concat(Af()).concat(Af()).concat(Af())}});function Af(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var __=new Je("Platform Initializer"),El=new Je("Platform ID",{providedIn:"platform",factory:function(){return"unknown"}}),C_=new Je("appBootstrapListener"),eR=function(){var e=function(){function n(){g(this,n)}return w(n,[{key:"log",value:function(r){console.log(r)}},{key:"warn",value:function(r){console.warn(r)}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"platform"}),e}(),Ci=new Je("LocaleId",{providedIn:"root",factory:function(){return MS(Ci,je.Optional|je.SkipSelf)||function tR(){return"undefined"!=typeof $localize&&$localize.locale||fl}()}}),rR=w(function e(n,t){g(this,e),this.ngModuleFactory=n,this.componentFactories=t}),b_=function(){var e=function(){function n(){g(this,n)}return w(n,[{key:"compileModuleSync",value:function(r){return new pf(r)}},{key:"compileModuleAsync",value:function(r){return Promise.resolve(this.compileModuleSync(r))}},{key:"compileModuleAndAllComponentsSync",value:function(r){var i=this.compileModuleSync(r),l=Ir(er(r).declarations).reduce(function(m,A){var L=vn(A);return L&&m.push(new vf(L)),m},[]);return new rR(i,l)}},{key:"compileModuleAndAllComponentsAsync",value:function(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}},{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(r){}},{key:"getModuleId",value:function(r){}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),oR=function(){return Promise.resolve(0)}();function Mf(e){"undefined"==typeof Zone?oR.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Cn=function(){function e(n){var t=n.enableLongStackTrace,r=void 0!==t&&t,i=n.shouldCoalesceEventChangeDetection,o=void 0!==i&&i,l=n.shouldCoalesceRunChangeDetection,m=void 0!==l&&l;if(g(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ht(!1),this.onMicrotaskEmpty=new ht(!1),this.onStable=new ht(!1),this.onError=new ht(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var A=this;A._nesting=0,A._outer=A._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(A._inner=A._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(A._inner=A._inner.fork(Zone.longStackTraceZoneSpec)),A.shouldCoalesceEventChangeDetection=!m&&o,A.shouldCoalesceRunChangeDetection=m,A.lastRequestAnimationFrameId=-1,A.nativeRequestAnimationFrame=function sR(){var e=mt.requestAnimationFrame,n=mt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&n){var t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);var r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function lR(e){var n=function(){!function uR(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(mt,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Tf(e),e.isCheckStableRunning=!0,Rf(e),e.isCheckStableRunning=!1},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Tf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(r,i,o,l,m,A){try{return w_(e),r.invokeTask(o,l,m,A)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&n(),S_(e)}},onInvoke:function(r,i,o,l,m,A,L){try{return w_(e),r.invoke(o,l,m,A,L)}finally{e.shouldCoalesceRunChangeDetection&&n(),S_(e)}},onHasTask:function(r,i,o,l){r.hasTask(o,l),i===o&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,Tf(e),Rf(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:function(r,i,o,l){return r.handleError(o,l),e.runOutsideAngular(function(){return e.onError.emit(l)}),!1}})}(A)}return w(e,[{key:"run",value:function(t,r,i){return this._inner.run(t,r,i)}},{key:"runTask",value:function(t,r,i,o){var l=this._inner,m=l.scheduleEventTask("NgZoneEvent: "+o,t,aR,Sl,Sl);try{return l.runTask(m,r,i)}finally{l.cancelTask(m)}}},{key:"runGuarded",value:function(t,r,i){return this._inner.runGuarded(t,r,i)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),aR={};function Rf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Tf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function w_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function S_(e){e._nesting--,Rf(e)}var cR=function(){function e(){g(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ht,this.onMicrotaskEmpty=new ht,this.onStable=new ht,this.onError=new ht}return w(e,[{key:"run",value:function(t,r,i){return t.apply(r,i)}},{key:"runGuarded",value:function(t,r,i){return t.apply(r,i)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,r,i,o){return t.apply(r,i)}}]),e}(),Lf=function(){var e=function(){function n(t){var r=this;g(this,n),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){r.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return w(n,[{key:"_watchAngularEvents",value:function(){var r=this;this._ngZone.onUnstable.subscribe({next:function(){r._didWork=!0,r._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){r._ngZone.onStable.subscribe({next:function(){Cn.assertNotInAngularZone(),Mf(function(){r._isZoneStable=!0,r._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var r=this;if(this.isStable())Mf(function(){for(;0!==r._callbacks.length;){var o=r._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(r._didWork)}r._didWork=!1});else{var i=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(o){return!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(r){return{source:r.source,creationLocation:r.creationLocation,data:r.data}}):[]}},{key:"addCallback",value:function(r,i,o){var l=this,m=-1;i&&i>0&&(m=setTimeout(function(){l._callbacks=l._callbacks.filter(function(A){return A.timeoutId!==m}),r(l._didWork,l.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:m,updateCb:o})}},{key:"whenStable",value:function(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(r,i,o){return[]}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(Cn))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),hR=function(){var e=function(){function n(){g(this,n),this._applications=new Map,xf.addToWindow(this)}return w(n,[{key:"registerApplication",value:function(r,i){this._applications.set(r,i)}},{key:"unregisterApplication",value:function(r){this._applications.delete(r)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(r){return this._applications.get(r)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(r){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return xf.findTestabilityInTree(this,r,i)}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"platform"}),e}(),fR=function(){function e(){g(this,e)}return w(e,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,r,i){return null}}]),e}(),xf=new fR,Zi=null,E_=new Je("AllowMultipleToken"),k_=new Je("PlatformOnDestroy");function vR(e,n,t){var r=new pf(t);return Promise.resolve(r)}var D_=w(function e(n,t){g(this,e),this.name=n,this.token=t});function gR(e){if(Zi&&!Zi.get(E_,!1))throw new Ie(400,"");Zi=e;var t=e.get(M_),r=e.get(__,null);return r&&r.forEach(function(i){return i()}),t}function A_(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(n),i=new Je(r);return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=Of();if(!l||l.injector.get(E_,!1)){var m=[].concat(T(t),T(o),[{provide:i,useValue:!0}]);e?e(m):gR(yR(m,r))}return mR()}}function mR(e){var n=Of();if(!n)throw new Ie(401,"");return n}function yR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return Dn.create({name:n,providers:[{provide:Wh,useValue:"platform"},{provide:k_,useValue:function(){return Zi=null}}].concat(T(e))})}function Of(){var e;return null!==(e=null==Zi?void 0:Zi.get(M_))&&void 0!==e?e:null}var M_=function(){var e=function(){function n(t){g(this,n),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return w(n,[{key:"bootstrapModuleFactory",value:function(r,i){var o=this,L=function _R(e,n){return"noop"===e?new cR:("zone.js"===e?void 0:e)||new Cn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)})}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),B=[{provide:Cn,useValue:L}];return L.run(function(){var V=Dn.create({providers:B,parent:o.injector,name:r.moduleType.name}),j=r.create(V),q=j.injector.get(Ca,null);if(!q)throw new Ie(402,"");return L.runOutsideAngular(function(){var se=L.onError.subscribe({next:function(le){q.handleError(le)}});j.onDestroy(function(){Pf(o._modules,j),se.unsubscribe()})}),function CR(e,n,t){try{var r=t();return Ma(r)?r.catch(function(i){throw n.runOutsideAngular(function(){return e.handleError(i)}),i}):r}catch(i){throw n.runOutsideAngular(function(){return e.handleError(i)}),i}}(q,L,function(){var se=j.injector.get(Df);return se.runInitializers(),se.donePromise.then(function(){return function jD(e){jn(e,"Expected localeId to be defined"),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}(j.injector.get(Ci,fl)||fl),o._moduleDoBootstrap(j),j})})})}},{key:"bootstrapModule",value:function(r){var i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=R_({},o);return vR(0,0,r).then(function(m){return i.bootstrapModuleFactory(m,l)})}},{key:"_moduleDoBootstrap",value:function(r){var i=r.injector.get(If);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(function(l){return i.bootstrap(l)});else{if(!r.instance.ngDoBootstrap)throw new Ie(403,"");r.instance.ngDoBootstrap(i)}this._modules.push(r)}},{key:"onDestroy",value:function(r){this._destroyListeners.push(r)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Ie(404,"");this._modules.slice().forEach(function(o){return o.destroy()}),this._destroyListeners.forEach(function(o){return o()});var i=this._injector.get(k_,null);null==i||i(),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(Dn))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"platform"}),e}();function R_(e,n){return Array.isArray(n)?n.reduce(R_,e):Object.assign(Object.assign({},e),n)}var If=function(){var e=function(){function n(t,r,i,o){var l=this;g(this,n),this._zone=t,this._injector=r,this._exceptionHandler=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run(function(){l.tick()})}});var m=new xe(function(L){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular(function(){L.next(l._stable),L.complete()})}),A=new xe(function(L){var B;l._zone.runOutsideAngular(function(){B=l._zone.onStable.subscribe(function(){Cn.assertNotInAngularZone(),Mf(function(){!l._stable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks&&(l._stable=!0,L.next(!0))})})});var V=l._zone.onUnstable.subscribe(function(){Cn.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular(function(){L.next(!1)}))});return function(){B.unsubscribe(),V.unsubscribe()}});this.isStable=Vn(m,A.pipe(dn()))}return w(n,[{key:"bootstrap",value:function(r,i){var m,o=this;if(!this._initStatus.done)throw new Ie(405,"");m=r instanceof Iy?r:this._injector.get(Ia).resolveComponentFactory(r),this.componentTypes.push(m.componentType);var L=function pR(e){return e.isBoundToModule}(m)?void 0:this._injector.get(ti),V=m.create(Dn.NULL,[],i||m.selector,L),j=V.location.nativeElement,q=V.injector.get(Lf,null),te=q&&V.injector.get(hR);return q&&te&&te.registerApplication(j,q),V.onDestroy(function(){o.detachView(V.hostView),Pf(o.components,V),te&&te.unregisterApplication(j)}),this._loadComponent(V),V}},{key:"tick",value:function(){var r=this;if(this._runningTick)throw new Ie(101,"");try{this._runningTick=!0;var l,o=p(this._views);try{for(o.s();!(l=o.n()).done;)l.value.detectChanges()}catch(V){o.e(V)}finally{o.f()}}catch(V){this._zone.runOutsideAngular(function(){return r._exceptionHandler.handleError(V)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(r){var i=r;this._views.push(i),i.attachToAppRef(this)}},{key:"detachView",value:function(r){var i=r;Pf(this._views,i),i.detachFromAppRef()}},{key:"_loadComponent",value:function(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(C_,[]).concat(this._bootstrapListeners).forEach(function(o){return o(r)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(r){return r.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(Cn),Te(Dn),Te(Ca),Te(Df))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function Pf(e,n){var t=e.indexOf(n);t>-1&&e.splice(t,1)}var vs=function(){var e=w(function n(){g(this,n)});return e.__NG_ELEMENT_ID__=SR,e}();function SR(e){return function ER(e,n,t){if(Au(e)&&!t){var r=Gn(e.index,n);return new Fa(r,r)}return 47&e.type?new Fa(n[16],n):null}(Jt(),pe(),16==(16&e))}var F_=function(){function e(){g(this,e)}return w(e,[{key:"supports",value:function(t){return Da(t)}},{key:"create",value:function(t){return new MR(t)}}]),e}(),AR=function(n,t){return t},MR=function(){function e(n){g(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||AR}return w(e,[{key:"forEachItem",value:function(t){var r;for(r=this._itHead;null!==r;r=r._next)t(r)}},{key:"forEachOperation",value:function(t){for(var r=this._itHead,i=this._removalsHead,o=0,l=null;r||i;){var m=!i||r&&r.currentIndex<N_(i,o,l)?r:i,A=N_(m,o,l),L=m.currentIndex;if(m===i)o--,i=i._nextRemoved;else if(r=r._next,null==m.previousIndex)o++;else{l||(l=[]);var B=A-o,V=L-o;if(B!=V){for(var j=0;j<B;j++){var q=j<l.length?l[j]:l[j]=0,te=q+j;V<=te&&te<B&&(l[j]=q+1)}l[m.previousIndex]=V-B}}A!==L&&t(m,A,L)}}},{key:"forEachPreviousItem",value:function(t){var r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}},{key:"forEachAddedItem",value:function(t){var r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}},{key:"forEachMovedItem",value:function(t){var r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}},{key:"forEachRemovedItem",value:function(t){var r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}},{key:"forEachIdentityChange",value:function(t){var r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Da(t))throw new Ie(900,"");return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var r=this;this._reset();var l,m,A,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(var L=0;L<this.length;L++)A=this._trackByFn(L,m=t[L]),null!==i&&Object.is(i.trackById,A)?(o&&(i=this._verifyReinsertion(i,m,A,L)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,A,L),o=!0),i=i._next}else l=0,function Rk(e,n){if(Array.isArray(e))for(var t=0;t<e.length;t++)n(e[t]);else for(var i,r=e[Xo()]();!(i=r.next()).done;)n(i.value)}(t,function(B){A=r._trackByFn(l,B),null!==i&&Object.is(i.trackById,A)?(o&&(i=r._verifyReinsertion(i,B,A,l)),Object.is(i.item,B)||r._addIdentityChange(i,B)):(i=r._mismatch(i,B,A,l),o=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,r,i,o){var l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,l,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,l,o)):t=this._addAfter(new RR(r,i),l,o),t}},{key:"_verifyReinsertion",value:function(t,r,i,o){var l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==l?t=this._reinsertAfter(l,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var o=t._prevRemoved,l=t._nextRemoved;return null===o?this._removalsHead=l:o._nextRemoved=l,null===l?this._removalsTail=o:l._prevRemoved=o,this._insertAfter(t,r,i),this._addToMoves(t,i),t}},{key:"_moveAfter",value:function(t,r,i){return this._unlink(t),this._insertAfter(t,r,i),this._addToMoves(t,i),t}},{key:"_addAfter",value:function(t,r,i){return this._insertAfter(t,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,r,i){var o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new B_),this._linkedRecords.put(t),t.currentIndex=i,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var r=t._prev,i=t._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,t}},{key:"_addToMoves",value:function(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new B_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),e}(),RR=w(function e(n,t){g(this,e),this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),TR=function(){function e(){g(this,e),this._head=null,this._tail=null}return w(e,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,r){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}},{key:"remove",value:function(t){var r=t._prevDup,i=t._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}]),e}(),B_=function(){function e(){g(this,e),this.map=new Map}return w(e,[{key:"put",value:function(t){var r=t.trackById,i=this.map.get(r);i||(i=new TR,this.map.set(r,i)),i.add(t)}},{key:"get",value:function(t,r){var o=this.map.get(t);return o?o.get(t,r):null}},{key:"remove",value:function(t){var r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function N_(e,n,t){var r=e.previousIndex;if(null===r)return r;var i=0;return t&&r<t.length&&(i=t[r]),r+n+i}var $_=function(){function e(){g(this,e)}return w(e,[{key:"supports",value:function(t){return t instanceof Map||Kh(t)}},{key:"create",value:function(){return new LR}}]),e}(),LR=function(){function e(){g(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return w(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var r;for(r=this._mapHead;null!==r;r=r._next)t(r)}},{key:"forEachPreviousItem",value:function(t){var r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}},{key:"forEachChangedItem",value:function(t){var r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}},{key:"forEachAddedItem",value:function(t){var r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}},{key:"forEachRemovedItem",value:function(t){var r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Kh(t)))throw new Ie(900,"")}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var r=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(l,m){if(i&&i.key===m)r._maybeAddToChanges(i,l),r._appendAfter=i,i=i._next;else{var A=r._getOrCreateRecordForKey(m,l);i=r._insertBeforeOrAppend(i,A)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,r){if(t){var i=t._prev;return r._next=t,r._prev=i,t._prev=r,i&&(i._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}},{key:"_getOrCreateRecordForKey",value:function(t,r){if(this._records.has(t)){var i=this._records.get(t);this._maybeAddToChanges(i,r);var o=i._prev,l=i._next;return o&&(o._next=l),l&&(l._prev=o),i._next=null,i._prev=null,i}var m=new xR(t);return this._records.set(t,m),m.currentValue=r,this._addToAdditions(m),m}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(function(i){return r(t[i],i)})}}]),e}(),xR=w(function e(n){g(this,e),this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function H_(){return new kl([new F_])}var kl=function(){var e=function(){function n(t){g(this,n),this.factories=t}return w(n,[{key:"find",value:function(r){var i=this.factories.find(function(l){return l.supports(r)});if(null!=i)return i;throw new Ie(901,"")}}],[{key:"create",value:function(r,i){if(null!=i){var o=i.factories.slice();r=r.concat(o)}return new n(r)}},{key:"extend",value:function(r){return{provide:n,useFactory:function(o){return n.create(r,o||H_())},deps:[[n,new va,new gi]]}}}]),n}();return e.\u0275prov=Ve({token:e,providedIn:"root",factory:H_}),e}();function U_(){return new Ua([new $_])}var Ua=function(){var e=function(){function n(t){g(this,n),this.factories=t}return w(n,[{key:"find",value:function(r){var i=this.factories.find(function(l){return l.supports(r)});if(i)return i;throw new Ie(901,"")}}],[{key:"create",value:function(r,i){if(i){var o=i.factories.slice();r=r.concat(o)}return new n(r)}},{key:"extend",value:function(r){return{provide:n,useFactory:function(o){return n.create(r,o||U_())},deps:[[n,new va,new gi]]}}}]),n}();return e.\u0275prov=Ve({token:e,providedIn:"root",factory:U_}),e}(),PR=A_(null,"core",[]),FR=function(){var e=w(function n(t){g(this,n)});return e.\u0275fac=function(t){return new(t||e)(Te(If))},e.\u0275mod=Pn({type:e}),e.\u0275inj=Sn({}),e}(),Dl=null;function Hr(){return Dl}var $R=w(function e(){g(this,e)}),Jn=new Je("DocumentToken"),eo=function(){var e=function(){function n(){g(this,n)}return w(n,[{key:"historyGo",value:function(r){throw new Error("Not implemented")}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ve({token:e,factory:function(){return function HR(){return Te(V_)}()},providedIn:"platform"}),e}(),UR=new Je("Location Initialized"),V_=function(){var e=function(n){v(r,n);var t=c(r);function r(i){var o;return g(this,r),(o=t.call(this))._doc=i,o._init(),o}return w(r,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return Hr().getBaseHref(this._doc)}},{key:"onPopState",value:function(o){var l=Hr().getGlobalEventTarget(this._doc,"window");return l.addEventListener("popstate",o,!1),function(){return l.removeEventListener("popstate",o)}}},{key:"onHashChange",value:function(o){var l=Hr().getGlobalEventTarget(this._doc,"window");return l.addEventListener("hashchange",o,!1),function(){return l.removeEventListener("hashchange",o)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(o){this.location.pathname=o}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(o,l,m){W_()?this._history.pushState(o,l,m):this.location.hash=m}},{key:"replaceState",value:function(o,l,m){W_()?this._history.replaceState(o,l,m):this.location.hash=m}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(o)}},{key:"getState",value:function(){return this._history.state}}]),r}(eo);return e.\u0275fac=function(t){return new(t||e)(Te(Jn))},e.\u0275prov=Ve({token:e,factory:function(){return function VR(){return new V_(Te(Jn))}()},providedIn:"platform"}),e}();function W_(){return!!window.history.pushState}function Uf(e,n){if(0==e.length)return n;if(0==n.length)return e;var t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function j_(e){var n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function ri(e){return e&&"?"!==e[0]?"?"+e:e}var ps=function(){var e=function(){function n(){g(this,n)}return w(n,[{key:"historyGo",value:function(r){throw new Error("Not implemented")}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ve({token:e,factory:function(){return function WR(e){var n=Te(Jn).location;return new z_(Te(eo),n&&n.origin||"")}()},providedIn:"root"}),e}(),Vf=new Je("appBaseHref"),z_=function(){var e=function(n){v(r,n);var t=c(r);function r(i,o){var l;if(g(this,r),(l=t.call(this))._platformLocation=i,l._removeListenerFns=[],null==o&&(o=l._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return l._baseHref=o,l}return w(r,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(o){return Uf(this._baseHref,o)}},{key:"path",value:function(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=this._platformLocation.pathname+ri(this._platformLocation.search),m=this._platformLocation.hash;return m&&o?"".concat(l).concat(m):l}},{key:"pushState",value:function(o,l,m,A){var L=this.prepareExternalUrl(m+ri(A));this._platformLocation.pushState(o,l,L)}},{key:"replaceState",value:function(o,l,m,A){var L=this.prepareExternalUrl(m+ri(A));this._platformLocation.replaceState(o,l,L)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var l,m,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(m=(l=this._platformLocation).historyGo)||void 0===m||m.call(l,o)}}]),r}(ps);return e.\u0275fac=function(t){return new(t||e)(Te(eo),Te(Vf,8))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),jR=function(){var e=function(n){v(r,n);var t=c(r);function r(i,o){var l;return g(this,r),(l=t.call(this))._platformLocation=i,l._baseHref="",l._removeListenerFns=[],null!=o&&(l._baseHref=o),l}return w(r,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var l=this._platformLocation.hash;return null==l&&(l="#"),l.length>0?l.substring(1):l}},{key:"prepareExternalUrl",value:function(o){var l=Uf(this._baseHref,o);return l.length>0?"#"+l:l}},{key:"pushState",value:function(o,l,m,A){var L=this.prepareExternalUrl(m+ri(A));0==L.length&&(L=this._platformLocation.pathname),this._platformLocation.pushState(o,l,L)}},{key:"replaceState",value:function(o,l,m,A){var L=this.prepareExternalUrl(m+ri(A));0==L.length&&(L=this._platformLocation.pathname),this._platformLocation.replaceState(o,l,L)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var l,m,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(m=(l=this._platformLocation).historyGo)||void 0===m||m.call(l,o)}}]),r}(ps);return e.\u0275fac=function(t){return new(t||e)(Te(eo),Te(Vf,8))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),Wf=function(){var e=function(){function n(t,r){var i=this;g(this,n),this._subject=new ht,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=j_(G_(o)),this._platformStrategy.onPopState(function(l){i._subject.emit({url:i.path(!0),pop:!0,state:l.state,type:l.type})})}return w(n,[{key:"path",value:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(r))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(r+ri(i))}},{key:"normalize",value:function(r){return n.stripTrailingSlash(function GR(e,n){return e&&n.startsWith(e)?n.substring(e.length):n}(this._baseHref,G_(r)))}},{key:"prepareExternalUrl",value:function(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}},{key:"go",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ri(i)),o)}},{key:"replaceState",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ri(i)),o)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var i,o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(o=(i=this._platformStrategy).historyGo)||void 0===o||o.call(i,r)}},{key:"onUrlChange",value:function(r){var i=this;this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(o){i._notifyUrlChangeListeners(o.url,o.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(o){return o(r,i)})}},{key:"subscribe",value:function(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}]),n}();return e.normalizeQueryParams=ri,e.joinWithSlash=Uf,e.stripTrailingSlash=j_,e.\u0275fac=function(t){return new(t||e)(Te(ps),Te(eo))},e.\u0275prov=Ve({token:e,factory:function(){return function zR(){return new Wf(Te(ps),Te(eo))}()},providedIn:"root"}),e}();function G_(e){return e.replace(/\/index.html$/,"")}function t0(e,n){n=encodeURIComponent(n);var r,t=p(e.split(";"));try{for(t.s();!(r=t.n()).done;){var i=r.value,o=i.indexOf("="),m=b(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),L=m[1];if(m[0].trim()===n)return decodeURIComponent(L)}}catch(B){t.e(B)}finally{t.f()}return null}var n0=function(){var e=function(){function n(t,r,i,o){g(this,n),this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return w(n,[{key:"klass",set:function(r){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof r?r.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(r){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof r?r.split(/\s+/):r,this._rawClass&&(Da(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var r=this._iterableDiffer.diff(this._rawClass);r&&this._applyIterableChanges(r)}else if(this._keyValueDiffer){var i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}},{key:"_applyKeyValueChanges",value:function(r){var i=this;r.forEachAddedItem(function(o){return i._toggleClass(o.key,o.currentValue)}),r.forEachChangedItem(function(o){return i._toggleClass(o.key,o.currentValue)}),r.forEachRemovedItem(function(o){o.previousValue&&i._toggleClass(o.key,!1)})}},{key:"_applyIterableChanges",value:function(r){var i=this;r.forEachAddedItem(function(o){if("string"!=typeof o.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Qe(o.item)));i._toggleClass(o.item,!0)}),r.forEachRemovedItem(function(o){return i._toggleClass(o.item,!1)})}},{key:"_applyClasses",value:function(r){var i=this;r&&(Array.isArray(r)||r instanceof Set?r.forEach(function(o){return i._toggleClass(o,!0)}):Object.keys(r).forEach(function(o){return i._toggleClass(o,!!r[o])}))}},{key:"_removeClasses",value:function(r){var i=this;r&&(Array.isArray(r)||r instanceof Set?r.forEach(function(o){return i._toggleClass(o,!1)}):Object.keys(r).forEach(function(o){return i._toggleClass(o,!1)}))}},{key:"_toggleClass",value:function(r,i){var o=this;(r=r.trim())&&r.split(/\s+/g).forEach(function(l){i?o._renderer.addClass(o._ngEl.nativeElement,l):o._renderer.removeClass(o._ngEl.nativeElement,l)})}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(kl),de(Ua),de(hn),de(Sr))},e.\u0275dir=Ne({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),Qf=function(){var e=function(){function n(t,r){g(this,n),this._viewContainer=t,this._context=new xT,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}return w(n,[{key:"ngIf",set:function(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}},{key:"ngIfThen",set:function(r){o0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(r){o0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(r,i){return!0}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(Er),de(ni))},e.\u0275dir=Ne({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),xT=w(function e(){g(this,e),this.$implicit=null,this.ngIf=null});function o0(e,n){if(n&&!n.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Qe(n),"'."))}var nd=function(){var e=function(){function n(t,r,i){g(this,n),this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}return w(n,[{key:"ngStyle",set:function(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}},{key:"_setStyle",value:function(r,i){var l=b(r.split("."),2),m=l[0],A=l[1];null!=(i=null!=i&&A?"".concat(i).concat(A):i)?this._renderer.setStyle(this._ngEl.nativeElement,m,i):this._renderer.removeStyle(this._ngEl.nativeElement,m)}},{key:"_applyChanges",value:function(r){var i=this;r.forEachRemovedItem(function(o){return i._setStyle(o.key,null)}),r.forEachAddedItem(function(o){return i._setStyle(o.key,o.currentValue)}),r.forEachChangedItem(function(o){return i._setStyle(o.key,o.currentValue)})}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(hn),de(Ua),de(Sr))},e.\u0275dir=Ne({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),u0=function(){var e=w(function n(){g(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Sn({}),e}(),l0="browser",uL=function(){var e=w(function n(){g(this,n)});return e.\u0275prov=Ve({token:e,providedIn:"root",factory:function(){return new lL(Te(Jn),window)}}),e}(),lL=function(){function e(n,t){g(this,e),this.document=n,this.window=t,this.offset=function(){return[0,0]}}return w(e,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var r=function cL(e,n){var t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var o=i.shadowRoot;if(o){var l=o.getElementById(n)||o.querySelector('[name="'.concat(n,'"]'));if(l)return l}i=r.nextNode()}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],o-l[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=c0(this.window.history)||c0(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(r){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),e}();function c0(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var Fl,od=w(function e(){g(this,e)}),hL=function(e){v(t,e);var n=c(t);function t(){var r;return g(this,t),(r=n.apply(this,arguments)).supportsDOMEvents=!0,r}return w(t)}($R),fL=function(e){v(t,e);var n=c(t);function t(){return g(this,t),n.apply(this,arguments)}return w(t,[{key:"onAndCancel",value:function(i,o,l){return i.addEventListener(o,l,!1),function(){i.removeEventListener(o,l,!1)}}},{key:"dispatchEvent",value:function(i,o){i.dispatchEvent(o)}},{key:"remove",value:function(i){i.parentNode&&i.parentNode.removeChild(i)}},{key:"createElement",value:function(i,o){return(o=o||this.getDefaultDocument()).createElement(i)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(i){return i.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(i){return i instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(i,o){return"window"===o?window:"document"===o?i:"body"===o?i.body:null}},{key:"getBaseHref",value:function(i){var o=function dL(){return(ja=ja||document.querySelector("base"))?ja.getAttribute("href"):null}();return null==o?null:function vL(e){(Fl=Fl||document.createElement("a")).setAttribute("href",e);var n=Fl.pathname;return"/"===n.charAt(0)?n:"/".concat(n)}(o)}},{key:"resetBaseElement",value:function(){ja=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(i){return t0(document.cookie,i)}}],[{key:"makeCurrent",value:function(){!function NR(e){Dl||(Dl=e)}(new t)}}]),t}(hL),ja=null,h0=new Je("TRANSITION_ID"),gL=[{provide:kf,useFactory:function pL(e,n,t){return function(){t.get(Df).donePromise.then(function(){for(var r=Hr(),i=n.querySelectorAll('style[ng-transition="'.concat(e,'"]')),o=0;o<i.length;o++)r.remove(i[o])})}},deps:[h0,Jn,Dn],multi:!0}],mL=function(){function e(){g(this,e)}return w(e,[{key:"addToWindow",value:function(t){mt.getAngularTestability=function(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=t.findTestabilityInTree(i,o);if(null==l)throw new Error("Could not find testability for element.");return l},mt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},mt.getAllAngularRootElements=function(){return t.getAllRootElements()},mt.frameworkStabilizers||(mt.frameworkStabilizers=[]),mt.frameworkStabilizers.push(function(o){var l=mt.getAllAngularTestabilities(),m=l.length,A=!1,L=function(V){A=A||V,0==--m&&o(A)};l.forEach(function(B){B.whenStable(L)})})}},{key:"findTestabilityInTree",value:function(t,r,i){if(null==r)return null;var o=t.getTestability(r);return null!=o?o:i?Hr().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null}}],[{key:"init",value:function(){!function dR(e){xf=e}(new e)}}]),e}(),yL=function(){var e=function(){function n(){g(this,n)}return w(n,[{key:"build",value:function(){return new XMLHttpRequest}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),Bl=new Je("EventManagerPlugins"),Nl=function(){var e=function(){function n(t,r){var i=this;g(this,n),this._zone=r,this._eventNameToPlugin=new Map,t.forEach(function(o){return o.manager=i}),this._plugins=t.slice().reverse()}return w(n,[{key:"addEventListener",value:function(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}},{key:"addGlobalEventListener",value:function(r,i,o){return this._findPluginFor(i).addGlobalEventListener(r,i,o)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(r){var i=this._eventNameToPlugin.get(r);if(i)return i;for(var o=this._plugins,l=0;l<o.length;l++){var m=o[l];if(m.supports(r))return this._eventNameToPlugin.set(r,m),m}throw new Error("No event manager plugin found for event ".concat(r))}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(Bl),Te(Cn))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),f0=function(){function e(n){g(this,e),this._doc=n}return w(e,[{key:"addGlobalEventListener",value:function(t,r,i){var o=Hr().getGlobalEventTarget(this._doc,t);if(!o)throw new Error("Unsupported event target ".concat(o," for event ").concat(r));return this.addEventListener(o,r,i)}}]),e}(),d0=function(){var e=function(){function n(){g(this,n),this._stylesSet=new Set}return w(n,[{key:"addStyles",value:function(r){var i=this,o=new Set;r.forEach(function(l){i._stylesSet.has(l)||(i._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}},{key:"onStylesAdded",value:function(r){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),za=function(){var e=function(n){v(r,n);var t=c(r);function r(i){var o;return g(this,r),(o=t.call(this))._doc=i,o._hostNodes=new Map,o._hostNodes.set(i.head,[]),o}return w(r,[{key:"_addStylesToHost",value:function(o,l,m){var A=this;o.forEach(function(L){var B=A._doc.createElement("style");B.textContent=L,m.push(l.appendChild(B))})}},{key:"addHost",value:function(o){var l=[];this._addStylesToHost(this._stylesSet,o,l),this._hostNodes.set(o,l)}},{key:"removeHost",value:function(o){var l=this._hostNodes.get(o);l&&l.forEach(v0),this._hostNodes.delete(o)}},{key:"onStylesAdded",value:function(o){var l=this;this._hostNodes.forEach(function(m,A){l._addStylesToHost(o,A,m)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(o){return o.forEach(v0)})}}]),r}(d0);return e.\u0275fac=function(t){return new(t||e)(Te(Jn))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}();function v0(e){Hr().remove(e)}var sd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ad=/%COMP%/g,_L="_nghost-".concat("%COMP%"),CL="_ngcontent-".concat("%COMP%");function $l(e,n,t){for(var r=0;r<n.length;r++){var i=n[r];Array.isArray(i)?$l(e,i,t):(i=i.replace(ad,e),t.push(i))}return t}function m0(e){return function(n){if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}var ud=function(){var e=function(){function n(t,r,i){g(this,n),this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ld(t)}return w(n,[{key:"createRenderer",value:function(r,i){if(!r||!i)return this.defaultRenderer;switch(i.encapsulation){case Rr.Emulated:var o=this.rendererByCompId.get(i.id);return o||(o=new EL(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(r),o;case 1:case Rr.ShadowDom:return new kL(this.eventManager,this.sharedStylesHost,r,i);default:if(!this.rendererByCompId.has(i.id)){var l=$l(i.id,i.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(Nl),Te(za),Te(Ha))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),ld=function(){function e(n){g(this,e),this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}return w(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,r){return r?document.createElementNS(sd[r]||r,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,r){t.appendChild(r)}},{key:"insertBefore",value:function(t,r,i){t&&t.insertBefore(r,i)}},{key:"removeChild",value:function(t,r){t&&t.removeChild(r)}},{key:"selectRootElement",value:function(t,r){var i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error('The selector "'.concat(t,'" did not match any elements'));return r||(i.textContent=""),i}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,r,i,o){if(o){r=o+":"+r;var l=sd[o];l?t.setAttributeNS(l,r,i):t.setAttribute(r,i)}else t.setAttribute(r,i)}},{key:"removeAttribute",value:function(t,r,i){if(i){var o=sd[i];o?t.removeAttributeNS(o,r):t.removeAttribute("".concat(i,":").concat(r))}else t.removeAttribute(r)}},{key:"addClass",value:function(t,r){t.classList.add(r)}},{key:"removeClass",value:function(t,r){t.classList.remove(r)}},{key:"setStyle",value:function(t,r,i,o){o&(Kn.DashCase|Kn.Important)?t.style.setProperty(r,i,o&Kn.Important?"important":""):t.style[r]=i}},{key:"removeStyle",value:function(t,r,i){i&Kn.DashCase?t.style.removeProperty(r):t.style[r]=""}},{key:"setProperty",value:function(t,r,i){t[r]=i}},{key:"setValue",value:function(t,r){t.nodeValue=r}},{key:"listen",value:function(t,r,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,r,m0(i)):this.eventManager.addEventListener(t,r,m0(i))}}]),e}(),EL=function(e){v(t,e);var n=c(t);function t(r,i,o,l){var m;g(this,t),(m=n.call(this,r)).component=o;var A=$l(l+"-"+o.id,o.styles,[]);return i.addStyles(A),m.contentAttr=function bL(e){return CL.replace(ad,e)}(l+"-"+o.id),m.hostAttr=function wL(e){return _L.replace(ad,e)}(l+"-"+o.id),m}return w(t,[{key:"applyToHost",value:function(i){x(N(t.prototype),"setAttribute",this).call(this,i,this.hostAttr,"")}},{key:"createElement",value:function(i,o){var l=x(N(t.prototype),"createElement",this).call(this,i,o);return x(N(t.prototype),"setAttribute",this).call(this,l,this.contentAttr,""),l}}]),t}(ld),kL=function(e){v(t,e);var n=c(t);function t(r,i,o,l){var m;g(this,t),(m=n.call(this,r)).sharedStylesHost=i,m.hostEl=o,m.shadowRoot=o.attachShadow({mode:"open"}),m.sharedStylesHost.addHost(m.shadowRoot);for(var A=$l(l.id,l.styles,[]),L=0;L<A.length;L++){var B=document.createElement("style");B.textContent=A[L],m.shadowRoot.appendChild(B)}return m}return w(t,[{key:"nodeOrShadowRoot",value:function(i){return i===this.hostEl?this.shadowRoot:i}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(i,o){return x(N(t.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(i),o)}},{key:"insertBefore",value:function(i,o,l){return x(N(t.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(i),o,l)}},{key:"removeChild",value:function(i,o){return x(N(t.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(i),o)}},{key:"parentNode",value:function(i){return this.nodeOrShadowRoot(x(N(t.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(i)))}}]),t}(ld),DL=function(){var e=function(n){v(r,n);var t=c(r);function r(i){return g(this,r),t.call(this,i)}return w(r,[{key:"supports",value:function(o){return!0}},{key:"addEventListener",value:function(o,l,m){var A=this;return o.addEventListener(l,m,!1),function(){return A.removeEventListener(o,l,m)}}},{key:"removeEventListener",value:function(o,l,m){return o.removeEventListener(l,m)}}]),r}(f0);return e.\u0275fac=function(t){return new(t||e)(Te(Jn))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),_0=["alt","control","meta","shift"],ML={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},C0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},RL={alt:function(n){return n.altKey},control:function(n){return n.ctrlKey},meta:function(n){return n.metaKey},shift:function(n){return n.shiftKey}},TL=function(){var e=function(n){v(r,n);var t=c(r);function r(i){return g(this,r),t.call(this,i)}return w(r,[{key:"supports",value:function(o){return null!=r.parseEventName(o)}},{key:"addEventListener",value:function(o,l,m){var A=r.parseEventName(l),L=r.eventCallback(A.fullKey,m,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Hr().onAndCancel(o,A.domEventName,L)})}}],[{key:"parseEventName",value:function(o){var l=o.toLowerCase().split("."),m=l.shift();if(0===l.length||"keydown"!==m&&"keyup"!==m)return null;var A=r._normalizeKey(l.pop()),L="";if(_0.forEach(function(V){var j=l.indexOf(V);j>-1&&(l.splice(j,1),L+=V+".")}),L+=A,0!=l.length||0===A.length)return null;var B={};return B.domEventName=m,B.fullKey=L,B}},{key:"getEventFullKey",value:function(o){var l="",m=function LL(e){var n=e.key;if(null==n){if(null==(n=e.keyIdentifier))return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===e.location&&C0.hasOwnProperty(n)&&(n=C0[n]))}return ML[n]||n}(o);return" "===(m=m.toLowerCase())?m="space":"."===m&&(m="dot"),_0.forEach(function(A){A!=m&&(0,RL[A])(o)&&(l+=A+".")}),l+=m}},{key:"eventCallback",value:function(o,l,m){return function(A){r.getEventFullKey(A)===o&&m.runGuarded(function(){return l(A)})}}},{key:"_normalizeKey",value:function(o){return"esc"===o?"escape":o}}]),r}(f0);return e.\u0275fac=function(t){return new(t||e)(Te(Jn))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),PL=[{provide:El,useValue:l0},{provide:__,useValue:function xL(){fL.makeCurrent(),mL.init()},multi:!0},{provide:Jn,useFactory:function IL(){return function Tw(e){Mc=e}(document),document},deps:[]}],FL=A_(PR,"browser",PL),BL=[{provide:Wh,useValue:"root"},{provide:Ca,useFactory:function OL(){return new Ca},deps:[]},{provide:Bl,useClass:DL,multi:!0,deps:[Jn,Cn,El]},{provide:Bl,useClass:TL,multi:!0,deps:[Jn]},{provide:ud,useClass:ud,deps:[Nl,za,Ha]},{provide:Fy,useExisting:ud},{provide:d0,useExisting:za},{provide:za,useClass:za,deps:[Jn]},{provide:Lf,useClass:Lf,deps:[Cn]},{provide:Nl,useClass:Nl,deps:[Bl,Cn]},{provide:od,useClass:yL,deps:[]}],NL=function(){var e=function(){function n(t){if(g(this,n),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return w(n,null,[{key:"withServerTransition",value:function(r){return{ngModule:n,providers:[{provide:Ha,useValue:r.appId},{provide:h0,useExisting:Ha},gL]}}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(e,12))},e.\u0275mod=Pn({type:e}),e.\u0275inj=Sn({providers:BL,imports:[u0,FR]}),e}();function Ke(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=Gr(n);return Tt(n,r)}"undefined"!=typeof window&&window;var Ar=function(e){v(t,e);var n=c(t);function t(r){var i;return g(this,t),(i=n.call(this))._value=r,i}return w(t,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(i){var o=x(N(t.prototype),"_subscribe",this).call(this,i);return!o.closed&&i.next(this._value),o}},{key:"getValue",value:function(){var l=this._value;if(this.hasError)throw this.thrownError;return this._throwIfClosed(),l}},{key:"next",value:function(i){x(N(t.prototype),"next",this).call(this,this._value=i)}}]),t}(Fe),qL=Array.isArray,KL=Object.getPrototypeOf,XL=Object.prototype,YL=Object.keys;function S0(e){if(1===e.length){var n=e[0];if(qL(n))return{args:n,keys:null};if(function JL(e){return e&&"object"==typeof e&&KL(e)===XL}(n)){var t=YL(n);return{args:t.map(function(r){return n[r]}),keys:t}}}return{args:e,keys:null}}var ZL=Array.isArray;function hd(e){return Xe(function(n){return function QL(e,n){return ZL(n)?e.apply(void 0,T(n)):e(n)}(e,n)})}function E0(e,n){return e.reduce(function(t,r,i){return t[r]=n[i],t},{})}function k0(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=Gr(n),i=Eo(n),o=S0(n),l=o.args,m=o.keys;if(0===l.length)return Tt([],r);var A=new xe(ex(l,r,m?function(L){return E0(m,L)}:De));return i?A.pipe(hd(i)):A}function ex(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:De;return function(r){D0(n,function(){for(var i=e.length,o=new Array(i),l=i,m=i,A=function(V){D0(n,function(){var j=Tt(e[V],n),q=!1;j.subscribe(_t(r,function(te){o[V]=te,q||(q=!0,m--),m||r.next(t(o.slice()))},function(){--l||r.complete()}))},r)},L=0;L<i;L++)A(L)},r)}}function D0(e,n,t){e?Un(t,e,n):n()}function bi(e,n){var t=P(e)?e:function(){return e},r=function(o){return o.error(t())};return new xe(n?function(i){return n.schedule(r,0,i)}:r)}var Hl=U(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function tx(){return zr(1)}function fd(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return tx()(Tt(n,Gr(n)))}function A0(e){return new xe(function(n){on(e()).subscribe(n)})}function M0(){return gt(function(e,n){var t=null;e._refCount++;var r=_t(n,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount)t=null;else{var i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()}});e.subscribe(r),r.closed||(t=e.connect())})}var nx=function(e){v(t,e);var n=c(t);function t(r,i){var o;return g(this,t),(o=n.call(this)).source=r,o.subjectFactory=i,o._subject=null,o._refCount=0,o._connection=null,Zn(r)&&(o.lift=r.lift),o}return w(t,[{key:"_subscribe",value:function(i){return this.getSubject().subscribe(i)}},{key:"getSubject",value:function(){var i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var i=this._connection;this._subject=this._connection=null,null==i||i.unsubscribe()}},{key:"connect",value:function(){var i=this,o=this._connection;if(!o){o=this._connection=new X;var l=this.getSubject();o.add(this.source.subscribe(_t(l,void 0,function(){i._teardown(),l.complete()},function(m){i._teardown(),l.error(m)},function(){return i._teardown()}))),o.closed&&(this._connection=null,o=X.EMPTY)}return o}},{key:"refCount",value:function(){return M0()(this)}}]),t}(xe);function wi(e,n){return gt(function(t,r){var i=null,o=0,l=!1,m=function(){return l&&!i&&r.complete()};t.subscribe(_t(r,function(A){null==i||i.unsubscribe();var L=0,B=o++;on(e(A,B)).subscribe(i=_t(r,function(V){return r.next(n?n(A,V,B,L++):V)},function(){i=null,m()}))},function(){l=!0,m()}))})}function R0(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=Gr(n);return gt(function(i,o){(r?fd(n,i,r):fd(n,i)).subscribe(o)})}function rx(e,n,t,r,i){return function(o,l){var m=t,A=n,L=0;o.subscribe(_t(l,function(B){var V=L++;A=m?e(A,B,V):(m=!0,B),r&&l.next(A)},i&&function(){m&&l.next(A),l.complete()}))}}function T0(e,n){return gt(rx(e,n,arguments.length>=2,!0))}function lr(e,n){return gt(function(t,r){var i=0;t.subscribe(_t(r,function(o){return e.call(n,o,i++)&&r.next(o)}))})}function un(e){return gt(function(n,t){var o,r=null,i=!1;r=n.subscribe(_t(t,void 0,void 0,function(l){o=on(e(l,un(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function gs(e,n){return P(n)?Rt(e,n,1):Rt(e,1)}function dd(e){return e<=0?function(){return xn}:gt(function(n,t){var r=[];n.subscribe(_t(t,function(i){r.push(i),e<r.length&&r.shift()},function(){var o,i=p(r);try{for(i.s();!(o=i.n()).done;)t.next(o.value)}catch(m){i.e(m)}finally{i.f()}t.complete()},void 0,function(){r=null}))})}function L0(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ix;return gt(function(n,t){var r=!1;n.subscribe(_t(t,function(i){r=!0,t.next(i)},function(){return r?t.complete():t.error(e())}))})}function ix(){return new Hl}function x0(e){return gt(function(n,t){var r=!1;n.subscribe(_t(t,function(i){r=!0,t.next(i)},function(){r||t.next(e),t.complete()}))})}function ms(e,n){var t=arguments.length>=2;return function(r){return r.pipe(e?lr(function(i,o){return e(i,o,r)}):De,Lt(1),t?x0(n):L0(function(){return new Hl}))}}function Hn(e,n,t){var r=P(e)||n||t?{next:e,error:n,complete:t}:e;return r?gt(function(i,o){var l;null===(l=r.subscribe)||void 0===l||l.call(r);var m=!0;i.subscribe(_t(o,function(A){var L;null===(L=r.next)||void 0===L||L.call(r,A),o.next(A)},function(){var A;m=!1,null===(A=r.complete)||void 0===A||A.call(r),o.complete()},function(A){var L;m=!1,null===(L=r.error)||void 0===L||L.call(r,A),o.error(A)},function(){var A,L;m&&(null===(A=r.unsubscribe)||void 0===A||A.call(r)),null===(L=r.finalize)||void 0===L||L.call(r)}))}):De}var oi=w(function e(n,t){g(this,e),this.id=n,this.url=t}),vd=function(e){v(t,e);var n=c(t);function t(r,i){var o,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return g(this,t),(o=n.call(this,r,i)).navigationTrigger=l,o.restoredState=m,o}return w(t,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),t}(oi),Ga=function(e){v(t,e);var n=c(t);function t(r,i,o){var l;return g(this,t),(l=n.call(this,r,i)).urlAfterRedirects=o,l}return w(t,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),t}(oi),O0=function(e){v(t,e);var n=c(t);function t(r,i,o){var l;return g(this,t),(l=n.call(this,r,i)).reason=o,l}return w(t,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),t}(oi),ax=function(e){v(t,e);var n=c(t);function t(r,i,o){var l;return g(this,t),(l=n.call(this,r,i)).error=o,l}return w(t,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),t}(oi),ux=function(e){v(t,e);var n=c(t);function t(r,i,o,l){var m;return g(this,t),(m=n.call(this,r,i)).urlAfterRedirects=o,m.state=l,m}return w(t,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(oi),lx=function(e){v(t,e);var n=c(t);function t(r,i,o,l){var m;return g(this,t),(m=n.call(this,r,i)).urlAfterRedirects=o,m.state=l,m}return w(t,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(oi),cx=function(e){v(t,e);var n=c(t);function t(r,i,o,l,m){var A;return g(this,t),(A=n.call(this,r,i)).urlAfterRedirects=o,A.state=l,A.shouldActivate=m,A}return w(t,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),t}(oi),hx=function(e){v(t,e);var n=c(t);function t(r,i,o,l){var m;return g(this,t),(m=n.call(this,r,i)).urlAfterRedirects=o,m.state=l,m}return w(t,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(oi),fx=function(e){v(t,e);var n=c(t);function t(r,i,o,l){var m;return g(this,t),(m=n.call(this,r,i)).urlAfterRedirects=o,m.state=l,m}return w(t,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(oi),I0=function(){function e(n){g(this,e),this.route=n}return w(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),P0=function(){function e(n){g(this,e),this.route=n}return w(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),dx=function(){function e(n){g(this,e),this.snapshot=n}return w(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),vx=function(){function e(n){g(this,e),this.snapshot=n}return w(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),px=function(){function e(n){g(this,e),this.snapshot=n}return w(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),gx=function(){function e(n){g(this,e),this.snapshot=n}return w(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),F0=function(){function e(n,t,r){g(this,e),this.routerEvent=n,this.position=t,this.anchor=r}return w(e,[{key:"toString",value:function(){var t=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(t,"')")}}]),e}(),rt="primary",mx=function(){function e(n){g(this,e),this.params=n||{}}return w(e,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var r=this.params[t];return Array.isArray(r)?r[0]:r}return null}},{key:"getAll",value:function(t){if(this.has(t)){var r=this.params[t];return Array.isArray(r)?r:[r]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function ys(e){return new mx(e)}var B0="ngNavigationCancelingError";function pd(e){var n=Error("NavigationCancelingError: "+e);return n[B0]=!0,n}function _x(e,n,t){var r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var l=r[o],m=e[o];if(l.startsWith(":"))i[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ur(e,n){var t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;for(var i,o=0;o<t.length;o++)if(!N0(e[i=t[o]],n[i]))return!1;return!0}function N0(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;var t=T(e).sort(),r=T(n).sort();return t.every(function(i,o){return r[o]===i})}return e===n}function $0(e){return Array.prototype.concat.apply([],e)}function H0(e){return e.length>0?e[e.length-1]:null}function fn(e,n){for(var t in e)e.hasOwnProperty(t)&&n(e[t],t)}function Vr(e){return nf(e)?e:Ma(e)?Tt(Promise.resolve(e)):Ke(e)}var wx={exact:function W0(e,n,t){if(!no(e.segments,n.segments)||!Ul(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children)if(!e.children[r]||!W0(e.children[r],n.children[r],t))return!1;return!0},subset:j0},U0={exact:function Sx(e,n){return Ur(e,n)},subset:function Ex(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(function(t){return N0(e[t],n[t])})},ignored:function(){return!0}};function V0(e,n,t){return wx[t.paths](e.root,n.root,t.matrixParams)&&U0[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function j0(e,n,t){return z0(e,n,n.segments,t)}function z0(e,n,t,r){if(e.segments.length>t.length){var i=e.segments.slice(0,t.length);return!(!no(i,t)||n.hasChildren()||!Ul(i,t,r))}if(e.segments.length===t.length){if(!no(e.segments,t)||!Ul(e.segments,t,r))return!1;for(var o in n.children)if(!e.children[o]||!j0(e.children[o],n.children[o],r))return!1;return!0}var l=t.slice(0,e.segments.length),m=t.slice(e.segments.length);return!!(no(e.segments,l)&&Ul(e.segments,l,r)&&e.children[rt])&&z0(e.children[rt],n,m,r)}function Ul(e,n,t){return n.every(function(r,i){return U0[t](e[i].parameters,r.parameters)})}var to=function(){function e(n,t,r){g(this,e),this.root=n,this.queryParams=t,this.fragment=r}return w(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ys(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Ax.serialize(this)}}]),e}(),st=function(){function e(n,t){var r=this;g(this,e),this.segments=n,this.children=t,this.parent=null,fn(t,function(i,o){return i.parent=r})}return w(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Vl(this)}}]),e}(),qa=function(){function e(n,t){g(this,e),this.path=n,this.parameters=t}return w(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ys(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Y0(this)}}]),e}();function no(e,n){return e.length===n.length&&e.every(function(t,r){return t.path===n[r].path})}var G0=w(function e(){g(this,e)}),q0=function(){function e(){g(this,e)}return w(e,[{key:"parse",value:function(t){var r=new Fx(t);return new to(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}},{key:"serialize",value:function(t){var r="/".concat(Ka(t.root,!0)),i=function Tx(e){var n=Object.keys(e).map(function(t){var r=e[t];return Array.isArray(r)?r.map(function(i){return"".concat(Wl(t),"=").concat(Wl(i))}).join("&"):"".concat(Wl(t),"=").concat(Wl(r))}).filter(function(t){return!!t});return n.length?"?".concat(n.join("&")):""}(t.queryParams),o="string"==typeof t.fragment?"#".concat(function Mx(e){return encodeURI(e)}(t.fragment)):"";return"".concat(r).concat(i).concat(o)}}]),e}(),Ax=new q0;function Vl(e){return e.segments.map(function(n){return Y0(n)}).join("/")}function Ka(e,n){if(!e.hasChildren())return Vl(e);if(n){var t=e.children[rt]?Ka(e.children[rt],!1):"",r=[];return fn(e.children,function(o,l){l!==rt&&r.push("".concat(l,":").concat(Ka(o,!1)))}),r.length>0?"".concat(t,"(").concat(r.join("//"),")"):t}var i=function Dx(e,n){var t=[];return fn(e.children,function(r,i){i===rt&&(t=t.concat(n(r,i)))}),fn(e.children,function(r,i){i!==rt&&(t=t.concat(n(r,i)))}),t}(e,function(o,l){return l===rt?[Ka(e.children[rt],!1)]:["".concat(l,":").concat(Ka(o,!1))]});return 1===Object.keys(e.children).length&&null!=e.children[rt]?"".concat(Vl(e),"/").concat(i[0]):"".concat(Vl(e),"/(").concat(i.join("//"),")")}function K0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wl(e){return K0(e).replace(/%3B/gi,";")}function gd(e){return K0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jl(e){return decodeURIComponent(e)}function X0(e){return jl(e.replace(/\+/g,"%20"))}function Y0(e){return"".concat(gd(e.path)).concat(function Rx(e){return Object.keys(e).map(function(n){return";".concat(gd(n),"=").concat(gd(e[n]))}).join("")}(e.parameters))}var Lx=/^[^\/()?;=#]+/;function zl(e){var n=e.match(Lx);return n?n[0]:""}var xx=/^[^=?&#]+/,Ix=/^[^&#]+/,Fx=function(){function e(n){g(this,e),this.url=n,this.remaining=n}return w(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new st([],{}):new st([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));var i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(i[rt]=new st(t,r)),i}},{key:"parseSegment",value:function(){var t=zl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new qa(jl(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var r=zl(this.remaining);if(r){this.capture(r);var i="";if(this.consumeOptional("=")){var o=zl(this.remaining);o&&this.capture(i=o)}t[jl(r)]=jl(i)}}},{key:"parseQueryParam",value:function(t){var r=function Ox(e){var n=e.match(xx);return n?n[0]:""}(this.remaining);if(r){this.capture(r);var i="";if(this.consumeOptional("=")){var o=function Px(e){var n=e.match(Ix);return n?n[0]:""}(this.remaining);o&&this.capture(i=o)}var l=X0(r),m=X0(i);if(t.hasOwnProperty(l)){var A=t[l];Array.isArray(A)||(t[l]=A=[A]),A.push(m)}else t[l]=m}}},{key:"parseParens",value:function(t){var r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var i=zl(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error("Cannot parse url '".concat(this.url,"'"));var l=void 0;i.indexOf(":")>-1?(l=i.substr(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=rt);var m=this.parseChildren();r[l]=1===Object.keys(m).length?m[rt]:new st([],m),this.consumeOptional("//")}return r}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),e}(),J0=function(){function e(n){g(this,e),this._root=n}return w(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}},{key:"children",value:function(t){var r=md(t,this._root);return r?r.children.map(function(i){return i.value}):[]}},{key:"firstChild",value:function(t){var r=md(t,this._root);return r&&r.children.length>0?r.children[0].value:null}},{key:"siblings",value:function(t){var r=yd(t,this._root);return r.length<2?[]:r[r.length-2].children.map(function(o){return o.value}).filter(function(o){return o!==t})}},{key:"pathFromRoot",value:function(t){return yd(t,this._root).map(function(r){return r.value})}}]),e}();function md(e,n){if(e===n.value)return n;var r,t=p(n.children);try{for(t.s();!(r=t.n()).done;){var o=md(e,r.value);if(o)return o}}catch(l){t.e(l)}finally{t.f()}return null}function yd(e,n){if(e===n.value)return[n];var r,t=p(n.children);try{for(t.s();!(r=t.n()).done;){var o=yd(e,r.value);if(o.length)return o.unshift(n),o}}catch(l){t.e(l)}finally{t.f()}return[]}var si=function(){function e(n,t){g(this,e),this.value=n,this.children=t}return w(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function _s(e){var n={};return e&&e.children.forEach(function(t){return n[t.value.outlet]=t}),n}var Z0=function(e){v(t,e);var n=c(t);function t(r,i){var o;return g(this,t),(o=n.call(this,r)).snapshot=i,_d(a(o),r),o}return w(t,[{key:"toString",value:function(){return this.snapshot.toString()}}]),t}(J0);function Q0(e,n){var t=function Bx(e,n){var l=new Gl([],{},{},"",{},rt,n,null,e.root,-1,{});return new tC("",new si(l,[]))}(e,n),r=new Ar([new qa("",{})]),i=new Ar({}),o=new Ar({}),l=new Ar({}),m=new Ar(""),A=new ro(r,i,l,m,o,rt,n,t.root);return A.snapshot=t.root,new Z0(new si(A,[]),t)}var ro=function(){function e(n,t,r,i,o,l,m,A){g(this,e),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=m,this._futureSnapshot=A}return w(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Xe(function(t){return ys(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Xe(function(t){return ys(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function eC(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",t=e.pathFromRoot,r=0;if("always"!==n)for(r=t.length-1;r>=1;){var i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return Nx(t.slice(r))}function Nx(e){return e.reduce(function(n,t){return{params:Object.assign(Object.assign({},n.params),t.params),data:Object.assign(Object.assign({},n.data),t.data),resolve:Object.assign(Object.assign({},n.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}var Gl=function(){function e(n,t,r,i,o,l,m,A,L,B,V){g(this,e),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=m,this.routeConfig=A,this._urlSegment=L,this._lastPathIndex=B,this._resolve=V}return w(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ys(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ys(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){var t=this.url.map(function(i){return i.toString()}).join("/"),r=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(t,"', path:'").concat(r,"')")}}]),e}(),tC=function(e){v(t,e);var n=c(t);function t(r,i){var o;return g(this,t),(o=n.call(this,i)).url=r,_d(a(o),i),o}return w(t,[{key:"toString",value:function(){return nC(this._root)}}]),t}(J0);function _d(e,n){n.value._routerState=e,n.children.forEach(function(t){return _d(e,t)})}function nC(e){var n=e.children.length>0?" { ".concat(e.children.map(nC).join(", ")," } "):"";return"".concat(e.value).concat(n)}function Cd(e){if(e.snapshot){var n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ur(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),Ur(n.params,t.params)||e.params.next(t.params),function Cx(e,n){if(e.length!==n.length)return!1;for(var t=0;t<e.length;++t)if(!Ur(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),Ur(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function bd(e,n){var t=Ur(e.params,n.params)&&function kx(e,n){return no(e,n)&&e.every(function(t,r){return Ur(t.parameters,n[r].parameters)})}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||bd(e.parent,n.parent))}function Xa(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){var r=t.value;r._futureSnapshot=n.value;var i=function Hx(e,n,t){return n.children.map(function(r){var o,i=p(t.children);try{for(i.s();!(o=i.n()).done;){var l=o.value;if(e.shouldReuseRoute(r.value,l.value.snapshot))return Xa(e,r,l)}}catch(m){i.e(m)}finally{i.f()}return Xa(e,r)})}(e,n,t);return new si(r,i)}if(e.shouldAttach(n.value)){var o=e.retrieve(n.value);if(null!==o){var l=o.route;return l.value._futureSnapshot=n.value,l.children=n.children.map(function(L){return Xa(e,L)}),l}}var m=function Ux(e){return new ro(new Ar(e.url),new Ar(e.params),new Ar(e.queryParams),new Ar(e.fragment),new Ar(e.data),e.outlet,e.component,e)}(n.value),A=n.children.map(function(L){return Xa(e,L)});return new si(m,A)}function Vx(e,n,t,r,i){if(0===t.length)return wd(n.root,n.root,n.root,r,i);var o=function Wx(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new iC(!0,0,e);var n=0,t=!1,r=e.reduce(function(i,o,l){if("object"==typeof o&&null!=o){if(o.outlets){var m={};return fn(o.outlets,function(A,L){m[L]="string"==typeof A?A.split("/"):A}),[].concat(T(i),[{outlets:m}])}if(o.segmentPath)return[].concat(T(i),[o.segmentPath])}return"string"!=typeof o?[].concat(T(i),[o]):0===l?(o.split("/").forEach(function(A,L){0==L&&"."===A||(0==L&&""===A?t=!0:".."===A?n++:""!=A&&i.push(A))}),i):[].concat(T(i),[o])},[]);return new iC(t,n,r)}(t);if(o.toRoot())return wd(n.root,n.root,new st([],{}),r,i);var l=function jx(e,n,t){if(e.isAbsolute)return new Sd(n.root,!0,0);if(-1===t.snapshot._lastPathIndex){var r=t.snapshot._urlSegment;return new Sd(r,r===n.root,0)}var o=ql(e.commands[0])?0:1;return function zx(e,n,t){for(var r=e,i=n,o=t;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Sd(r,!1,i-o)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+o,e.numberOfDoubleDots)}(o,n,e),m=l.processChildren?Kl(l.segmentGroup,l.index,o.commands):oC(l.segmentGroup,l.index,o.commands);return wd(n.root,l.segmentGroup,m,r,i)}function ql(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ya(e){return"object"==typeof e&&null!=e&&e.outlets}function wd(e,n,t,r,i){var o={};if(r&&fn(r,function(m,A){o[A]=Array.isArray(m)?m.map(function(L){return"".concat(L)}):"".concat(m)}),e===n)return new to(t,o,i);var l=rC(e,n,t);return new to(l,o,i)}function rC(e,n,t){var r={};return fn(e.children,function(i,o){r[o]=i===n?t:rC(i,n,t)}),new st(e.segments,r)}var iC=function(){function e(n,t,r){if(g(this,e),this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&ql(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(Ya);if(i&&i!==H0(r))throw new Error("{outlets:{}} has to be the last command")}return w(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Sd=w(function e(n,t,r){g(this,e),this.segmentGroup=n,this.processChildren=t,this.index=r});function oC(e,n,t){if(e||(e=new st([],{})),0===e.segments.length&&e.hasChildren())return Kl(e,n,t);var r=function qx(e,n,t){for(var r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=t.length)return o;var l=e.segments[i],m=t[r];if(Ya(m))break;var A="".concat(m),L=r<t.length-1?t[r+1]:null;if(i>0&&void 0===A)break;if(A&&L&&"object"==typeof L&&void 0===L.outlets){if(!aC(A,L,l))return o;r+=2}else{if(!aC(A,{},l))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new st(e.segments.slice(0,r.pathIndex),{});return o.children[rt]=new st(e.segments.slice(r.pathIndex),e.children),Kl(o,0,i)}return r.match&&0===i.length?new st(e.segments,{}):r.match&&!e.hasChildren()?Ed(e,n,t):r.match?Kl(e,0,i):Ed(e,n,t)}function Kl(e,n,t){if(0===t.length)return new st(e.segments,{});var r=function Gx(e){return Ya(e[0])?e[0].outlets:R({},rt,e)}(t),i={};return fn(r,function(o,l){"string"==typeof o&&(o=[o]),null!==o&&(i[l]=oC(e.children[l],n,o))}),fn(e.children,function(o,l){void 0===r[l]&&(i[l]=o)}),new st(e.segments,i)}function Ed(e,n,t){for(var r=e.segments.slice(0,n),i=0;i<t.length;){var o=t[i];if(Ya(o)){var l=Kx(o.outlets);return new st(r,l)}if(0===i&&ql(t[0]))r.push(new qa(e.segments[n].path,sC(t[0]))),i++;else{var A=Ya(o)?o.outlets[rt]:"".concat(o),L=i<t.length-1?t[i+1]:null;A&&L&&ql(L)?(r.push(new qa(A,sC(L))),i+=2):(r.push(new qa(A,{})),i++)}}return new st(r,{})}function Kx(e){var n={};return fn(e,function(t,r){"string"==typeof t&&(t=[t]),null!==t&&(n[r]=Ed(new st([],{}),0,t))}),n}function sC(e){var n={};return fn(e,function(t,r){return n[r]="".concat(t)}),n}function aC(e,n,t){return e==t.path&&Ur(n,t.parameters)}var Yx=function(){function e(n,t,r,i){g(this,e),this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i}return w(e,[{key:"activate",value:function(t){var r=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,i,t),Cd(this.futureState.root),this.activateChildRoutes(r,i,t)}},{key:"deactivateChildRoutes",value:function(t,r,i){var o=this,l=_s(r);t.children.forEach(function(m){var A=m.value.outlet;o.deactivateRoutes(m,l[A],i),delete l[A]}),fn(l,function(m,A){o.deactivateRouteAndItsChildren(m,i)})}},{key:"deactivateRoutes",value:function(t,r,i){var o=t.value,l=r?r.value:null;if(o===l)if(o.component){var m=i.getContext(o.outlet);m&&this.deactivateChildRoutes(t,r,m.children)}else this.deactivateChildRoutes(t,r,i);else l&&this.deactivateRouteAndItsChildren(r,i)}},{key:"deactivateRouteAndItsChildren",value:function(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}},{key:"detachAndStoreRouteSubtree",value:function(t,r){for(var i=r.getContext(t.value.outlet),o=i&&t.value.component?i.children:r,l=_s(t),m=0,A=Object.keys(l);m<A.length;m++)this.deactivateRouteAndItsChildren(l[A[m]],o);if(i&&i.outlet){var B=i.outlet.detach(),V=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:B,route:t,contexts:V})}}},{key:"deactivateRouteAndOutlet",value:function(t,r){for(var i=r.getContext(t.value.outlet),o=i&&t.value.component?i.children:r,l=_s(t),m=0,A=Object.keys(l);m<A.length;m++)this.deactivateRouteAndItsChildren(l[A[m]],o);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}},{key:"activateChildRoutes",value:function(t,r,i){var o=this,l=_s(r);t.children.forEach(function(m){o.activateRoutes(m,l[m.value.outlet],i),o.forwardEvent(new gx(m.value.snapshot))}),t.children.length&&this.forwardEvent(new vx(t.value.snapshot))}},{key:"activateRoutes",value:function(t,r,i){var o=t.value,l=r?r.value:null;if(Cd(o),o===l)if(o.component){var m=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,m.children)}else this.activateChildRoutes(t,r,i);else if(o.component){var A=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){var L=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),A.children.onOutletReAttached(L.contexts),A.attachRef=L.componentRef,A.route=L.route.value,A.outlet&&A.outlet.attach(L.componentRef,L.route.value),Cd(L.route.value),this.activateChildRoutes(t,null,A.children)}else{var B=function Jx(e){for(var n=e.parent;n;n=n.parent){var t=n.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),V=B?B.module.componentFactoryResolver:null;A.attachRef=null,A.route=o,A.resolver=V,A.outlet&&A.outlet.activateWith(o,V),this.activateChildRoutes(t,null,A.children)}}else this.activateChildRoutes(t,null,i)}}]),e}(),kd=w(function e(n,t){g(this,e),this.routes=n,this.module=t});function Si(e){return"function"==typeof e}function io(e){return e instanceof to}var Ja=Symbol("INITIAL_VALUE");function Za(){return wi(function(e){return k0(e.map(function(n){return n.pipe(Lt(1),R0(Ja))})).pipe(T0(function(n,t){var r=!1;return t.reduce(function(i,o,l){return i!==Ja?i:(o===Ja&&(r=!0),r||!1!==o&&l!==t.length-1&&!io(o)?i:o)},n)},Ja),lr(function(n){return n!==Ja}),Xe(function(n){return io(n)?n:!0===n}),Lt(1))})}var rO=w(function e(){g(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Qa,this.attachRef=null}),Qa=function(){function e(){g(this,e),this.contexts=new Map}return w(e,[{key:"onChildOutletCreated",value:function(t,r){var i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}},{key:"onChildOutletDestroyed",value:function(t){var r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var r=this.getContext(t);return r||(r=new rO,this.contexts.set(t,r)),r}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),e}(),Dd=function(){var e=function(){function n(t,r,i,o,l){g(this,n),this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new ht,this.deactivateEvents=new ht,this.attachEvents=new ht,this.detachEvents=new ht,this.name=o||rt,t.onChildOutletCreated(this.name,this)}return w(n,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}},{key:"attach",value:function(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.attachEvents.emit(r.instance)}},{key:"deactivate",value:function(){if(this.activated){var r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}},{key:"activateWith",value:function(r,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;var m=(i=i||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),A=this.parentContexts.getOrCreateContext(this.name).children,L=new iO(r,A,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,L),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(Qa),de(Er),de(Ia),function aa(e){return function uS(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;var t=e.attrs;if(t)for(var r=t.length,i=0;i<r;){var o=t[i];if(Vv(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===n)return t[i+1];i+=2}}return null}(Jt(),e)}("name"),de(vs))},e.\u0275dir=Ne({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e}(),iO=function(){function e(n,t,r){g(this,e),this.route=n,this.childContexts=t,this.parent=r}return w(e,[{key:"get",value:function(t,r){return t===ro?this.route:t===Qa?this.childContexts:this.parent.get(t,r)}}]),e}(),uC=function(){var e=w(function n(){g(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=vr({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&_n(0,"router-outlet")},directives:[Dd],encapsulation:2}),e}();function lC(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=0;t<e.length;t++){var r=e[t],i=sO(n,r);oO(r,i)}}function oO(e,n){e.children&&lC(e.children,n)}function sO(e,n){return n?e||n.path?e&&!n.path?"".concat(e,"/"):!e&&n.path?n.path:"".concat(e,"/").concat(n.path):"":e}function Ad(e){var n=e.children&&e.children.map(Ad),t=n?Object.assign(Object.assign({},e),{children:n}):Object.assign({},e);return!t.component&&(n||t.loadChildren)&&t.outlet&&t.outlet!==rt&&(t.component=uC),t}function cr(e){return e.outlet||rt}function cC(e,n){var t=e.filter(function(r){return cr(r)===n});return t.push.apply(t,T(e.filter(function(r){return cr(r)!==n}))),t}var hC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xl(e,n,t){var r;if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?Object.assign({},hC):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};var o=(n.matcher||_x)(t,e,n);if(!o)return Object.assign({},hC);var l={};fn(o.posParams,function(A,L){l[L]=A.path});var m=o.consumed.length>0?Object.assign(Object.assign({},l),o.consumed[o.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:m,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function Yl(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(t.length>0&&lO(e,t,r)){var o=new st(n,uO(e,n,r,new st(t,e.children)));return o._sourceSegment=e,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&cO(e,t,r)){var l=new st(e.segments,aO(e,n,t,r,e.children,i));return l._sourceSegment=e,l._segmentIndexShift=n.length,{segmentGroup:l,slicedSegments:t}}var m=new st(e.segments,e.children);return m._sourceSegment=e,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:t}}function aO(e,n,t,r,i,o){var A,l={},m=p(r);try{for(m.s();!(A=m.n()).done;){var L=A.value;if(Jl(e,t,L)&&!i[cr(L)]){var B=new st([],{});B._sourceSegment=e,B._segmentIndexShift="legacy"===o?e.segments.length:n.length,l[cr(L)]=B}}}catch(V){m.e(V)}finally{m.f()}return Object.assign(Object.assign({},i),l)}function uO(e,n,t,r){var i={};i[rt]=r,r._sourceSegment=e,r._segmentIndexShift=n.length;var l,o=p(t);try{for(o.s();!(l=o.n()).done;){var m=l.value;if(""===m.path&&cr(m)!==rt){var A=new st([],{});A._sourceSegment=e,A._segmentIndexShift=n.length,i[cr(m)]=A}}}catch(L){o.e(L)}finally{o.f()}return i}function lO(e,n,t){return t.some(function(r){return Jl(e,n,r)&&cr(r)!==rt})}function cO(e,n,t){return t.some(function(r){return Jl(e,n,r)})}function Jl(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function fC(e,n,t,r){return!!(cr(e)===r||r!==rt&&Jl(n,t,e))&&("**"===e.path||Xl(n,e,t).matched)}function dC(e,n,t){return 0===n.length&&!e.children[t]}var Zl=w(function e(n){g(this,e),this.segmentGroup=n||null}),vC=w(function e(n){g(this,e),this.urlTree=n});function eu(e){return bi(new Zl(e))}function pC(e){return bi(new vC(e))}function hO(e){return bi(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}var vO=function(){function e(n,t,r,i,o){g(this,e),this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=n.get(ti)}return w(e,[{key:"apply",value:function(){var t=this,r=Yl(this.urlTree.root,[],[],this.config).segmentGroup,i=new st(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,rt).pipe(Xe(function(m){return t.createUrlTree(Md(m),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(un(function(m){if(m instanceof vC)return t.allowRedirects=!1,t.match(m.urlTree);throw m instanceof Zl?t.noMatchError(m):m}))}},{key:"match",value:function(t){var r=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,rt).pipe(Xe(function(l){return r.createUrlTree(Md(l),t.queryParams,t.fragment)})).pipe(un(function(l){throw l instanceof Zl?r.noMatchError(l):l}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,r,i){var o=t.segments.length>0?new st([],R({},rt,t)):t;return new to(o,r,i)}},{key:"expandSegmentGroup",value:function(t,r,i,o){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,r,i).pipe(Xe(function(l){return new st([],l)})):this.expandSegment(t,i,r,i.segments,o,!0)}},{key:"expandChildren",value:function(t,r,i){for(var o=this,l=[],m=0,A=Object.keys(i.children);m<A.length;m++){var L=A[m];"primary"===L?l.unshift(L):l.push(L)}return Tt(l).pipe(gs(function(B){var V=i.children[B],j=cC(r,B);return o.expandSegmentGroup(t,j,V,B).pipe(Xe(function(q){return{segment:q,outlet:B}}))}),T0(function(B,V){return B[V.outlet]=V.segment,B},{}),function ox(e,n){var t=arguments.length>=2;return function(r){return r.pipe(e?lr(function(i,o){return e(i,o,r)}):De,dd(1),t?x0(n):L0(function(){return new Hl}))}}())}},{key:"expandSegment",value:function(t,r,i,o,l,m){var A=this;return Tt(i).pipe(gs(function(L){return A.expandSegmentAgainstRoute(t,r,i,L,o,l,m).pipe(un(function(V){if(V instanceof Zl)return Ke(null);throw V}))}),ms(function(L){return!!L}),un(function(L,B){if(L instanceof Hl||"EmptyError"===L.name)return dC(r,o,l)?Ke(new st([],{})):eu(r);throw L}))}},{key:"expandSegmentAgainstRoute",value:function(t,r,i,o,l,m,A){return fC(o,r,l,m)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,r,o,l,m):A&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,o,l,m):eu(r):eu(r)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,r,i,o,l,m){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,o,m):this.expandRegularSegmentAgainstRouteUsingRedirect(t,r,i,o,l,m)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,r,i,o){var l=this,m=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?pC(m):this.lineralizeSegments(i,m).pipe(Rt(function(A){var L=new st(A,{});return l.expandSegment(t,L,r,A,o,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,r,i,o,l,m){var A=this,L=Xl(r,o,l),V=L.consumedSegments,j=L.remainingSegments,q=L.positionalParamSegments;if(!L.matched)return eu(r);var te=this.applyRedirectCommands(V,o.redirectTo,q);return o.redirectTo.startsWith("/")?pC(te):this.lineralizeSegments(o,te).pipe(Rt(function(se){return A.expandSegment(t,r,i,se.concat(j),m,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,r,i,o,l){var m=this;if("**"===i.path)return i.loadChildren?(i._loadedConfig?Ke(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(Xe(function(te){return i._loadedConfig=te,new st(o,{})})):Ke(new st(o,{}));var L=Xl(r,i,o),V=L.consumedSegments,j=L.remainingSegments;return L.matched?this.getChildConfig(t,i,o).pipe(Rt(function(te){var se=te.module,ue=te.routes,le=Yl(r,V,j,ue),ae=le.segmentGroup,me=le.slicedSegments,Ee=new st(ae.segments,ae.children);if(0===me.length&&Ee.hasChildren())return m.expandChildren(se,ue,Ee).pipe(Xe(function(Pt){return new st(V,Pt)}));if(0===ue.length&&0===me.length)return Ke(new st(V,{}));var tt=cr(i)===l;return m.expandSegment(se,Ee,ue,me,tt?rt:l,!0).pipe(Xe(function(Pt){return new st(V.concat(Pt.segments),Pt.children)}))})):eu(r)}},{key:"getChildConfig",value:function(t,r,i){var o=this;return r.children?Ke(new kd(r.children,t)):r.loadChildren?void 0!==r._loadedConfig?Ke(r._loadedConfig):this.runCanLoadGuards(t.injector,r,i).pipe(Rt(function(l){return l?o.configLoader.load(t.injector,r).pipe(Xe(function(m){return r._loadedConfig=m,m})):function fO(e){return bi(pd("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}(r)})):Ke(new kd([],t))}},{key:"runCanLoadGuards",value:function(t,r,i){var o=this,l=r.canLoad;if(!l||0===l.length)return Ke(!0);var m=l.map(function(A){var B,L=t.get(A);if(function Qx(e){return e&&Si(e.canLoad)}(L))B=L.canLoad(r,i);else{if(!Si(L))throw new Error("Invalid CanLoad guard");B=L(r,i)}return Vr(B)});return Ke(m).pipe(Za(),Hn(function(A){if(io(A)){var L=pd('Redirecting to "'.concat(o.urlSerializer.serialize(A),'"'));throw L.url=A,L}}),Xe(function(A){return!0===A}))}},{key:"lineralizeSegments",value:function(t,r){for(var i=[],o=r.root;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return Ke(i);if(o.numberOfChildren>1||!o.children[rt])return hO(t.redirectTo);o=o.children[rt]}}},{key:"applyRedirectCommands",value:function(t,r,i){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),t,i)}},{key:"applyRedirectCreatreUrlTree",value:function(t,r,i,o){var l=this.createSegmentGroup(t,r.root,i,o);return new to(l,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}},{key:"createQueryParams",value:function(t,r){var i={};return fn(t,function(o,l){if("string"==typeof o&&o.startsWith(":")){var A=o.substring(1);i[l]=r[A]}else i[l]=o}),i}},{key:"createSegmentGroup",value:function(t,r,i,o){var l=this,m=this.createSegments(t,r.segments,i,o),A={};return fn(r.children,function(L,B){A[B]=l.createSegmentGroup(t,L,i,o)}),new st(m,A)}},{key:"createSegments",value:function(t,r,i,o){var l=this;return r.map(function(m){return m.path.startsWith(":")?l.findPosParam(t,m,o):l.findOrReturn(m,i)})}},{key:"findPosParam",value:function(t,r,i){var o=i[r.path.substring(1)];if(!o)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(r.path,"'."));return o}},{key:"findOrReturn",value:function(t,r){var l,i=0,o=p(r);try{for(o.s();!(l=o.n()).done;){var m=l.value;if(m.path===t.path)return r.splice(i),m;i++}}catch(A){o.e(A)}finally{o.f()}return t}}]),e}();function Md(e){for(var n={},t=0,r=Object.keys(e.children);t<r.length;t++){var i=r[t],l=Md(e.children[i]);(l.segments.length>0||l.hasChildren())&&(n[i]=l)}return function pO(e){if(1===e.numberOfChildren&&e.children[rt]){var n=e.children[rt];return new st(e.segments.concat(n.segments),n.children)}return e}(new st(e.segments,n))}var gC=w(function e(n){g(this,e),this.path=n,this.route=this.path[this.path.length-1]}),Ql=w(function e(n,t){g(this,e),this.component=n,this.route=t});function mO(e,n,t){var r=e._root;return tu(r,n?n._root:null,t,[r.value])}function ec(e,n,t){var r=function _O(e){if(!e)return null;for(var n=e.parent;n;n=n.parent){var t=n.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(n);return(r?r.module.injector:t).get(e)}function tu(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=_s(n);return e.children.forEach(function(l){CO(l,o[l.value.outlet],t,r.concat([l.value]),i),delete o[l.value.outlet]}),fn(o,function(l,m){return nu(l,t.getContext(m),i)}),i}function CO(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,l=n?n.value:null,m=t?t.getContext(e.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){var A=bO(l,o,o.routeConfig.runGuardsAndResolvers);A?i.canActivateChecks.push(new gC(r)):(o.data=l.data,o._resolvedData=l._resolvedData),tu(e,n,o.component?m?m.children:null:t,r,i),A&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new Ql(m.outlet.component,l))}else l&&nu(n,m,i),i.canActivateChecks.push(new gC(r)),tu(e,null,o.component?m?m.children:null:t,r,i);return i}function bO(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!no(e.url,n.url);case"pathParamsOrQueryParamsChange":return!no(e.url,n.url)||!Ur(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bd(e,n)||!Ur(e.queryParams,n.queryParams);default:return!bd(e,n)}}function nu(e,n,t){var r=_s(e),i=e.value;fn(r,function(o,l){nu(o,i.component?n?n.children.getContext(l):null:n,t)}),t.canDeactivateChecks.push(new Ql(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}var TO=w(function e(){g(this,e)});function mC(e){return new xe(function(n){return n.error(e)})}var xO=function(){function e(n,t,r,i,o,l){g(this,e),this.rootComponentType=n,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=l}return w(e,[{key:"recognize",value:function(){var t=Yl(this.urlTree.root,[],[],this.config.filter(function(m){return void 0===m.redirectTo}),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,t,rt);if(null===r)return null;var i=new Gl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new si(i,r),l=new tC(this.url,o);return this.inheritParamsAndData(l._root),l}},{key:"inheritParamsAndData",value:function(t){var r=this,i=t.value,o=eC(i,this.paramsInheritanceStrategy);i.params=Object.freeze(o.params),i.data=Object.freeze(o.data),t.children.forEach(function(l){return r.inheritParamsAndData(l)})}},{key:"processSegmentGroup",value:function(t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,r):this.processSegment(t,r,r.segments,i)}},{key:"processChildren",value:function(t,r){for(var i=[],o=0,l=Object.keys(r.children);o<l.length;o++){var m=l[o],A=r.children[m],L=cC(t,m),B=this.processSegmentGroup(L,A,m);if(null===B)return null;i.push.apply(i,T(B))}var V=yC(i);return function OO(e){e.sort(function(n,t){return n.value.outlet===rt?-1:t.value.outlet===rt?1:n.value.outlet.localeCompare(t.value.outlet)})}(V),V}},{key:"processSegment",value:function(t,r,i,o){var m,l=p(t);try{for(l.s();!(m=l.n()).done;){var L=this.processSegmentAgainstRoute(m.value,r,i,o);if(null!==L)return L}}catch(B){l.e(B)}finally{l.f()}return dC(r,i,o)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,r,i,o){if(t.redirectTo||!fC(t,r,i,o))return null;var l,m=[],A=[];if("**"===t.path){var L=i.length>0?H0(i).parameters:{};l=new Gl(i,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bC(t),cr(t),t.component,t,_C(r),CC(r)+i.length,wC(t))}else{var B=Xl(r,t,i);if(!B.matched)return null;A=B.remainingSegments,l=new Gl(m=B.consumedSegments,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bC(t),cr(t),t.component,t,_C(r),CC(r)+m.length,wC(t))}var V=function IO(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),j=Yl(r,m,A,V.filter(function(ae){return void 0===ae.redirectTo}),this.relativeLinkResolution),q=j.segmentGroup,te=j.slicedSegments;if(0===te.length&&q.hasChildren()){var se=this.processChildren(V,q);return null===se?null:[new si(l,se)]}if(0===V.length&&0===te.length)return[new si(l,[])];var ue=cr(t)===o,le=this.processSegment(V,q,te,ue?rt:o);return null===le?null:[new si(l,le)]}}]),e}();function yC(e){var i,n=[],t=new Set,r=p(e);try{var o=function(){var j=i.value;if(!function PO(e){var n=e.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}(j))return n.push(j),"continue";var te,q=n.find(function(se){return j.value.routeConfig===se.value.routeConfig});void 0!==q?((te=q.children).push.apply(te,T(j.children)),t.add(q)):n.push(j)};for(r.s();!(i=r.n()).done;)o()}catch(V){r.e(V)}finally{r.f()}var A,m=p(t);try{for(m.s();!(A=m.n()).done;){var L=A.value,B=yC(L.children);n.push(new si(L.value,B))}}catch(V){m.e(V)}finally{m.f()}return n.filter(function(V){return!t.has(V)})}function _C(e){for(var n=e;n._sourceSegment;)n=n._sourceSegment;return n}function CC(e){for(var n=e,t=n._segmentIndexShift?n._segmentIndexShift:0;n._sourceSegment;)t+=(n=n._sourceSegment)._segmentIndexShift?n._segmentIndexShift:0;return t-1}function bC(e){return e.data||{}}function wC(e){return e.resolve||{}}function SC(e){return[].concat(T(Object.keys(e)),T(Object.getOwnPropertySymbols(e)))}function Rd(e){return wi(function(n){var t=e(n);return t?Tt(t).pipe(Xe(function(){return n})):Ke(n)})}var UO=w(function e(){g(this,e)}),VO=function(){function e(){g(this,e)}return w(e,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,r){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,r){return t.routeConfig===r.routeConfig}}]),e}(),WO=function(e){v(t,e);var n=c(t);function t(){return g(this,t),n.apply(this,arguments)}return w(t)}(VO),Td=new Je("ROUTES"),EC=function(){function e(n,t,r,i){g(this,e),this.injector=n,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}return w(e,[{key:"load",value:function(t,r){var i=this;if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);var l=this.loadModuleFactory(r.loadChildren).pipe(Xe(function(m){i.onLoadEndListener&&i.onLoadEndListener(r);var A=m.create(t);return new kd($0(A.injector.get(Td,void 0,je.Self|je.Optional)).map(Ad),A)}),un(function(m){throw r._loader$=void 0,m}));return r._loader$=new nx(l,function(){return new Fe}).pipe(M0()),r._loader$}},{key:"loadModuleFactory",value:function(t){var r=this;return Vr(t()).pipe(Rt(function(i){return i instanceof $y?Ke(i):Tt(r.compiler.compileModuleAsync(i))}))}}]),e}(),jO=w(function e(){g(this,e)}),zO=function(){function e(){g(this,e)}return w(e,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,r){return t}}]),e}();function GO(e){throw e}function qO(e,n,t){return n.parse("/")}function kC(e,n){return Ke(null)}var KO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rn=function(){var e=function(){function n(t,r,i,o,l,m,A){var L=this;g(this,n),this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Fe,this.errorHandler=GO,this.malformedUriErrorHandler=qO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kC,afterPreactivation:kC},this.urlHandlingStrategy=new zO,this.routeReuseStrategy=new WO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(ti),this.console=l.get(eR);var j=l.get(Cn);this.isNgZoneEnabled=j instanceof Cn&&Cn.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=function bx(){return new to(new st([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new EC(l,m,function(te){return L.triggerEvent(new I0(te))},function(te){return L.triggerEvent(new P0(te))}),this.routerState=Q0(this.currentUrlTree,this.rootComponentType),this.transitions=new Ar({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return w(n,[{key:"browserPageId",get:function(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}},{key:"setupNavigations",value:function(r){var i=this,o=this.events;return r.pipe(lr(function(l){return 0!==l.id}),Xe(function(l){return Object.assign(Object.assign({},l),{extractedUrl:i.urlHandlingStrategy.extract(l.rawUrl)})}),wi(function(l){var m=!1,A=!1;return Ke(l).pipe(Hn(function(L){i.currentNavigation={id:L.id,initialUrl:L.currentRawUrl,extractedUrl:L.extractedUrl,trigger:L.source,extras:L.extras,previousNavigation:i.lastSuccessfulNavigation?Object.assign(Object.assign({},i.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wi(function(L){var B=i.browserUrlTree.toString(),V=!i.navigated||L.extractedUrl.toString()!==B||B!==i.currentUrlTree.toString();if(("reload"===i.onSameUrlNavigation||V)&&i.urlHandlingStrategy.shouldProcessUrl(L.rawUrl))return DC(L.source)&&(i.browserUrlTree=L.extractedUrl),Ke(L).pipe(wi(function(ke){var tt=i.transitions.getValue();return o.next(new vd(ke.id,i.serializeUrl(ke.extractedUrl),ke.source,ke.restoredState)),tt!==i.transitions.getValue()?xn:Promise.resolve(ke)}),function gO(e,n,t,r){return wi(function(i){return function dO(e,n,t,r,i){return new vO(e,n,t,r,i).apply()}(e,n,t,i.extractedUrl,r).pipe(Xe(function(o){return Object.assign(Object.assign({},i),{urlAfterRedirects:o})}))})}(i.ngModule.injector,i.configLoader,i.urlSerializer,i.config),Hn(function(ke){i.currentNavigation=Object.assign(Object.assign({},i.currentNavigation),{finalUrl:ke.urlAfterRedirects})}),function FO(e,n,t,r,i){return Rt(function(o){return function LO(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var l=new xO(e,n,t,r,i,o).recognize();return null===l?mC(new TO):Ke(l)}catch(m){return mC(m)}}(e,n,o.urlAfterRedirects,t(o.urlAfterRedirects),r,i).pipe(Xe(function(l){return Object.assign(Object.assign({},o),{targetSnapshot:l})}))})}(i.rootComponentType,i.config,function(ke){return i.serializeUrl(ke)},i.paramsInheritanceStrategy,i.relativeLinkResolution),Hn(function(ke){if("eager"===i.urlUpdateStrategy){if(!ke.extras.skipLocationChange){var tt=i.urlHandlingStrategy.merge(ke.urlAfterRedirects,ke.rawUrl);i.setBrowserUrl(tt,ke)}i.browserUrlTree=ke.urlAfterRedirects}var Ge=new ux(ke.id,i.serializeUrl(ke.extractedUrl),i.serializeUrl(ke.urlAfterRedirects),ke.targetSnapshot);o.next(Ge)}));if(V&&i.rawUrlTree&&i.urlHandlingStrategy.shouldProcessUrl(i.rawUrlTree)){var se=L.extractedUrl,ue=L.source,le=L.restoredState,ae=L.extras,me=new vd(L.id,i.serializeUrl(se),ue,le);o.next(me);var Ee=Q0(se,i.rootComponentType).snapshot;return Ke(Object.assign(Object.assign({},L),{targetSnapshot:Ee,urlAfterRedirects:se,extras:Object.assign(Object.assign({},ae),{skipLocationChange:!1,replaceUrl:!1})}))}return i.rawUrlTree=L.rawUrl,L.resolve(null),xn}),Rd(function(L){var te=L.extras;return i.hooks.beforePreactivation(L.targetSnapshot,{navigationId:L.id,appliedUrlTree:L.extractedUrl,rawUrlTree:L.rawUrl,skipLocationChange:!!te.skipLocationChange,replaceUrl:!!te.replaceUrl})}),Hn(function(L){var B=new lx(L.id,i.serializeUrl(L.extractedUrl),i.serializeUrl(L.urlAfterRedirects),L.targetSnapshot);i.triggerEvent(B)}),Xe(function(L){return Object.assign(Object.assign({},L),{guards:mO(L.targetSnapshot,L.currentSnapshot,i.rootContexts)})}),function wO(e,n){return Rt(function(t){var r=t.targetSnapshot,i=t.currentSnapshot,o=t.guards,l=o.canActivateChecks,m=o.canDeactivateChecks;return 0===m.length&&0===l.length?Ke(Object.assign(Object.assign({},t),{guardsResult:!0})):function SO(e,n,t,r){return Tt(e).pipe(Rt(function(i){return function RO(e,n,t,r,i){var o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||0===o.length)return Ke(!0);var l=o.map(function(m){var L,A=ec(m,n,i);if(function nO(e){return e&&Si(e.canDeactivate)}(A))L=Vr(A.canDeactivate(e,n,t,r));else{if(!Si(A))throw new Error("Invalid CanDeactivate guard");L=Vr(A(e,n,t,r))}return L.pipe(ms())});return Ke(l).pipe(Za())}(i.component,i.route,t,n,r)}),ms(function(i){return!0!==i},!0))}(m,r,i,e).pipe(Rt(function(A){return A&&function Zx(e){return"boolean"==typeof e}(A)?function EO(e,n,t,r){return Tt(n).pipe(gs(function(i){return fd(function DO(e,n){return null!==e&&n&&n(new dx(e)),Ke(!0)}(i.route.parent,r),function kO(e,n){return null!==e&&n&&n(new px(e)),Ke(!0)}(i.route,r),function MO(e,n,t){var r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(function(l){return function yO(e){var n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(l)}).filter(function(l){return null!==l}),o=i.map(function(l){return A0(function(){var m=l.guards.map(function(A){var B,L=ec(A,l.node,t);if(function tO(e){return e&&Si(e.canActivateChild)}(L))B=Vr(L.canActivateChild(r,e));else{if(!Si(L))throw new Error("Invalid CanActivateChild guard");B=Vr(L(r,e))}return B.pipe(ms())});return Ke(m).pipe(Za())})});return Ke(o).pipe(Za())}(e,i.path,t),function AO(e,n,t){var r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Ke(!0);var i=r.map(function(o){return A0(function(){var m,l=ec(o,n,t);if(function eO(e){return e&&Si(e.canActivate)}(l))m=Vr(l.canActivate(n,e));else{if(!Si(l))throw new Error("Invalid CanActivate guard");m=Vr(l(n,e))}return m.pipe(ms())})});return Ke(i).pipe(Za())}(e,i.route,t))}),ms(function(i){return!0!==i},!0))}(r,l,e,n):Ke(A)}),Xe(function(A){return Object.assign(Object.assign({},t),{guardsResult:A})}))})}(i.ngModule.injector,function(L){return i.triggerEvent(L)}),Hn(function(L){if(io(L.guardsResult)){var B=pd('Redirecting to "'.concat(i.serializeUrl(L.guardsResult),'"'));throw B.url=L.guardsResult,B}var V=new cx(L.id,i.serializeUrl(L.extractedUrl),i.serializeUrl(L.urlAfterRedirects),L.targetSnapshot,!!L.guardsResult);i.triggerEvent(V)}),lr(function(L){return!!L.guardsResult||(i.restoreHistory(L),i.cancelNavigationTransition(L,""),!1)}),Rd(function(L){if(L.guards.canActivateChecks.length)return Ke(L).pipe(Hn(function(B){var V=new hx(B.id,i.serializeUrl(B.extractedUrl),i.serializeUrl(B.urlAfterRedirects),B.targetSnapshot);i.triggerEvent(V)}),wi(function(B){var V=!1;return Ke(B).pipe(function BO(e,n){return Rt(function(t){var r=t.targetSnapshot,i=t.guards.canActivateChecks;if(!i.length)return Ke(t);var o=0;return Tt(i).pipe(gs(function(l){return function NO(e,n,t,r){return function $O(e,n,t,r){var i=SC(e);if(0===i.length)return Ke({});var o={};return Tt(i).pipe(Rt(function(l){return function HO(e,n,t,r){var i=ec(e,n,r);return Vr(i.resolve?i.resolve(n,t):i(n,t))}(e[l],n,t,r).pipe(Hn(function(m){o[l]=m}))}),dd(1),Rt(function(){return SC(o).length===i.length?Ke(o):xn}))}(e._resolve,e,n,r).pipe(Xe(function(o){return e._resolvedData=o,e.data=Object.assign(Object.assign({},e.data),eC(e,t).resolve),null}))}(l.route,r,e,n)}),Hn(function(){return o++}),dd(1),Rt(function(l){return o===i.length?Ke(t):xn}))})}(i.paramsInheritanceStrategy,i.ngModule.injector),Hn({next:function(){return V=!0},complete:function(){V||(i.restoreHistory(B),i.cancelNavigationTransition(B,"At least one route resolver didn't emit any value."))}}))}),Hn(function(B){var V=new fx(B.id,i.serializeUrl(B.extractedUrl),i.serializeUrl(B.urlAfterRedirects),B.targetSnapshot);i.triggerEvent(V)}))}),Rd(function(L){var te=L.extras;return i.hooks.afterPreactivation(L.targetSnapshot,{navigationId:L.id,appliedUrlTree:L.extractedUrl,rawUrlTree:L.rawUrl,skipLocationChange:!!te.skipLocationChange,replaceUrl:!!te.replaceUrl})}),Xe(function(L){var B=function $x(e,n,t){var r=Xa(e,n._root,t?t._root:void 0);return new Z0(r,n)}(i.routeReuseStrategy,L.targetSnapshot,L.currentRouterState);return Object.assign(Object.assign({},L),{targetRouterState:B})}),Hn(function(L){i.currentUrlTree=L.urlAfterRedirects,i.rawUrlTree=i.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl),i.routerState=L.targetRouterState,"deferred"===i.urlUpdateStrategy&&(L.extras.skipLocationChange||i.setBrowserUrl(i.rawUrlTree,L),i.browserUrlTree=L.urlAfterRedirects)}),function(n,t,r){return Xe(function(i){return new Yx(t,i.targetRouterState,i.currentRouterState,r).activate(n),i})}(i.rootContexts,i.routeReuseStrategy,function(L){return i.triggerEvent(L)}),Hn({next:function(){m=!0},complete:function(){m=!0}}),function sx(e){return gt(function(n,t){try{n.subscribe(t)}finally{t.add(e)}})}(function(){var L;if(!m&&!A){var B="Navigation ID ".concat(l.id," is not equal to the current navigation id ").concat(i.navigationId);i.cancelNavigationTransition(l,B)}(null===(L=i.currentNavigation)||void 0===L?void 0:L.id)===l.id&&(i.currentNavigation=null)}),un(function(L){if(A=!0,function yx(e){return e&&e[B0]}(L)){var B=io(L.url);B||(i.navigated=!0,i.restoreHistory(l,!0));var V=new O0(l.id,i.serializeUrl(l.extractedUrl),L.message);o.next(V),B?setTimeout(function(){var q=i.urlHandlingStrategy.merge(L.url,i.rawUrlTree),te={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===i.urlUpdateStrategy||DC(l.source)};i.scheduleNavigation(q,"imperative",null,te,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{i.restoreHistory(l,!0);var j=new ax(l.id,i.serializeUrl(l.extractedUrl),L);o.next(j);try{l.resolve(i.errorHandler(L))}catch(q){l.reject(q)}}return xn}))}))}},{key:"resetRootComponentType",value:function(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}},{key:"setTransition",value:function(r){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),r))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var r=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(i){var o="popstate"===i.type?"popstate":"hashchange";"popstate"===o&&setTimeout(function(){var l,m={replaceUrl:!0},A=(null===(l=i.state)||void 0===l?void 0:l.navigationId)?i.state:null;if(A){var L=Object.assign({},A);delete L.navigationId,delete L.\u0275routerPageId,0!==Object.keys(L).length&&(m.state=L)}var B=r.parseUrl(i.url);r.scheduleNavigation(B,o,A,m)},0)}))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(r){this.events.next(r)}},{key:"resetConfig",value:function(r){lC(r),this.config=r.map(Ad),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.relativeTo,l=i.queryParams,m=i.fragment,A=i.queryParamsHandling,L=i.preserveFragment,B=o||this.routerState.root,V=L?this.currentUrlTree.fragment:m,j=null;switch(A){case"merge":j=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":j=this.currentUrlTree.queryParams;break;default:j=l||null}return null!==j&&(j=this.removeEmptyProps(j)),Vx(B,this.currentUrlTree,r,j,null!=V?V:null)}},{key:"navigateByUrl",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},o=io(r)?r:this.parseUrl(r),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}},{key:"navigate",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return YO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}},{key:"serializeUrl",value:function(r){return this.urlSerializer.serialize(r)}},{key:"parseUrl",value:function(r){var i;try{i=this.urlSerializer.parse(r)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return i}},{key:"isActive",value:function(r,i){var o;if(o=!0===i?Object.assign({},KO):!1===i?Object.assign({},XO):i,io(r))return V0(this.currentUrlTree,r,o);var l=this.parseUrl(r);return V0(this.currentUrlTree,l,o)}},{key:"removeEmptyProps",value:function(r){return Object.keys(r).reduce(function(i,o){var l=r[o];return null!=l&&(i[o]=l),i},{})}},{key:"processNavigations",value:function(){var r=this;this.navigations.subscribe(function(i){r.navigated=!0,r.lastSuccessfulId=i.id,r.currentPageId=i.targetPageId,r.events.next(new Ga(i.id,r.serializeUrl(i.extractedUrl),r.serializeUrl(r.currentUrlTree))),r.lastSuccessfulNavigation=r.currentNavigation,i.resolve(!0)},function(i){r.console.warn("Unhandled Navigation Error: ".concat(i))})}},{key:"scheduleNavigation",value:function(r,i,o,l,m){var A,L,B,V,j;if(this.disposed)return Promise.resolve(!1);m?(B=m.resolve,V=m.reject,j=m.promise):j=new Promise(function(ue,le){B=ue,V=le});var te,q=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),te=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(A=this.browserPageId)&&void 0!==A?A:0:(null!==(L=this.browserPageId)&&void 0!==L?L:0)+1):te=0,this.setTransition({id:q,targetPageId:te,source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:l,resolve:B,reject:V,promise:j,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),j.catch(function(ue){return Promise.reject(ue)})}},{key:"setBrowserUrl",value:function(r,i){var o=this.urlSerializer.serialize(r),l=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}},{key:"restoreHistory",value:function(r){var o,l,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var m=this.currentPageId-r.targetPageId,A="popstate"===r.source||"eager"===this.urlUpdateStrategy||this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl);A&&0!==m?this.location.historyGo(m):this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===m&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(r,i){var o=new O0(r.id,this.serializeUrl(r.extractedUrl),i);this.triggerEvent(o),r.resolve(!1)}},{key:"generateNgRouterState",value:function(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,"\u0275routerPageId":i}:{navigationId:r}}}]),n}();return e.\u0275fac=function(t){Zh()},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}();function YO(e){for(var n=0;n<e.length;n++){var t=e[n];if(null==t)throw new Error("The requested path contains ".concat(t," segment at index ").concat(n))}}function DC(e){return"imperative"!==e}var ru=function(){var e=function(){function n(t,r,i){var o=this;g(this,n),this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Fe,this.subscription=t.events.subscribe(function(l){l instanceof Ga&&o.updateTargetUrlAndHref()})}return w(n,[{key:"routerLink",set:function(r){this.commands=null!=r?Array.isArray(r)?r:[r]:null}},{key:"ngOnChanges",value:function(r){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(r,i,o,l,m){if(0!==r||i||o||l||m||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;var A={skipLocationChange:Cs(this.skipLocationChange),replaceUrl:Cs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,A),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}},{key:"urlTree",get:function(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Cs(this.preserveFragment)})}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(Rn),de(ro),de(ps))},e.\u0275dir=Ne({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&vt("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Br("target",r.target)("href",r.href,ih)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Nn]}),e}();function Cs(e){return""===e||!!e}var AC=w(function e(){g(this,e)}),QO=function(){function e(){g(this,e)}return w(e,[{key:"preload",value:function(t,r){return r().pipe(un(function(){return Ke(null)}))}}]),e}(),MC=function(){function e(){g(this,e)}return w(e,[{key:"preload",value:function(t,r){return Ke(null)}}]),e}(),RC=function(){var e=function(){function n(t,r,i,o){g(this,n),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new EC(i,r,function(L){return t.triggerEvent(new I0(L))},function(L){return t.triggerEvent(new P0(L))})}return w(n,[{key:"setUpPreloading",value:function(){var r=this;this.subscription=this.router.events.pipe(lr(function(i){return i instanceof Ga}),gs(function(){return r.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var r=this.injector.get(ti);return this.processRoutes(r,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(r,i){var m,o=[],l=p(i);try{for(l.s();!(m=l.n()).done;){var A=m.value;if(A.loadChildren&&!A.canLoad&&A._loadedConfig){var L=A._loadedConfig;o.push(this.processRoutes(L.module,L.routes))}else A.loadChildren&&!A.canLoad?o.push(this.preloadConfig(r,A)):A.children&&o.push(this.processRoutes(r,A.children))}}catch(B){l.e(B)}finally{l.f()}return Tt(o).pipe(zr(),Xe(function(B){}))}},{key:"preloadConfig",value:function(r,i){var o=this;return this.preloadingStrategy.preload(i,function(){return(i._loadedConfig?Ke(i._loadedConfig):o.loader.load(r.injector,i)).pipe(Rt(function(m){return i._loadedConfig=m,o.processRoutes(m.module,m.routes)}))})}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(Rn),Te(b_),Te(Dn),Te(AC))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),xd=function(){var e=function(){function n(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g(this,n),this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return w(n,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var r=this;return this.router.events.subscribe(function(i){i instanceof vd?(r.store[r.lastId]=r.viewportScroller.getScrollPosition(),r.lastSource=i.navigationTrigger,r.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ga&&(r.lastId=i.id,r.scheduleScrollEvent(i,r.router.parseUrl(i.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var r=this;return this.router.events.subscribe(function(i){i instanceof F0&&(i.position?"top"===r.options.scrollPositionRestoration?r.viewportScroller.scrollToPosition([0,0]):"enabled"===r.options.scrollPositionRestoration&&r.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===r.options.anchorScrolling?r.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==r.options.scrollPositionRestoration&&r.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(r,i){this.router.triggerEvent(new F0(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),n}();return e.\u0275fac=function(t){Zh()},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),oo=new Je("ROUTER_CONFIGURATION"),TC=new Je("ROUTER_FORROOT_GUARD"),eI=[Wf,{provide:G0,useClass:q0},{provide:Rn,useFactory:function oI(e,n,t,r,i,o){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},m=arguments.length>7?arguments[7]:void 0,A=arguments.length>8?arguments[8]:void 0,L=new Rn(null,e,n,t,r,i,$0(o));return m&&(L.urlHandlingStrategy=m),A&&(L.routeReuseStrategy=A),sI(l,L),l.enableTracing&&L.events.subscribe(function(B){var V,j;null===(V=console.group)||void 0===V||V.call(console,"Router Event: ".concat(B.constructor.name)),console.log(B.toString()),console.log(B),null===(j=console.groupEnd)||void 0===j||j.call(console)}),L},deps:[G0,Qa,Wf,Dn,b_,Td,oo,[jO,new gi],[UO,new gi]]},Qa,{provide:ro,useFactory:function aI(e){return e.routerState.root},deps:[Rn]},RC,MC,QO,{provide:oo,useValue:{enableTracing:!1}}];function tI(){return new D_("Router",Rn)}var LC=function(){var e=function(){function n(t,r){g(this,n)}return w(n,null,[{key:"forRoot",value:function(r,i){return{ngModule:n,providers:[eI,xC(r),{provide:TC,useFactory:iI,deps:[[Rn,new gi,new va]]},{provide:oo,useValue:i||{}},{provide:ps,useFactory:rI,deps:[eo,[new Gu(Vf),new gi],oo]},{provide:xd,useFactory:nI,deps:[Rn,uL,oo]},{provide:AC,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:MC},{provide:D_,multi:!0,useFactory:tI},[Od,{provide:kf,multi:!0,useFactory:uI,deps:[Od]},{provide:OC,useFactory:lI,deps:[Od]},{provide:C_,multi:!0,useExisting:OC}]]}}},{key:"forChild",value:function(r){return{ngModule:n,providers:[xC(r)]}}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(TC,8),Te(Rn,8))},e.\u0275mod=Pn({type:e}),e.\u0275inj=Sn({}),e}();function nI(e,n,t){return t.scrollOffset&&n.setOffset(t.scrollOffset),new xd(e,n,t)}function rI(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.useHash?new jR(e,n):new z_(e,n)}function iI(e){return"guarded"}function xC(e){return[{provide:dS,multi:!0,useValue:e},{provide:Td,multi:!0,useValue:e}]}function sI(e,n){e.errorHandler&&(n.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(n.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(n.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(n.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(n.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(n.canceledNavigationResolution=e.canceledNavigationResolution)}var Od=function(){var e=function(){function n(t){g(this,n),this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Fe}return w(n,[{key:"appInitializer",value:function(){var r=this;return this.injector.get(UR,Promise.resolve(null)).then(function(){if(r.destroyed)return Promise.resolve(!0);var o=null,l=new Promise(function(L){return o=L}),m=r.injector.get(Rn),A=r.injector.get(oo);return"disabled"===A.initialNavigation?(m.setUpLocationChangeListener(),o(!0)):"enabled"===A.initialNavigation||"enabledBlocking"===A.initialNavigation?(m.hooks.afterPreactivation=function(){return r.initNavigation?Ke(null):(r.initNavigation=!0,o(!0),r.resultOfPreactivationDone)},m.initialNavigation()):o(!0),l})}},{key:"bootstrapListener",value:function(r){var i=this.injector.get(oo),o=this.injector.get(RC),l=this.injector.get(xd),m=this.injector.get(Rn),A=this.injector.get(If);r===A.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&m.initialNavigation(),o.setUpPreloading(),l.init(),m.resetRootComponentType(A.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(Dn))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}();function uI(e){return e.appInitializer.bind(e)}function lI(e){return e.bootstrapListener.bind(e)}var OC=new Je("Router Initializer"),hI=function(){var e=function(){function n(){g(this,n)}return w(n,[{key:"ngOnInit",value:function(){}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=vr({type:e,selectors:[["app-reset-password"]],decls:2,vars:0,template:function(t,r){1&t&&(Le(0,"p"),ot(1,"reset-password works!"),Re())},styles:[""]}),e}(),IC=function(){var e=function(){function n(t,r){g(this,n),this._renderer=t,this._elementRef=r,this.onChange=function(i){},this.onTouched=function(){}}return w(n,[{key:"setProperty",value:function(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}},{key:"registerOnTouched",value:function(r){this.onTouched=r}},{key:"registerOnChange",value:function(r){this.onChange=r}},{key:"setDisabledState",value:function(r){this.setProperty("disabled",r)}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(Sr),de(hn))},e.\u0275dir=Ne({type:e}),e}(),so=function(){var e=function(n){v(r,n);var t=c(r);function r(){return g(this,r),t.apply(this,arguments)}return w(r)}(IC);return e.\u0275fac=function(){var n;return function(r){return(n||(n=gn(e)))(r||e)}}(),e.\u0275dir=Ne({type:e,features:[dt]}),e}(),Wr=new Je("NgValueAccessor"),vI={provide:Wr,useExisting:lt(function(){return iu}),multi:!0},gI=new Je("CompositionEventMode"),iu=function(){var e=function(n){v(r,n);var t=c(r);function r(i,o,l){var m;return g(this,r),(m=t.call(this,i,o))._compositionMode=l,m._composing=!1,null==m._compositionMode&&(m._compositionMode=!function pI(){var e=Hr()?Hr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}()),m}return w(r,[{key:"writeValue",value:function(o){this.setProperty("value",null==o?"":o)}},{key:"_handleInput",value:function(o){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(o)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(o){this._composing=!1,this._compositionMode&&this.onChange(o)}}]),r}(IC);return e.\u0275fac=function(t){return new(t||e)(de(Sr),de(hn),de(gI,8))},e.\u0275dir=Ne({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&vt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[It([vI]),dt]}),e}();var bn=new Je("NgValidators"),ki=new Je("NgAsyncValidators");function CI(e){return function Ei(e){return null==e||0===e.length}(e.value)?{required:!0}:null}function Id(e){return null}function BC(e){return null!=e}function NC(e){var n=Ma(e)?Tt(e):e;return nf(n),n}function $C(e){var n={};return e.forEach(function(t){n=null!=t?Object.assign(Object.assign({},n),t):n}),0===Object.keys(n).length?null:n}function HC(e,n){return n.map(function(t){return t(e)})}function UC(e){return e.map(function(n){return function DI(e){return!e.validate}(n)?n:function(t){return n.validate(t)}})}function Pd(e){return null!=e?function AI(e){if(!e)return null;var n=e.filter(BC);return 0==n.length?null:function(t){return $C(HC(t,n))}}(UC(e)):null}function Fd(e){return null!=e?function MI(e){if(!e)return null;var n=e.filter(BC);return 0==n.length?null:function(t){return function fI(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=Eo(n),i=S0(n),o=i.args,l=i.keys,m=new xe(function(A){var L=o.length;if(L)for(var B=new Array(L),V=L,j=L,q=function(ue){var le=!1;on(o[ue]).subscribe(_t(A,function(ae){le||(le=!0,j--),B[ue]=ae},function(){return V--},void 0,function(){(!V||!le)&&(j||A.next(l?E0(l,B):B),A.complete())}))},te=0;te<L;te++)q(te);else A.complete()});return r?m.pipe(hd(r)):m}(HC(t,n).map(NC)).pipe(Xe($C))}}(UC(e)):null}function VC(e,n){return null===e?[n]:Array.isArray(e)?[].concat(T(e),[n]):[e,n]}function Bd(e){return e?Array.isArray(e)?e:[e]:[]}function tc(e,n){return Array.isArray(e)?e.includes(n):e===n}function zC(e,n){var t=Bd(n);return Bd(e).forEach(function(i){tc(t,i)||t.push(i)}),t}function GC(e,n){return Bd(n).filter(function(t){return!tc(e,t)})}var qC=function(){function e(){g(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return w(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=Pd(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Fd(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,r){return!!this.control&&this.control.hasError(t,r)}},{key:"getError",value:function(t,r){return this.control?this.control.getError(t,r):null}}]),e}(),Di=function(e){v(t,e);var n=c(t);function t(){var r;return g(this,t),(r=n.apply(this,arguments))._parent=null,r.name=null,r.valueAccessor=null,r}return w(t)}(qC),Tn=function(e){v(t,e);var n=c(t);function t(){return g(this,t),n.apply(this,arguments)}return w(t,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),t}(qC),KC=function(){function e(n){g(this,e),this._cd=n}return w(e,[{key:"is",value:function(t){var r,i,o;return"submitted"===t?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(o=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===o?void 0:o[t])}}]),e}(),Nd=function(){var e=function(n){v(r,n);var t=c(r);function r(i){return g(this,r),t.call(this,i)}return w(r)}(KC);return e.\u0275fac=function(t){return new(t||e)(de(Di,2))},e.\u0275dir=Ne({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&ll("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[dt]}),e}(),$d=function(){var e=function(n){v(r,n);var t=c(r);function r(i){return g(this,r),t.call(this,i)}return w(r)}(KC);return e.\u0275fac=function(t){return new(t||e)(de(Tn,10))},e.\u0275dir=Ne({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&ll("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[dt]}),e}();function ou(e,n){Vd(e,n),n.valueAccessor.writeValue(e.value),function FI(e,n){n.valueAccessor.registerOnChange(function(t){e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&YC(e,n)})}(e,n),function NI(e,n){var t=function(i,o){n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(function(){e._unregisterOnChange(t)})}(e,n),function BI(e,n){n.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&YC(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function PI(e,n){if(n.valueAccessor.setDisabledState){var t=function(i){n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(function(){e._unregisterOnDisabledChange(t)})}}(e,n)}function oc(e,n){e.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function Vd(e,n){var t=function WC(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(VC(t,n.validator)):"function"==typeof t&&e.setValidators([t]);var r=function jC(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(VC(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};oc(n._rawValidators,i),oc(n._rawAsyncValidators,i)}function YC(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function zd(e,n){var t=e.indexOf(n);t>-1&&e.splice(t,1)}var su="VALID",ac="INVALID",bs="PENDING",au="DISABLED";function qd(e){return(uc(e)?e.validators:e)||null}function eb(e){return Array.isArray(e)?Pd(e):e||null}function Kd(e,n){return(uc(n)?n.asyncValidators:e)||null}function tb(e){return Array.isArray(e)?Fd(e):e||null}function uc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Xd=function(n){return n instanceof Jd};function rb(e){return e instanceof uu?e.value:e.getRawValue()}function ib(e,n){var t=Xd(e),r=e.controls;if(!(t?Object.keys(r):r).length)throw new Ie(1e3,"");if(!r[n])throw new Ie(1001,"")}function ob(e,n){Xd(e),e._forEachChild(function(r,i){if(void 0===n[i])throw new Ie(1002,"")})}var Yd=function(){function e(n,t){g(this,e),this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=t,this._composedValidatorFn=eb(this._rawValidators),this._composedAsyncValidatorFn=tb(this._rawAsyncValidators)}return w(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===su}},{key:"invalid",get:function(){return this.status===ac}},{key:"pending",get:function(){return this.status==bs}},{key:"disabled",get:function(){return this.status===au}},{key:"enabled",get:function(){return this.status!==au}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=eb(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=tb(t)}},{key:"addValidators",value:function(t){this.setValidators(zC(t,this._rawValidators))}},{key:"addAsyncValidators",value:function(t){this.setAsyncValidators(zC(t,this._rawAsyncValidators))}},{key:"removeValidators",value:function(t){this.setValidators(GC(t,this._rawValidators))}},{key:"removeAsyncValidators",value:function(t){this.setAsyncValidators(GC(t,this._rawAsyncValidators))}},{key:"hasValidator",value:function(t){return tc(this._rawValidators,t)}},{key:"hasAsyncValidator",value:function(t){return tc(this._rawAsyncValidators,t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(r){r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(r){r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=bs,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this._parentMarkedDirty(t.onlySelf);this.status=au,this.errors=null,this._forEachChild(function(i){i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:r})),this._onDisabledChange.forEach(function(i){return i(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this._parentMarkedDirty(t.onlySelf);this.status=su,this._forEachChild(function(i){i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:r})),this._onDisabledChange.forEach(function(i){return i(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===su||this.status===bs)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(r){return r._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?au:su}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var r=this;if(this.asyncValidator){this.status=bs,this._hasOwnPendingAsyncValidator=!0;var i=NC(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(function(o){r._hasOwnPendingAsyncValidator=!1,r.setErrors(o,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}},{key:"get",value:function(t){return function VI(e,n,t){if(null==n||(Array.isArray(n)||(n=n.split(t)),Array.isArray(n)&&0===n.length))return null;var r=e;return n.forEach(function(i){r=Xd(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:function(n){return n instanceof jI}(r)&&r.at(i)||null}),r}(this,t,".")}},{key:"getError",value:function(t,r){var i=r?this.get(r):this;return i&&i.errors?i.errors[t]:null}},{key:"hasError",value:function(t,r){return!!this.getError(t,r)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new ht,this.statusChanges=new ht}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?au:this.errors?ac:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bs)?bs:this._anyControlsHaveStatus(ac)?ac:su}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(r){return r.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){uc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),uu=function(e){v(t,e);var n=c(t);function t(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0;return g(this,t),(r=n.call(this,qd(o),Kd(l,o))).defaultValue=null,r._onChange=[],r._pendingChange=!1,r._applyFormState(i),r._setUpdateStrategy(o),r._initObservables(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!!r.asyncValidator}),uc(o)&&o.initialValueIsDefault&&(r.defaultValue=r._isBoxedValue(i)?i.value:i),r}return w(t,[{key:"setValue",value:function(i){var o=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=i,this._onChange.length&&!1!==l.emitModelToViewChange&&this._onChange.forEach(function(m){return m(o.value,!1!==l.emitViewToModelChange)}),this.updateValueAndValidity(l)}},{key:"patchValue",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(i,o)}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultValue,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(i),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(i){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(i){this._onChange.push(i)}},{key:"_unregisterOnChange",value:function(i){zd(this._onChange,i)}},{key:"registerOnDisabledChange",value:function(i){this._onDisabledChange.push(i)}},{key:"_unregisterOnDisabledChange",value:function(i){zd(this._onDisabledChange,i)}},{key:"_forEachChild",value:function(i){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}]),t}(Yd),Jd=function(e){v(t,e);var n=c(t);function t(r,i,o){var l;return g(this,t),(l=n.call(this,qd(i),Kd(o,i))).controls=r,l._initObservables(),l._setUpdateStrategy(i),l._setUpControls(),l.updateValueAndValidity({onlySelf:!0,emitEvent:!!l.asyncValidator}),l}return w(t,[{key:"registerControl",value:function(i,o){return this.controls[i]?this.controls[i]:(this.controls[i]=o,o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange),o)}},{key:"addControl",value:function(i,o){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(i,o),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(i,o){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],o&&this.registerControl(i,o),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}},{key:"setValue",value:function(i){var o=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ob(this,i),Object.keys(i).forEach(function(m){ib(o,m),o.controls[m].setValue(i[m],{onlySelf:!0,emitEvent:l.emitEvent})}),this.updateValueAndValidity(l)}},{key:"patchValue",value:function(i){var o=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(Object.keys(i).forEach(function(m){o.controls[m]&&o.controls[m].patchValue(i[m],{onlySelf:!0,emitEvent:l.emitEvent})}),this.updateValueAndValidity(l))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(l,m){l.reset(i[m],{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o),this._updateTouched(o),this.updateValueAndValidity(o)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(i,o,l){return i[l]=rb(o),i})}},{key:"_syncPendingControls",value:function(){var i=this._reduceChildren(!1,function(o,l){return!!l._syncPendingControls()||o});return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_forEachChild",value:function(i){var o=this;Object.keys(this.controls).forEach(function(l){var m=o.controls[l];m&&i(m,l)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(o){o.setParent(i),o._registerOnCollectionChange(i._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(i){for(var o=0,l=Object.keys(this.controls);o<l.length;o++){var m=l[o],A=this.controls[m];if(this.contains(m)&&i(A))return!0}return!1}},{key:"_reduceValue",value:function(){var i=this;return this._reduceChildren({},function(o,l,m){return(l.enabled||i.disabled)&&(o[m]=l.value),o})}},{key:"_reduceChildren",value:function(i,o){var l=i;return this._forEachChild(function(m,A){l=o(l,m,A)}),l}},{key:"_allControlsDisabled",value:function(){for(var i=0,o=Object.keys(this.controls);i<o.length;i++)if(this.controls[o[i]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}]),t}(Yd),jI=function(e){v(t,e);var n=c(t);function t(r,i,o){var l;return g(this,t),(l=n.call(this,qd(i),Kd(o,i))).controls=r,l._initObservables(),l._setUpdateStrategy(i),l._setUpControls(),l.updateValueAndValidity({onlySelf:!0,emitEvent:!!l.asyncValidator}),l}return w(t,[{key:"at",value:function(i){return this.controls[i]}},{key:"push",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(i,o){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(i,0,o),this._registerControl(o),this.updateValueAndValidity({emitEvent:l.emitEvent})}},{key:"removeAt",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:o.emitEvent})}},{key:"setControl",value:function(i,o){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),o&&(this.controls.splice(i,0,o),this._registerControl(o)),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(i){var o=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ob(this,i),i.forEach(function(m,A){ib(o,A),o.at(A).setValue(m,{onlySelf:!0,emitEvent:l.emitEvent})}),this.updateValueAndValidity(l)}},{key:"patchValue",value:function(i){var o=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(i.forEach(function(m,A){o.at(A)&&o.at(A).patchValue(m,{onlySelf:!0,emitEvent:l.emitEvent})}),this.updateValueAndValidity(l))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(l,m){l.reset(i[m],{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o),this._updateTouched(o),this.updateValueAndValidity(o)}},{key:"getRawValue",value:function(){return this.controls.map(function(i){return rb(i)})}},{key:"clear",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(o){return o._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}},{key:"_syncPendingControls",value:function(){var i=this.controls.reduce(function(o,l){return!!l._syncPendingControls()||o},!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_forEachChild",value:function(i){this.controls.forEach(function(o,l){i(o,l)})}},{key:"_updateValue",value:function(){var i=this;this.value=this.controls.filter(function(o){return o.enabled||i.disabled}).map(function(o){return o.value})}},{key:"_anyControls",value:function(i){return this.controls.some(function(o){return o.enabled&&i(o)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(o){return i._registerControl(o)})}},{key:"_allControlsDisabled",value:function(){var o,i=p(this.controls);try{for(i.s();!(o=i.n()).done;)if(o.value.enabled)return!1}catch(m){i.e(m)}finally{i.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}]),t}(Yd),zI={provide:Tn,useExisting:lt(function(){return cu})},lu=function(){return Promise.resolve(null)}(),cu=function(){var e=function(n){v(r,n);var t=c(r);function r(i,o){var l;return g(this,r),(l=t.call(this)).submitted=!1,l._directives=new Set,l.ngSubmit=new ht,l.form=new Jd({},Pd(i),Fd(o)),l}return w(r,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(o){var l=this;lu.then(function(){var m=l._findContainer(o.path);o.control=m.registerControl(o.name,o.control),ou(o.control,o),o.control.updateValueAndValidity({emitEvent:!1}),l._directives.add(o)})}},{key:"getControl",value:function(o){return this.form.get(o.path)}},{key:"removeControl",value:function(o){var l=this;lu.then(function(){var m=l._findContainer(o.path);m&&m.removeControl(o.name),l._directives.delete(o)})}},{key:"addFormGroup",value:function(o){var l=this;lu.then(function(){var m=l._findContainer(o.path),A=new Jd({});(function JC(e,n){Vd(e,n)})(A,o),m.registerControl(o.name,A),A.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(o){var l=this;lu.then(function(){var m=l._findContainer(o.path);m&&m.removeControl(o.name)})}},{key:"getFormGroup",value:function(o){return this.form.get(o.path)}},{key:"updateModel",value:function(o,l){var m=this;lu.then(function(){m.form.get(o.path).setValue(l)})}},{key:"setValue",value:function(o){this.control.setValue(o)}},{key:"onSubmit",value:function(o){return this.submitted=!0,function QC(e,n){e._syncPendingControls(),n.forEach(function(t){var r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(o),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(o),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(o){return o.pop(),o.length?this.form.get(o):this.form}}]),r}(Tn);return e.\u0275fac=function(t){return new(t||e)(de(bn,10),de(ki,10))},e.\u0275dir=Ne({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&vt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[It([zI]),dt]}),e}(),qI={provide:Di,useExisting:lt(function(){return lc})},ub=function(){return Promise.resolve(null)}(),lc=function(){var e=function(n){v(r,n);var t=c(r);function r(i,o,l,m,A){var L;return g(this,r),(L=t.call(this))._changeDetectorRef=A,L.control=new uu,L._registered=!1,L.update=new ht,L._parent=i,L._setValidators(o),L._setAsyncValidators(l),L.valueAccessor=function jd(e,n){if(!n)return null;Array.isArray(n);var t=void 0,r=void 0,i=void 0;return n.forEach(function(o){o.constructor===iu?t=o:function UI(e){return Object.getPrototypeOf(e.constructor)===so}(o)?r=o:i=o}),i||r||t||null}(a(L),m),L}return w(r,[{key:"ngOnChanges",value:function(o){if(this._checkForErrors(),!this._registered||"name"in o){if(this._registered&&(this._checkName(),this.formDirective)){var l=o.name.previousValue;this.formDirective.removeControl({name:l,path:this._getPath(l)})}this._setUpControl()}"isDisabled"in o&&this._updateDisabled(o),function Wd(e,n){if(!e.hasOwnProperty("model"))return!1;var t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(o,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._getPath(this.name)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(o){this.viewModel=o,this.update.emit(o)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){ou(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(o){var l=this;ub.then(function(){var m;l.control.setValue(o,{emitViewToModelChange:!1}),null===(m=l._changeDetectorRef)||void 0===m||m.markForCheck()})}},{key:"_updateDisabled",value:function(o){var l=this,m=o.isDisabled.currentValue,A=""===m||m&&"false"!==m;ub.then(function(){var L;A&&!l.control.disabled?l.control.disable():!A&&l.control.disabled&&l.control.enable(),null===(L=l._changeDetectorRef)||void 0===L||L.markForCheck()})}},{key:"_getPath",value:function(o){return this._parent?function rc(e,n){return[].concat(T(n.path),[e])}(o,this._parent):[o]}}]),r}(Di);return e.\u0275fac=function(t){return new(t||e)(de(Tn,9),de(bn,10),de(ki,10),de(Wr,10),de(vs,8))},e.\u0275dir=Ne({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[It([qI]),dt,Nn]}),e}(),Zd=function(){var e=w(function n(){g(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Ne({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e}(),cb=function(){var e=w(function n(){g(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Sn({}),e}(),rP={provide:Wr,useExisting:lt(function(){return nv}),multi:!0};function mb(e,n){return null==e?"".concat(n):(n&&"object"==typeof n&&(n="Object"),"".concat(e,": ").concat(n).slice(0,50))}var nv=function(){var e=function(n){v(r,n);var t=c(r);function r(){var i;return g(this,r),(i=t.apply(this,arguments))._optionMap=new Map,i._idCounter=0,i._compareWith=Object.is,i}return w(r,[{key:"compareWith",set:function(o){this._compareWith=o}},{key:"writeValue",value:function(o){this.value=o;var m=mb(this._getOptionId(o),o);this.setProperty("value",m)}},{key:"registerOnChange",value:function(o){var l=this;this.onChange=function(m){l.value=l._getOptionValue(m),o(l.value)}}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(o){for(var l=0,m=Array.from(this._optionMap.keys());l<m.length;l++){var A=m[l];if(this._compareWith(this._optionMap.get(A),o))return A}return null}},{key:"_getOptionValue",value:function(o){var l=function iP(e){return e.split(":")[0]}(o);return this._optionMap.has(l)?this._optionMap.get(l):o}}]),r}(so);return e.\u0275fac=function(){var n;return function(r){return(n||(n=gn(e)))(r||e)}}(),e.\u0275dir=Ne({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&vt("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[It([rP]),dt]}),e}(),yb=function(){var e=function(){function n(t,r,i){g(this,n),this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}return w(n,[{key:"ngValue",set:function(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(mb(this.id,r)),this._select.writeValue(this._select.value))}},{key:"value",set:function(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(hn),de(Sr),de(nv,9))},e.\u0275dir=Ne({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}(),oP={provide:Wr,useExisting:lt(function(){return rv}),multi:!0};function _b(e,n){return null==e?"".concat(n):("string"==typeof n&&(n="'".concat(n,"'")),n&&"object"==typeof n&&(n="Object"),"".concat(e,": ").concat(n).slice(0,50))}var rv=function(){var e=function(n){v(r,n);var t=c(r);function r(){var i;return g(this,r),(i=t.apply(this,arguments))._optionMap=new Map,i._idCounter=0,i._compareWith=Object.is,i}return w(r,[{key:"compareWith",set:function(o){this._compareWith=o}},{key:"writeValue",value:function(o){var m,l=this;if(this.value=o,Array.isArray(o)){var A=o.map(function(L){return l._getOptionId(L)});m=function(B,V){B._setSelected(A.indexOf(V.toString())>-1)}}else m=function(B,V){B._setSelected(!1)};this._optionMap.forEach(m)}},{key:"registerOnChange",value:function(o){var l=this;this.onChange=function(m){var A=[],L=m.selectedOptions;if(void 0!==L)for(var B=L,V=0;V<B.length;V++){var q=l._getOptionValue(B[V].value);A.push(q)}else for(var te=m.options,se=0;se<te.length;se++){var ue=te[se];if(ue.selected){var le=l._getOptionValue(ue.value);A.push(le)}}l.value=A,o(A)}}},{key:"_registerOption",value:function(o){var l=(this._idCounter++).toString();return this._optionMap.set(l,o),l}},{key:"_getOptionId",value:function(o){for(var l=0,m=Array.from(this._optionMap.keys());l<m.length;l++){var A=m[l];if(this._compareWith(this._optionMap.get(A)._value,o))return A}return null}},{key:"_getOptionValue",value:function(o){var l=function sP(e){return e.split(":")[0]}(o);return this._optionMap.has(l)?this._optionMap.get(l)._value:o}}]),r}(so);return e.\u0275fac=function(){var n;return function(r){return(n||(n=gn(e)))(r||e)}}(),e.\u0275dir=Ne({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&vt("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[It([oP]),dt]}),e}(),Cb=function(){var e=function(){function n(t,r,i){g(this,n),this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}return w(n,[{key:"ngValue",set:function(r){null!=this._select&&(this._value=r,this._setElementValue(_b(this.id,r)),this._select.writeValue(this._select.value))}},{key:"value",set:function(r){this._select?(this._value=r,this._setElementValue(_b(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}},{key:"_setElementValue",value:function(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}},{key:"_setSelected",value:function(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(hn),de(Sr),de(rv,9))},e.\u0275dir=Ne({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}();function aP(e){return null!=e&&!1!==e&&"false"!=="".concat(e)}var ao=function(){var e=function(){function n(){g(this,n),this._validator=Id}return w(n,[{key:"ngOnChanges",value:function(r){if(this.inputName in r){var i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Id,this._onChange&&this._onChange()}}},{key:"validate",value:function(r){return this._validator(r)}},{key:"registerOnValidatorChange",value:function(r){this._onChange=r}},{key:"enabled",value:function(r){return null!=r}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Ne({type:e,features:[Nn]}),e}(),cP={provide:bn,useExisting:lt(function(){return hu}),multi:!0},hu=function(){var e=function(n){v(r,n);var t=c(r);function r(){var i;return g(this,r),(i=t.apply(this,arguments)).inputName="required",i.normalizeInput=function(o){return aP(o)},i.createValidator=function(o){return CI},i}return w(r,[{key:"enabled",value:function(o){return o}}]),r}(ao);return e.\u0275fac=function(){var n;return function(r){return(n||(n=gn(e)))(r||e)}}(),e.\u0275dir=Ne({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Br("required",r._enabled?"":null)},inputs:{required:"required"},features:[It([cP]),dt]}),e}(),gP=function(){var e=w(function n(){g(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Sn({imports:[[cb]]}),e}(),mP=function(){var e=w(function n(){g(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Sn({imports:[gP]}),e}(),yP=ne(4793),_P=ne(9162),DP=function(e){v(t,e);var n=c(t);function t(r,i){return g(this,t),n.call(this)}return w(t,[{key:"schedule",value:function(i){return this}}]),t}(X),cc={setInterval:function(e){function n(t,r){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e,n){for(var t=cc.delegate,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return(null==t?void 0:t.setInterval)?t.setInterval.apply(t,[e,n].concat(i)):setInterval.apply(void 0,[e,n].concat(i))}),clearInterval:function(e){function n(t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){var n=cc.delegate;return((null==n?void 0:n.clearInterval)||clearInterval)(e)}),delegate:void 0},AP=function(e){v(t,e);var n=c(t);function t(r,i){var o;return g(this,t),(o=n.call(this,r,i)).scheduler=r,o.work=i,o.pending=!1,o}return w(t,[{key:"schedule",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=i;var l=this.id,m=this.scheduler;return null!=l&&(this.id=this.recycleAsyncId(m,l,o)),this.pending=!0,this.delay=o,this.id=this.id||this.requestAsyncId(m,this.id,o),this}},{key:"requestAsyncId",value:function(i,o){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return cc.setInterval(i.flush.bind(i,this),l)}},{key:"recycleAsyncId",value:function(i,o){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=l&&this.delay===l&&!1===this.pending)return o;cc.clearInterval(o)}},{key:"execute",value:function(i,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var l=this._execute(i,o);if(l)return l;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(i,o){var m,l=!1;try{this.work(i)}catch(A){l=!0,m=A||new Error("Scheduled action threw falsy error")}if(l)return this.unsubscribe(),m}},{key:"unsubscribe",value:function(){if(!this.closed){var i=this.id,o=this.scheduler,l=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,z(l,this),null!=i&&(this.id=this.recycleAsyncId(o,i,null)),this.delay=null,x(N(t.prototype),"unsubscribe",this).call(this)}}}]),t}(DP),Lb={now:function(){return(Lb.delegate||Date).now()},delegate:void 0},ov=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;g(this,e),this.schedulerActionCtor=n,this.now=t}return w(e,[{key:"schedule",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,t).schedule(i,r)}}]),e}();ov.now=Lb.now;var MP=function(e){v(t,e);var n=c(t);function t(r){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ov.now;return g(this,t),(i=n.call(this,r,o)).actions=[],i._active=!1,i._scheduled=void 0,i}return w(t,[{key:"flush",value:function(i){var o=this.actions;if(this._active)o.push(i);else{var l;this._active=!0;do{if(l=i.execute(i.state,i.delay))break}while(i=o.shift());if(this._active=!1,l){for(;i=o.shift();)i.unsubscribe();throw l}}}}]),t}(ov),xb=new MP(AP),RP=xb;function TP(e){return gt(function(n,t){var r=!1,i=null,o=null,l=!1,m=function(){if(null==o||o.unsubscribe(),o=null,r){r=!1;var B=i;i=null,t.next(B)}l&&t.complete()},A=function(){o=null,l&&t.complete()};n.subscribe(_t(t,function(L){r=!0,i=L,o||on(e(L)).subscribe(o=_t(t,m,A))},function(){l=!0,(!r||!o||o.closed)&&t.complete()}))})}function LP(e){return e instanceof Date&&!isNaN(e)}function xP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RP,r=-1;return null!=n&&(So(n)?t=n:r=n),new xe(function(i){var o=LP(e)?+e-t.now():e;o<0&&(o=0);var l=0;return t.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function ws(e){return gt(function(n,t){on(e).subscribe(_t(t,function(){return t.complete()},Y)),!t.closed&&n.subscribe(t)})}var uo="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function hc(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=Math.abs(e-n);return r<t}function Ob(e,n,t,r){var i={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return n.top&&(i.top+=r),n.bottom&&(i.bottom+=r),n.left&&(i.left+=t),n.right&&(i.right+=t),i.height=i.bottom-i.top,i.width=i.right-i.left,i}function Ib(e){var n=e.clientY,t=e.rect;return n>=t.top&&n<=t.bottom}function Pb(e){var n=e.clientX,t=e.rect;return n>=t.left&&n<=t.right}function Fb(e){var n=e.clientX,t=e.clientY,i=e.allowedEdges,o=e.cursorPrecision,l=e.elm.nativeElement.getBoundingClientRect(),m={};return i.left&&hc(n,l.left,o)&&Ib({clientY:t,rect:l})&&(m.left=!0),i.right&&hc(n,l.right,o)&&Ib({clientY:t,rect:l})&&(m.right=!0),i.top&&hc(t,l.top,o)&&Pb({clientX:n,rect:l})&&(m.top=!0),i.bottom&&hc(t,l.bottom,o)&&Pb({clientX:n,rect:l})&&(m.bottom=!0),m}var Bb=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function sv(e,n){return e.left&&e.top?n.topLeft:e.right&&e.top?n.topRight:e.left&&e.bottom?n.bottomLeft:e.right&&e.bottom?n.bottomRight:e.left||e.right?n.leftOrRight:e.top||e.bottom?n.topOrBottom:""}function fc(e){var t=e.initialRectangle,r=e.newRectangle,i={};return Object.keys(e.edges).forEach(function(o){i[o]=(r[o]||0)-(t[o]||0)}),i}var Nb="resize-active",$b=function(){var e=function(){function n(t,r,i,o){g(this,n),this.platformId=t,this.renderer=r,this.elm=i,this.zone=o,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Bb,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new ht,this.resizing=new ht,this.resizeEnd=new ht,this.mouseup=new Fe,this.mousedown=new Fe,this.mousemove=new Fe,this.destroy$=new Fe,this.resizeEdges$=new Fe,this.pointerEventListeners=VP.getInstance(r,o)}return w(n,[{key:"ngOnInit",value:function(){var m,r=this,i=Vn(this.pointerEventListeners.pointerDown,this.mousedown),o=Vn(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Hn(function(V){var j=V.event;if(m)try{j.preventDefault()}catch(q){}}),dn()),l=Vn(this.pointerEventListeners.pointerUp,this.mouseup),A=function(){m&&m.clonedNode&&(r.elm.nativeElement.parentElement.removeChild(m.clonedNode),r.renderer.setStyle(r.elm.nativeElement,"visibility","inherit"))},L=function(){return Object.assign({},Bb,r.resizeCursors)};this.resizeEdges$.pipe(R0(this.resizeEdges),Xe(function(){return r.resizeEdges&&Object.keys(r.resizeEdges).some(function(V){return!!r.resizeEdges[V]})}),wi(function(V){return V?o:xn}),function OP(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xb;return TP(function(){return xP(e,n)})}(this.mouseMoveThrottleMS),ws(this.destroy$)).subscribe(function(V){var te=Fb({clientX:V.clientX,clientY:V.clientY,elm:r.elm,allowedEdges:r.resizeEdges,cursorPrecision:r.resizeCursorPrecision}),se=L();if(!m){var ue=sv(te,se);r.renderer.setStyle(r.elm.nativeElement,"cursor",ue)}r.setElementClass(r.elm,"resize-left-hover",!0===te.left),r.setElementClass(r.elm,"resize-right-hover",!0===te.right),r.setElementClass(r.elm,"resize-top-hover",!0===te.top),r.setElementClass(r.elm,"resize-bottom-hover",!0===te.bottom)});var B=i.pipe(Rt(function(V){function j(se){return{clientX:se.clientX-V.clientX,clientY:se.clientY-V.clientY}}var q=function(){var ue={x:1,y:1};return m&&(r.resizeSnapGrid.left&&m.edges.left?ue.x=+r.resizeSnapGrid.left:r.resizeSnapGrid.right&&m.edges.right&&(ue.x=+r.resizeSnapGrid.right),r.resizeSnapGrid.top&&m.edges.top?ue.y=+r.resizeSnapGrid.top:r.resizeSnapGrid.bottom&&m.edges.bottom&&(ue.y=+r.resizeSnapGrid.bottom)),ue};function te(se,ue){return{x:Math.ceil(se.clientX/ue.x),y:Math.ceil(se.clientY/ue.y)}}return Vn(o.pipe(Lt(1)).pipe(Xe(function(se){return[,se]})),o.pipe(function IP(){return gt(function(e,n){var t,r=!1;e.subscribe(_t(n,function(i){var o=t;t=i,r&&n.next([o,i]),r=!0}))})}())).pipe(Xe(function(se){var ue=b(se,2),le=ue[0],ae=ue[1];return[le&&j(le),j(ae)]})).pipe(lr(function(se){var ue=b(se,2),le=ue[0],ae=ue[1];if(!le)return!0;var me=q(),Ee=te(le,me),ke=te(ae,me);return Ee.x!==ke.x||Ee.y!==ke.y})).pipe(Xe(function(se){var le=b(se,2)[1],ae=q();return{clientX:Math.round(le.clientX/ae.x)*ae.x,clientY:Math.round(le.clientY/ae.y)*ae.y}})).pipe(ws(Vn(l,i)))})).pipe(lr(function(){return!!m}));B.pipe(Xe(function(V){return Ob(m.startingRect,m.edges,V.clientX,V.clientY)})).pipe(lr(function(V){return r.allowNegativeResizes||!!(V.height&&V.width&&V.height>0&&V.width>0)})).pipe(lr(function(V){return!r.validateResize||r.validateResize({rectangle:V,edges:fc({edges:m.edges,initialRectangle:m.startingRect,newRectangle:V})})}),ws(this.destroy$)).subscribe(function(V){m&&m.clonedNode&&(r.renderer.setStyle(m.clonedNode,"height","".concat(V.height,"px")),r.renderer.setStyle(m.clonedNode,"width","".concat(V.width,"px")),r.renderer.setStyle(m.clonedNode,"top","".concat(V.top,"px")),r.renderer.setStyle(m.clonedNode,"left","".concat(V.left,"px"))),r.resizing.observers.length>0&&r.zone.run(function(){r.resizing.emit({edges:fc({edges:m.edges,initialRectangle:m.startingRect,newRectangle:V}),rectangle:V})}),m.currentRect=V}),i.pipe(Xe(function(V){return V.edges||Fb({clientX:V.clientX,clientY:V.clientY,elm:r.elm,allowedEdges:r.resizeEdges,cursorPrecision:r.resizeCursorPrecision})})).pipe(lr(function(V){return Object.keys(V).length>0}),ws(this.destroy$)).subscribe(function(V){m&&A();var j=function PP(e,n){var t=0,r=0,i=e.nativeElement.style,l=["transform","-ms-transform","-moz-transform","-o-transform"].map(function(A){return i[A]}).find(function(A){return!!A});if(l&&l.includes("translate")&&(t=l.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=l.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===n)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-r,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-r,left:e.nativeElement.offsetLeft-t,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-t};var m=e.nativeElement.getBoundingClientRect();return{height:m.height,width:m.width,top:m.top-r,bottom:m.bottom-r,left:m.left-t,right:m.right-t,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}(r.elm,r.ghostElementPositioning);m={edges:V,startingRect:j,currentRect:j};var q=L(),te=sv(m.edges,q);r.renderer.setStyle(document.body,"cursor",te),r.setElementClass(r.elm,Nb,!0),r.enableGhostResize&&(m.clonedNode=r.elm.nativeElement.cloneNode(!0),r.elm.nativeElement.parentElement.appendChild(m.clonedNode),r.renderer.setStyle(r.elm.nativeElement,"visibility","hidden"),r.renderer.setStyle(m.clonedNode,"position",r.ghostElementPositioning),r.renderer.setStyle(m.clonedNode,"left","".concat(m.startingRect.left,"px")),r.renderer.setStyle(m.clonedNode,"top","".concat(m.startingRect.top,"px")),r.renderer.setStyle(m.clonedNode,"height","".concat(m.startingRect.height,"px")),r.renderer.setStyle(m.clonedNode,"width","".concat(m.startingRect.width,"px")),r.renderer.setStyle(m.clonedNode,"cursor",sv(m.edges,q)),r.renderer.addClass(m.clonedNode,"resize-ghost-element"),m.clonedNode.scrollTop=m.startingRect.scrollTop,m.clonedNode.scrollLeft=m.startingRect.scrollLeft),r.resizeStart.observers.length>0&&r.zone.run(function(){r.resizeStart.emit({edges:fc({edges:V,initialRectangle:j,newRectangle:j}),rectangle:Ob(j,{},0,0)})})}),l.pipe(ws(this.destroy$)).subscribe(function(){m&&(r.renderer.removeClass(r.elm.nativeElement,Nb),r.renderer.setStyle(document.body,"cursor",""),r.renderer.setStyle(r.elm.nativeElement,"cursor",""),r.resizeEnd.observers.length>0&&r.zone.run(function(){r.resizeEnd.emit({edges:fc({edges:m.edges,initialRectangle:m.startingRect,newRectangle:m.currentRect}),rectangle:m.currentRect})}),A(),m=null)})}},{key:"ngOnChanges",value:function(r){r.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}},{key:"ngOnDestroy",value:function(){(function aL(e){return e===l0})(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}},{key:"setElementClass",value:function(r,i,o){o?this.renderer.addClass(r.nativeElement,i):this.renderer.removeClass(r.nativeElement,i)}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(El),de(Sr),de(hn),de(Cn))},e.\u0275dir=Ne({type:e,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"],features:[Nn]}),e}(),VP=function(){function e(n,t){g(this,e),this.pointerDown=new xe(function(r){var i,o;return t.runOutsideAngular(function(){i=n.listen("document","mousedown",function(l){r.next({clientX:l.clientX,clientY:l.clientY,event:l})}),uo&&(o=n.listen("document","touchstart",function(l){r.next({clientX:l.touches[0].clientX,clientY:l.touches[0].clientY,event:l})}))}),function(){i(),uo&&o()}}).pipe(dn()),this.pointerMove=new xe(function(r){var i,o;return t.runOutsideAngular(function(){i=n.listen("document","mousemove",function(l){r.next({clientX:l.clientX,clientY:l.clientY,event:l})}),uo&&(o=n.listen("document","touchmove",function(l){r.next({clientX:l.targetTouches[0].clientX,clientY:l.targetTouches[0].clientY,event:l})}))}),function(){i(),uo&&o()}}).pipe(dn()),this.pointerUp=new xe(function(r){var i,o,l;return t.runOutsideAngular(function(){i=n.listen("document","mouseup",function(m){r.next({clientX:m.clientX,clientY:m.clientY,event:m})}),uo&&(o=n.listen("document","touchend",function(m){r.next({clientX:m.changedTouches[0].clientX,clientY:m.changedTouches[0].clientY,event:m})}),l=n.listen("document","touchcancel",function(m){r.next({clientX:m.changedTouches[0].clientX,clientY:m.changedTouches[0].clientY,event:m})}))}),function(){i(),uo&&(o(),l())}}).pipe(dn())}return w(e,null,[{key:"getInstance",value:function(t,r){return e.instance||(e.instance=new e(t,r)),e.instance}}]),e}(),WP=function(){var e=w(function n(){g(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Sn({}),e}(),jP=["terminal"],zP=function(){return{bottom:!0,right:!0}},GP=function(){return{bottom:!1,right:!1}},Ai=w(function e(){g(this,e)});Ai.\u0275fac=function(n){return new(n||Ai)},Ai.\u0275prov=Ve({token:Ai,factory:Ai.\u0275fac,providedIn:"root"}),Ai.ngInjectableDef=Ve({factory:function(){return new Ai},token:Ai,providedIn:"root"});var qP=function(){var e=function(){function n(){g(this,n),this.keyInputSubject=new Fe,this.keyEventSubject=new Fe,this.termSnippetSubject=new Fe,this.afterViewInitSubject=new Fe,this.h=Math.max(document.documentElement.clientHeight,window.innerHeight||0),this.displayOption={},this.terminalStyle={},this.keyInputEmitter=new ht,this.keyEventEmitter=new ht,this.termSnippetSubscription=k0(this.termSnippetSubject,this.afterViewInitSubject).subscribe(function(t){(0,b(t,1)[0])()})}return w(n,[{key:"_dataSource",get:function(){return this.dataSource},set:function(r){var i=this;null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=r,this.dataSourceSubscription=this.dataSource.subscribe(function(o){i.write(o)})}},{key:"_displayOption",set:function(r){this.setDisplayOption(r)}},{key:"_style",set:function(r){this.setStyle(r)}},{key:"observableSetup",value:function(){var r=this;this.term.onData(function(i){r.keyInputSubject.next(i)}),this.term.onKey(function(i){r.keyEventSubject.next(i)}),this.keyInputSubjectSubscription=this.keyInputSubject.subscribe(function(i){r.keyInputEmitter.emit(i)}),this.keyEventSubjectSubscription=this.keyEventSubject.subscribe(function(i){r.keyEventEmitter.emit(i)}),this.afterViewInitSubject.next()}},{key:"setTerminalBlock",value:function(r){this.terminalStyle.display=r?"block":"inline-block"}},{key:"setTerminalDimensions",value:function(r,i,o,l){this.terminalStyle.left=r?"".concat(r,"px"):void 0,this.terminalStyle.top=i?"".concat(i,"px"):void 0,this.terminalStyle.width=o?"".concat(o,"px"):void 0,this.terminalStyle.height=l?"".concat(l,"px"):void 0}},{key:"removeTerminalDimensions",value:function(){this.terminalStyle.left=void 0,this.terminalStyle.top=void 0,this.terminalStyle.width=void 0,this.terminalStyle.height=void 0}},{key:"setStyle",value:function(r){Object.assign(this.terminalStyle,r)}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewChecked",value:function(){var r=this.fitAddon.proposeDimensions();if(void 0===r||isNaN(r.rows)||r.rows==1/0||isNaN(r.cols)||r.cols==1/0)this.term.resize(10,10);else if(this.displayOption.fixedGrid){this.term.resize(this.displayOption.fixedGrid.cols,this.displayOption.fixedGrid.rows);var i=this.term.element.getElementsByClassName("xterm-screen")[0],o=this.term.element.getElementsByClassName("xterm-scroll-area")[0];this.setTerminalDimensions(void 0,void 0,i.clientWidth+(this.term.element.clientWidth-o.clientWidth),void 0)}else this.fitAddon.fit()}},{key:"ngAfterViewInit",value:function(){this.fitAddon=new _P.FitAddon,this.term=new yP.Terminal,this.term.open(this.terminalDiv.nativeElement),this.term.loadAddon(this.fitAddon),this.observableSetup()}},{key:"ngOnDestroy",value:function(){this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe(),this.termSnippetSubscription&&this.termSnippetSubscription.unsubscribe(),this.term&&this.term.dispose()}},{key:"write",value:function(r){this.term.write(r)}},{key:"setDisplayOption",value:function(r){r?(null!=r.fixedGrid?(console.debug("resizable will be ignored."),this.setTerminalBlock(!1),this.removeTerminalDimensions()):this.setTerminalBlock(!0),this.displayOption=r):console.warn("A falsy option is not allowed")}},{key:"keyInput",get:function(){return this.keyInputSubject}},{key:"keyEventInput",get:function(){return this.keyEventSubject}},{key:"underlying",get:function(){return this.term}},{key:"isDraggableOnEdgeActivated",get:function(){return null!=this.displayOption.activateDraggableOnEdge&&null==this.displayOption.fixedGrid}},{key:"onResizeEnd",value:function(r,i,o,l){this.setTerminalDimensions(r,i,o,l)}},{key:"validatorFactory",value:function(){var r=this;return function(i){var o=r.displayOption;if(o.activateDraggableOnEdge)return!(i.rectangle.width<o.activateDraggableOnEdge.minWidth||i.rectangle.height<o.activateDraggableOnEdge.minHeight)}}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=vr({type:e,selectors:[["ng-terminal"]],viewQuery:function(t,r){var i;1&t&&Cl(jP,7),2&t&&hs(i=fs())&&(r.terminalDiv=i.first)},inputs:{_dataSource:["dataSource","_dataSource"],_displayOption:["displayOption","_displayOption"],_style:["style","_style"]},outputs:{keyInputEmitter:"keyInput",keyEventEmitter:"keyEvent"},decls:3,vars:6,consts:[["mwlResizable","",1,"terminal-outer",3,"ngStyle","validateResize","enableGhostResize","resizeEdges","resizeEnd"],["terminal",""]],template:function(t,r){1&t&&(_n(0,"global-style"),Le(1,"div",0,1),vt("resizeEnd",function(o){return r.onResizeEnd(o.rectangle.left,o.rectangle.top,o.rectangle.width,o.rectangle.height)}),Re()),2&t&&(Ot(1),bt("ngStyle",r.terminalStyle)("validateResize",r.validatorFactory())("enableGhostResize",!0)("resizeEdges",r.isDraggableOnEdgeActivated?yl(4,zP):yl(5,GP)))},directives:function(){return[KP,$b,nd]},styles:[".terminal-outer[_ngcontent-%COMP%]{box-sizing:border-box;height:100%}"]}),e}(),KP=function(){var e=function(){function n(){g(this,n)}return w(n,[{key:"ngOnInit",value:function(){}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=vr({type:e,selectors:[["global-style"]],decls:0,vars:0,template:function(t,r){},styles:[".xterm{position:relative;-moz-user-select:none;user-select:none;-ms-user-select:none;-webkit-user-select:none;cursor:text}.xterm.focus,.xterm:focus{outline:0}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:.5}.xterm-underline{text-decoration:underline}.xterm-strikethrough{text-decoration:line-through}"],encapsulation:2}),e}(),XP=function(){var e=w(function n(){g(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Sn({imports:[[WP,u0]]}),e}(),tn="\x9b",Ss=function(){function e(){g(this,e)}return w(e,null,[{key:"insertBlank",value:function(t){return"".concat(tn).concat(t,"@")}},{key:"cursorUp",value:function(t){return"".concat(tn).concat(t,"A")}},{key:"cursorDown",value:function(t){return"".concat(tn).concat(t,"B")}},{key:"cursorForward",value:function(t){return"".concat(tn).concat(t,"C")}},{key:"cursorBackward",value:function(t){return"".concat(tn).concat(t,"D")}},{key:"cursorNextLine",value:function(t){return"".concat(tn).concat(t,"E")}},{key:"cursorPrecedingLine",value:function(t){return"".concat(tn).concat(t,"F")}},{key:"cursorColumn",value:function(t){return"".concat(tn).concat(t,"G")}},{key:"cursorPosition",value:function(t,r){return"".concat(tn).concat(t,";").concat(r,"H")}},{key:"eraseInDisplay",value:function(t){return"".concat(tn).concat(t,"J")}},{key:"eraseSelectiveThingsInDisplay",value:function(t){return"".concat(tn,"?").concat(t,"J")}},{key:"eraseInLine",value:function(t){return"".concat(tn).concat(t,"K")}},{key:"eraseSelectiveThingsInLine",value:function(t){return"".concat(tn,"?").concat(t,"K")}},{key:"insertLines",value:function(t){return"".concat(tn).concat(t,"L")}},{key:"deleteLines",value:function(t){return"".concat(tn).concat(t,"M")}},{key:"deleteCharacter",value:function(t){return"".concat(tn).concat(t,"P")}},{key:"scrollUpLines",value:function(t){return"".concat(tn).concat(t,"S")}},{key:"scrollDownLines",value:function(t){return"".concat(tn).concat(t,"T")}},{key:"eraseCharacters",value:function(t){return"".concat(tn).concat(t,"X")}}]),e}(),Mi={Below:0,Above:1,All:2,SavedLines:3};Mi[Mi.Below]="Below",Mi[Mi.Above]="Above",Mi[Mi.All]="All",Mi[Mi.SavedLines]="SavedLines";var Es={Right:0,Left:1,All:2};Es[Es.Right]="Right",Es[Es.Left]="Left",Es[Es.All]="All";var YP=ne(685),lo="https://ec2-52-91-95-207.compute-1.amazonaws.com/api",fu={socketServer:lo,apiServer:lo,userManager:lo+"usersManager",project:lo+"projectManager",forgotPassword:lo+"forgotPasswordManager",invite:lo+"inviteManager",compilation:lo+"compilationManager"},Hb=function(){var e=function(){function n(){var t=this;g(this,n),this.getMessages=function(){return xe.create(function(r){t.socket.on("output",function(i){console.log(i),r.next(i)})})},this.getErrorMessages=function(){return xe.create(function(r){t.socket.on("error",function(i){console.log(i),r.next(i)})})},this.runCompilation=function(r){console.log(r),t.socket.emit("run-compilation",r)},this.stopCompilation=function(r){t.socket.emit("stop",r)}}return w(n,[{key:"setupSocketConnection",value:function(){JSON.parse(localStorage.getItem("globalData")),this.socket=YP(fu.socketServer),this.socket.emit("new-user")}},{key:"sendMessage",value:function(r){console.log(r),this.socket.emit("input",r)}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ZP=["terminal"],Ub=function(){var e=function(){function n(t,r,i){g(this,n),this.cd=t,this.el=r,this.socketService=i,this.progressMessage=new ht,this.netConnectivity=new ht,this.title="NgTerminal Live Example",this.color="accent",this.fixed=!1,this.disabled=!1,this.rowsControl=new uu,this.colsControl=new uu,this.inputControl=new uu,this.text="",this.displayOption={},this.displayOptionBounded={},this.writeSubject=new Fe}return w(n,[{key:"ngOnInit",value:function(){this.socket=this.socketService.setupSocketConnection()}},{key:"ngAfterViewInit",value:function(){var r=this;this.startListening(),console.log(this.child),this.underlying=this.child.underlying,this.underlying.setOption("fontSize",20),this.invalidate(),this.child.keyInput.subscribe(function(i){}),this.child.keyEventInput.subscribe(function(i){console.log("keyboard event:"+i.domEvent.keyCode+", "+i.key);var o=i.domEvent,l=!o.altKey&&!o.ctrlKey&&!o.metaKey;13===o.keyCode?(r.text+="\n",r.child.write("\n"+Ss.cursorColumn(1)+"$"),r.sendData()):67===o.keyCode&&o.ctrlKey?(r.text="\x03\r",r.sendData()):8===o.keyCode?r.child.underlying.buffer.active.cursorX>1&&(r.text=r.text.slice(0,r.text.length-1),r.child.write("\b \b")):l&&(r.child.write(i.key),r.text+=i.key)}),this.rowsControl.valueChanges.subscribe(function(){r.invalidate()}),this.colsControl.valueChanges.subscribe(function(){r.invalidate()})}},{key:"invalidate",value:function(){this.displayOption.fixedGrid={rows:200,cols:700},this.displayOption.activateDraggableOnEdge=this.resizable?{minWidth:400,minHeight:200}:void 0,this.displayOption.fixedGrid=this.fixed?{rows:this.rowsControl.value,cols:this.colsControl.value}:void 0,this.child.setDisplayOption(this.displayOption)}},{key:"write",value:function(){console.log(this.inputControl.value)}},{key:"onKeyInput",value:function(r){this.keyInput=r}},{key:"displayOptionForLiveUpdate",get:function(){return JSON.parse(JSON.stringify(this.displayOption))}},{key:"startListening",value:function(){var r=this;this.socketService.getMessages().subscribe(function(i){var o=(i=JSON.parse(i)).output;"start"===i.type?(console.log(o+"end"),o=o.replace(/\n/g,"\n"+Ss.cursorColumn(1)),r.writeSubject.next(o),r.child.write("\n"+Ss.cursorColumn(1)+"mininet>")):"command"===i.type?"end"===o?r.child.write("\n"+Ss.cursorColumn(1)+"mininet>"):r.text!==o&&(o=o.replace(/\n/g,"\n"+Ss.cursorColumn(1)),r.writeSubject.next(o)):"upload"===i.type?r.progressMessage.emit(i.output):"upload-success"===i.type?r.progressMessage.emit("success"):"stop"===i.type?r.child.underlying.clear():"net-connectivity"===i.type&&(console.log(i),r.netConnectivity.emit(i)),r.text=""})}},{key:"sendData",value:function(){"clear\n"===this.text?(this.child.underlying.clear(),this.child.write("\n"+Ss.cursorColumn(1)+"mininet>")):this.socketService.sendMessage(this.text),this.text=""}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(vs),de(hn),de(Hb))},e.\u0275cmp=vr({type:e,selectors:[["app-terminal"]],viewQuery:function(t,r){var i;1&t&&Cl(ZP,5),2&t&&hs(i=fs())&&(r.child=i.first)},inputs:{data:"data",stop:"stop"},outputs:{progressMessage:"progressMessage",netConnectivity:"netConnectivity"},decls:2,vars:2,consts:[[1,"p-0",3,"dataSource","displayOption","keyInput"],["terminal",""]],template:function(t,r){1&t&&(Le(0,"ng-terminal",0,1),vt("keyInput",function(o){return r.onKeyInput(o)}),Re()),2&t&&bt("dataSource",r.writeSubject)("displayOption",r.displayOptionBounded)},directives:[qP],styles:[".ng-terminal[_ngcontent-%COMP%]{display:block;height:70vh}"]}),e}(),Vb=w(function e(){g(this,e)}),Wb=w(function e(){g(this,e)}),Mr=function(){function e(n){var t=this;g(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?function(){t.headers=new Map,n.split("\n").forEach(function(r){var i=r.indexOf(":");if(i>0){var o=r.slice(0,i),l=o.toLowerCase(),m=r.slice(i+1).trim();t.maybeSetNormalizedName(o,l),t.headers.has(l)?t.headers.get(l).push(m):t.headers.set(l,[m])}})}:function(){t.headers=new Map,Object.keys(n).forEach(function(r){var i=n[r],o=r.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(t.headers.set(o,i),t.maybeSetNormalizedName(r,o))})}:this.headers=new Map}return w(e,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,r){return this.clone({name:t,value:r,op:"a"})}},{key:"set",value:function(t,r){return this.clone({name:t,value:r,op:"s"})}},{key:"delete",value:function(t,r){return this.clone({name:t,value:r,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(r){return t.applyUpdate(r)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var r=this;t.init(),Array.from(t.headers.keys()).forEach(function(i){r.headers.set(i,t.headers.get(i)),r.normalizedNames.set(i,t.normalizedNames.get(i))})}},{key:"clone",value:function(t){var r=new e;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}},{key:"applyUpdate",value:function(t){var r=t.name.toLowerCase();switch(t.op){case"a":case"s":var i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,r);var o=("a"===t.op?this.headers.get(r):void 0)||[];o.push.apply(o,T(i)),this.headers.set(r,o);break;case"d":var l=t.value;if(l){var m=this.headers.get(r);if(!m)return;0===(m=m.filter(function(A){return-1===l.indexOf(A)})).length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,m)}else this.headers.delete(r),this.normalizedNames.delete(r)}}},{key:"forEach",value:function(t){var r=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(i){return t(r.normalizedNames.get(i),r.headers.get(i))})}}]),e}(),QP=function(){function e(){g(this,e)}return w(e,[{key:"encodeKey",value:function(t){return jb(t)}},{key:"encodeValue",value:function(t){return jb(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),e}();function eF(e,n){var t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(function(i){var o=i.indexOf("="),m=b(-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],2),A=m[0],L=m[1],B=t.get(A)||[];B.push(L),t.set(A,B)}),t}var tF=/%(\d[a-f0-9])/gi,nF={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function jb(e){return encodeURIComponent(e).replace(tF,function(n,t){var r;return null!==(r=nF[t])&&void 0!==r?r:n})}function zb(e){return"".concat(e)}var co=function(){function e(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(g(this,e),this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new QP,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=eF(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(r){var i=t.fromObject[r];n.map.set(r,Array.isArray(i)?i:[i])})):this.map=null}return w(e,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var r=this.map.get(t);return r?r[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,r){return this.clone({param:t,value:r,op:"a"})}},{key:"appendAll",value:function(t){var r=[];return Object.keys(t).forEach(function(i){var o=t[i];Array.isArray(o)?o.forEach(function(l){r.push({param:i,value:l,op:"a"})}):r.push({param:i,value:o,op:"a"})}),this.clone(r)}},{key:"set",value:function(t,r){return this.clone({param:t,value:r,op:"s"})}},{key:"delete",value:function(t,r){return this.clone({param:t,value:r,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(r){var i=t.encoder.encodeKey(r);return t.map.get(r).map(function(o){return i+"="+t.encoder.encodeValue(o)}).join("&")}).filter(function(r){return""!==r}).join("&")}},{key:"clone",value:function(t){var r=new e({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(r){return t.map.set(r,t.cloneFrom.map.get(r))}),this.updates.forEach(function(r){switch(r.op){case"a":case"s":var i=("a"===r.op?t.map.get(r.param):void 0)||[];i.push(zb(r.value)),t.map.set(r.param,i);break;case"d":if(void 0===r.value){t.map.delete(r.param);break}var o=t.map.get(r.param)||[],l=o.indexOf(zb(r.value));-1!==l&&o.splice(l,1),o.length>0?t.map.set(r.param,o):t.map.delete(r.param)}}),this.cloneFrom=this.updates=null)}}]),e}(),rF=function(){function e(){g(this,e),this.map=new Map}return w(e,[{key:"set",value:function(t,r){return this.map.set(t,r),this}},{key:"get",value:function(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}},{key:"delete",value:function(t){return this.map.delete(t),this}},{key:"has",value:function(t){return this.map.has(t)}},{key:"keys",value:function(){return this.map.keys()}}]),e}();function Gb(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function qb(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Kb(e){return"undefined"!=typeof FormData&&e instanceof FormData}var av=function(){function e(n,t,r,i){var o;if(g(this,e),this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function iF(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Mr),this.context||(this.context=new rF),this.params){var l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{var m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+l}}else this.params=new co,this.urlWithParams=t}return w(e,[{key:"serializeBody",value:function(){return null===this.body?null:Gb(this.body)||qb(this.body)||Kb(this.body)||function oF(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof co?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Kb(this.body)?null:qb(this.body)?this.body.type||null:Gb(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof co?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.method||this.method,o=t.url||this.url,l=t.responseType||this.responseType,m=void 0!==t.body?t.body:this.body,A=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,L=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,B=t.headers||this.headers,V=t.params||this.params,j=null!==(r=t.context)&&void 0!==r?r:this.context;return void 0!==t.setHeaders&&(B=Object.keys(t.setHeaders).reduce(function(q,te){return q.set(te,t.setHeaders[te])},B)),t.setParams&&(V=Object.keys(t.setParams).reduce(function(q,te){return q.set(te,t.setParams[te])},V)),new e(i,o,m,{params:V,headers:B,context:j,reportProgress:L,responseType:l,withCredentials:A})}}]),e}(),Yt=function(){return(Yt=Yt||{})[Yt.Sent=0]="Sent",Yt[Yt.UploadProgress=1]="UploadProgress",Yt[Yt.ResponseHeader=2]="ResponseHeader",Yt[Yt.DownloadProgress=3]="DownloadProgress",Yt[Yt.Response=4]="Response",Yt[Yt.User=5]="User",Yt}(),uv=w(function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";g(this,e),this.headers=n.headers||new Mr,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}),sF=function(e){v(t,e);var n=c(t);function t(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g(this,t),(r=n.call(this,i)).type=Yt.ResponseHeader,r}return w(t,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new t({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),t}(uv),Xb=function(e){v(t,e);var n=c(t);function t(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g(this,t),(r=n.call(this,i)).type=Yt.Response,r.body=void 0!==i.body?i.body:null,r}return w(t,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new t({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),t}(uv),Yb=function(e){v(t,e);var n=c(t);function t(r){var i;return g(this,t),(i=n.call(this,r,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(r.url||"(unknown url)"):"Http failure response for ".concat(r.url||"(unknown url)",": ").concat(r.status," ").concat(r.statusText),i.error=r.error||null,i}return w(t)}(uv);function lv(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var dc=function(){var e=function(){function n(t){g(this,n),this.handler=t}return w(n,[{key:"request",value:function(r,i){var m,o=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r instanceof av)m=r;else{var A=void 0;A=l.headers instanceof Mr?l.headers:new Mr(l.headers);var L=void 0;l.params&&(L=l.params instanceof co?l.params:new co({fromObject:l.params})),m=new av(r,i,void 0!==l.body?l.body:null,{headers:A,context:l.context,params:L,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}var B=Ke(m).pipe(gs(function(j){return o.handler.handle(j)}));if(r instanceof av||"events"===l.observe)return B;var V=B.pipe(lr(function(j){return j instanceof Xb}));switch(l.observe||"body"){case"body":switch(m.responseType){case"arraybuffer":return V.pipe(Xe(function(j){if(null!==j.body&&!(j.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return j.body}));case"blob":return V.pipe(Xe(function(j){if(null!==j.body&&!(j.body instanceof Blob))throw new Error("Response is not a Blob.");return j.body}));case"text":return V.pipe(Xe(function(j){if(null!==j.body&&"string"!=typeof j.body)throw new Error("Response is not a string.");return j.body}));default:return V.pipe(Xe(function(j){return j.body}))}case"response":return V;default:throw new Error("Unreachable: unhandled observe type ".concat(l.observe,"}"))}}},{key:"delete",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",r,i)}},{key:"get",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",r,i)}},{key:"head",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",r,i)}},{key:"jsonp",value:function(r,i){return this.request("JSONP",r,{params:(new co).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",r,i)}},{key:"patch",value:function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",r,lv(o,i))}},{key:"post",value:function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",r,lv(o,i))}},{key:"put",value:function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",r,lv(o,i))}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(Vb))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),Jb=function(){function e(n,t){g(this,e),this.next=n,this.interceptor=t}return w(e,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),e}(),Zb=new Je("HTTP_INTERCEPTORS"),aF=function(){var e=function(){function n(){g(this,n)}return w(n,[{key:"intercept",value:function(r,i){return i.handle(r)}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),uF=/^\)\]\}',?\n/,Qb=function(){var e=function(){function n(t){g(this,n),this.xhrFactory=t}return w(n,[{key:"handle",value:function(r){var i=this;if("JSONP"===r.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new xe(function(o){var l=i.xhrFactory.build();if(l.open(r.method,r.urlWithParams),r.withCredentials&&(l.withCredentials=!0),r.headers.forEach(function(le,ae){return l.setRequestHeader(le,ae.join(","))}),r.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){var m=r.detectContentTypeHeader();null!==m&&l.setRequestHeader("Content-Type",m)}if(r.responseType){var A=r.responseType.toLowerCase();l.responseType="json"!==A?A:"text"}var L=r.serializeBody(),B=null,V=function(){if(null!==B)return B;var ae=l.statusText||"OK",me=new Mr(l.getAllResponseHeaders()),Ee=function lF(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(l)||r.url;return B=new sF({headers:me,status:l.status,statusText:ae,url:Ee})},j=function(){var ae=V(),me=ae.headers,Ee=ae.status,ke=ae.statusText,tt=ae.url,Ge=null;204!==Ee&&(Ge=void 0===l.response?l.responseText:l.response),0===Ee&&(Ee=Ge?200:0);var Pt=Ee>=200&&Ee<300;if("json"===r.responseType&&"string"==typeof Ge){var Ln=Ge;Ge=Ge.replace(uF,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(jr){Ge=Ln,Pt&&(Pt=!1,Ge={error:jr,text:Ge})}}Pt?(o.next(new Xb({body:Ge,headers:me,status:Ee,statusText:ke,url:tt||void 0})),o.complete()):o.error(new Yb({error:Ge,headers:me,status:Ee,statusText:ke,url:tt||void 0}))},q=function(ae){var me=V(),ke=new Yb({error:ae,status:l.status||0,statusText:l.statusText||"Unknown Error",url:me.url||void 0});o.error(ke)},te=!1,se=function(ae){te||(o.next(V()),te=!0);var me={type:Yt.DownloadProgress,loaded:ae.loaded};ae.lengthComputable&&(me.total=ae.total),"text"===r.responseType&&!!l.responseText&&(me.partialText=l.responseText),o.next(me)},ue=function(ae){var me={type:Yt.UploadProgress,loaded:ae.loaded};ae.lengthComputable&&(me.total=ae.total),o.next(me)};return l.addEventListener("load",j),l.addEventListener("error",q),l.addEventListener("timeout",q),l.addEventListener("abort",q),r.reportProgress&&(l.addEventListener("progress",se),null!==L&&l.upload&&l.upload.addEventListener("progress",ue)),l.send(L),o.next({type:Yt.Sent}),function(){l.removeEventListener("error",q),l.removeEventListener("abort",q),l.removeEventListener("load",j),l.removeEventListener("timeout",q),r.reportProgress&&(l.removeEventListener("progress",se),null!==L&&l.upload&&l.upload.removeEventListener("progress",ue)),l.readyState!==l.DONE&&l.abort()}})}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(od))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),cv=new Je("XSRF_COOKIE_NAME"),hv=new Je("XSRF_HEADER_NAME"),ew=w(function e(){g(this,e)}),cF=function(){var e=function(){function n(t,r,i){g(this,n),this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return w(n,[{key:"getToken",value:function(){if("server"===this.platform)return null;var r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=t0(r,this.cookieName),this.lastCookieString=r),this.lastToken}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(Jn),Te(El),Te(cv))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),fv=function(){var e=function(){function n(t,r){g(this,n),this.tokenService=t,this.headerName=r}return w(n,[{key:"intercept",value:function(r,i){var o=r.url.toLowerCase();if("GET"===r.method||"HEAD"===r.method||o.startsWith("http://")||o.startsWith("https://"))return i.handle(r);var l=this.tokenService.getToken();return null!==l&&!r.headers.has(this.headerName)&&(r=r.clone({headers:r.headers.set(this.headerName,l)})),i.handle(r)}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(ew),Te(hv))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),hF=function(){var e=function(){function n(t,r){g(this,n),this.backend=t,this.injector=r,this.chain=null}return w(n,[{key:"handle",value:function(r){if(null===this.chain){var i=this.injector.get(Zb,[]);this.chain=i.reduceRight(function(o,l){return new Jb(o,l)},this.backend)}return this.chain.handle(r)}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(Wb),Te(Dn))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac}),e}(),fF=function(){var e=function(){function n(){g(this,n)}return w(n,null,[{key:"disable",value:function(){return{ngModule:n,providers:[{provide:fv,useClass:aF}]}}},{key:"withOptions",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:n,providers:[r.cookieName?{provide:cv,useValue:r.cookieName}:[],r.headerName?{provide:hv,useValue:r.headerName}:[]]}}}]),n}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Sn({providers:[fv,{provide:Zb,useExisting:fv,multi:!0},{provide:ew,useClass:cF},{provide:cv,useValue:"XSRF-TOKEN"},{provide:hv,useValue:"X-XSRF-TOKEN"}]}),e}(),dF=function(){var e=w(function n(){g(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Sn({providers:[dc,{provide:Vb,useClass:hF},Qb,{provide:Wb,useExisting:Qb}],imports:[[fF.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}(),tw=function(){var e=function(){function n(t){g(this,n),this.httpClient=t,this.userUrl=fu.userManager,this.forgotPasswordUrl=fu.forgotPassword,this.inviteUrl=fu.invite,this.httpOptions={},this.httpOptionsHtml={},this.httpOptions={headers:new Mr({"Content-Type":"application/json"})},this.httpOptionsHtml={headers:new Mr({"Content-Type":"text/plain; charset=utf-8"}),responseType:"text"}}return w(n,[{key:"handleError",value:function(r){return r.error instanceof ErrorEvent?(console.error("An error occurred:",r.error.message),bi("Something bad happened")):bi("".concat(r.error.warning))}},{key:"createUser",value:function(r){return this.httpClient.post(this.userUrl,r,this.httpOptions).pipe(un(this.handleError))}},{key:"updateUser",value:function(r){return this.httpClient.put(this.userUrl,r,this.httpOptions).pipe(un(this.handleError))}},{key:"forgotPassword",value:function(r){return this.httpClient.post(this.forgotPasswordUrl,r,this.httpOptions).pipe(un(this.handleError))}},{key:"getResetPasswordTokenValidation",value:function(r){return this.httpClient.get(this.forgotPasswordUrl+"/validateToken?token="+r,this.httpOptions).pipe(un(this.handleError))}},{key:"getUserByEmailPassword",value:function(r,i){var o=(new co).set("email",r).set("password",i);return this.httpClient.get(this.userUrl+"/userByEmail",{params:o}).pipe(un(this.handleError))}},{key:"deleteUser",value:function(r){return this.httpClient.delete(this.userUrl+"?id="+r,this.httpOptions).pipe(un(this.handleError))}},{key:"getTokenValidation",value:function(r){return this.httpClient.get(this.inviteUrl+"/validateToken?token="+r,this.httpOptions).pipe(un(this.handleError))}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(dc))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function vF(e,n){1&e&&(Le(0,"div",30)(1,"small"),ot(2,"please enter name"),Re()())}function pF(e,n){if(1&e){var t=Yi();Le(0,"div",16)(1,"input",31),vt("ngModelChange",function(o){return cn(t),Ft(2).userObject.email=o}),Re()()}if(2&e){var r=Ft(2);Ot(1),bt("ngModel",r.userObject.email)}}function gF(e,n){if(1&e){var t=Yi();Le(0,"div",16)(1,"input",32),vt("blur",function(o){return cn(t),Ft(2).onEmailChange(o.target.value)}),Re()()}if(2&e){var r=Ft(2);Ot(1),bt("ngClass",0==r.email.disabled?"form-control bg-white border-md":"is-invalid")}}function mF(e,n){1&e&&(Le(0,"div",30),ot(1," please provide email "),Re())}function yF(e,n){1&e&&(Le(0,"div",33),ot(1," password must be atleast 8 characters long and contain atleast one number or alphabet "),Re())}function _F(e,n){1&e&&(Le(0,"div",33),ot(1," passwords are not matching "),Re())}function CF(e,n){1&e&&(Le(0,"div",34),ot(1," passwords match "),Re())}function bF(e,n){if(1&e){var t=Yi();Le(0,"div",5)(1,"div",6)(2,"label",7),ot(3,"Create your account"),Re(),Le(4,"form",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"p",12)(9,"sup"),_n(10,"img",13),Re(),ot(11," indicates a required field"),Re()(),Le(12,"div",14)(13,"label",15)(14,"b"),ot(15," Username"),Re()(),Le(16,"div",16)(17,"input",17),vt("blur",function(o){return cn(t),Ft().onFirstNameChange(o.target.value)}),Re()(),Yn(18,vF,3,0,"div",18),Re(),Le(19,"div",19)(20,"label",15)(21,"b"),ot(22,"Email address"),Re()(),Yn(23,pF,2,1,"div",20),Yn(24,gF,2,1,"div",20),Yn(25,mF,2,0,"div",18),Re(),Le(26,"div",19)(27,"label",15)(28,"b"),ot(29,"Password"),Re()(),Le(30,"div",16)(31,"input",21),vt("blur",function(o){return cn(t),Ft().onPassWordChange(o.target.value)}),Re()(),Yn(32,yF,2,0,"div",22),Re(),Le(33,"div",19)(34,"label",15)(35,"b"),ot(36,"Confirm password"),Re()(),Le(37,"div",16)(38,"input",23),vt("keyup",function(o){return cn(t),Ft().onRePasswordChange(o.target.value)}),Re()(),Yn(39,_F,2,0,"div",22),Yn(40,CF,2,0,"div",24),Re(),Le(41,"div",25)(42,"span",26),vt("click",function(){return cn(t),Ft().createAccount()}),ot(43,"Create Account"),Re()()()(),Le(44,"div",27)(45,"label",28),ot(46,"Already a member? "),Le(47,"a",29),ot(48,"Sign in"),Re()()()()()()}if(2&e){var r=Ft();Ot(17),bt("ngClass",0==r.firstName.disabled?"form-control bg-white border-md":"is-invalid"),Ot(1),bt("ngIf",1==r.firstName.disabled),Ot(5),bt("ngIf",r.activate),Ot(1),bt("ngIf",!r.activate),Ot(1),bt("ngIf",1==r.email.disabled),Ot(6),bt("ngClass",0==r.password.disabled?"form-control bg-white border-md":"is-invalid"),Ot(1),bt("ngIf",1==r.password.disabled),Ot(6),bt("ngClass",0==r.rePassword.disabled?"form-control bg-white border-left-0 border-md":"is-invalid"),Ot(1),bt("ngIf",1==r.rePassword.disabled),Ot(1),bt("ngIf",r.rePassword.value==r.password.value&&""!=r.rePassword.value)}}var wF=function(){var e=function(){function n(t,r,i){g(this,n),this.router=t,this.route=r,this.userService=i,this.isValid=!0,this.mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,this.passwordformat=/[0-9a-zA-Z@$!%*#?&]{6,}/,this.token="",this.firstName={disabled:!1,value:""},this.lastName={disabled:!1,value:""},this.email={disabled:!1,value:""},this.contact={disabled:!1,value:""},this.password={disabled:!1,value:""},this.rePassword={disabled:!1,value:""},this.userObject={name:"",email:"",password:"",role:"authenticatedUser",is_new:!0},this.user={name:"",userId:"",role:"developer"},this.organisationId="",this.teamIds=[],this.inValidToken=!1,this.linkExpired=!1,this.activate=!1}return w(n,[{key:"ngOnInit",value:function(){var r=this;this.isValid=!1,this.router.url.includes("activate")?this.route.paramMap.subscribe(function(i){r.activate=!0,r.token=i.get("token"),r.token?r.userService.getTokenValidation(r.token).subscribe(function(o){o.valid&&(r.isValid=!0),r.userObject.email=o.doc.email,r.user.role=o.doc.role},function(o){r.isValid=!1,"Cannot read property 'createdAt' of null"===o||"Token is not valid"===o?(r.inValidToken=!0,r.linkExpired=!1):(r.inValidToken=!1,r.linkExpired=!0)}):(r.inValidToken=!0,r.linkExpired=!1)}):this.isValid=!0}},{key:"onFirstNameChange",value:function(r){""==r?this.firstName={value:"",disabled:!0}:(this.userObject.name=r,this.firstName={value:r,disabled:!1})}},{key:"onEmailChange",value:function(r){r.match(this.mailformat)?(this.userObject.email=r,this.email={value:r,disabled:!1}):this.email={value:"",disabled:!0}}},{key:"onPassWordChange",value:function(r){r.match(this.passwordformat)?(this.userObject.password=r,this.password={disabled:!1,value:r}):this.password={value:"",disabled:!0}}},{key:"onRePasswordChange",value:function(r){this.rePassword=r===this.password.value?{disabled:!1,value:r}:{value:"",disabled:!0}}},{key:"createAccount",value:function(){var r=this;this.userService.createUser(this.userObject).subscribe(function(i){r.user.userId=i.id,r.user.name=i.name})}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(Rn),de(ro),de(tw))},e.\u0275cmp=vr({type:e,selectors:[["app-user-sign-up"]],decls:7,vars:1,consts:[[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"card","border-0"],["class","row  align-items-center ","style","padding-top: 2%;",4,"ngIf"],[1,"row","align-items-center",2,"padding-top","2%"],[1,"container","shadow","p-3","mb-5","bg-white","rounded"],[1,"ps-2",2,"height","1vh","font-size","3vw"],["action","#"],[1,"container","mt-3",2,"background-color","#fafafa"],[1,"row","ms-1","me-1","pt-5","w-98"],[1,"text-start","col-sm-12"],[1,"text-muted","font-weight-bold"],["src","../../assets/asterisk.svg","alt","asterisk","height","10px","width","10px"],[1,"input-group","mb-4"],[1,"ms-1","mt-3"],[1,"input-group-prepend","w-100"],["id","firstName","type","text","required","required","name","firstname","placeholder","",1,"form-control","bg-white","border-md",3,"ngClass","blur"],["class","text-danger",4,"ngIf"],[1,"input-group","col-sm-12","mb-4"],["class","input-group-prepend w-100",4,"ngIf"],["id","password","type","password","required","required","name","password","placeholder","Password",1,"form-control","bg-white","border-left-0","border-md",2,"width","100%",3,"ngClass","blur"],["style","font-size: smaller;","class","text-danger",4,"ngIf"],["id","passwordConfirmation","type","password","required","required","name","passwordConfirmation","placeholder","Confirm Password",1,"form-control","bg-white","border-left-0","border-md",2,"width","100%",3,"ngClass","keyup"],["style","font-size: smaller;","class","text-success",4,"ngIf"],[1,"form-group","col-lg-12","mx-auto","pb-3","mt-2"],[1,"btn","btn-primary","btn-block","py-2","font-weight-bold",3,"click"],[1,"form-group","pt-2","row","mx-4","my-1","align-items-center",2,"background-color","white","height","6vh","margin-left","27%","width","30vw"],["c",""],["id","signUp","routerLink","/sign-in",2,"cursor","pointer","color","royalblue"],[1,"text-danger"],["readonly","","id","email","type","email","name","email","required","required","placeholder","Email Address",1,"form-control","bg-white","border-left-0","border-md","w-100",3,"ngModel","ngModelChange"],["id","email","type","email","name","email","required","required","placeholder","Email Address",1,"form-control","bg-white","border-left-0","border-md",2,"width","100%",3,"ngClass","blur"],[1,"text-danger",2,"font-size","smaller"],[1,"text-success",2,"font-size","smaller"]],template:function(t,r){1&t&&(Le(0,"div")(1,"div",0),_n(2,"div",1),Le(3,"div",2)(4,"div",3),Yn(5,bF,49,10,"div",4),Re()(),_n(6,"div",1),Re()()),2&t&&(Ot(5),bt("ngIf",r.isValid))},directives:[Qf,Zd,$d,cu,n0,iu,hu,Nd,lc,ru],styles:["[_ngcontent-%COMP%]:required{background:url(asterisk.a20ed0f0c26169e9.svg) no-repeat;background-position:99% 10%;background-size:10px 10px}.invalid-feedback[_ngcontent-%COMP%]{display:none}.warning[_ngcontent-%COMP%]{background-color:#fff;margin:120px 300px 0;padding:100px;border:none}"]}),e}(),SF=function(){var e=function(){function n(t){g(this,n),this.httpClient=t,this.compilationUrl=fu.compilation,this.httpOptions={},this.httpOptionsFile={},this.httpOptionsHtml={},this.globalData={};var r=JSON.parse(localStorage.getItem("globalData"));this.globalData=r,this.httpOptions={headers:new Mr({"Content-Type":"application/json"})},this.httpOptionsFile={headers:new Mr({})},this.httpOptionsHtml={headers:new Mr({"Content-Type":"text/plain; charset=utf-8"}),responseType:"text"}}return w(n,[{key:"handleError",value:function(r){return console.log(r),r.error instanceof ErrorEvent?(console.error("An error occurred:",r.error.message),bi("Something bad happened")):bi("".concat(r.error.warning))}},{key:"postLocalCompilation",value:function(r){return this.httpClient.post(this.compilationUrl+"/localCompile",r,this.httpOptions).pipe(un(this.handleError))}},{key:"getCompilation",value:function(){return this.httpClient.get(this.compilationUrl+"/byCompileId",this.httpOptions).pipe(un(this.handleError))}},{key:"deleteCompilation",value:function(r){return this.httpClient.delete(this.compilationUrl+"?compileId="+r,this.httpOptions).pipe(un(this.handleError))}}]),n}();return e.\u0275fac=function(t){return new(t||e)(Te(dc))},e.\u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),nw=ne(5682),EF=["codeEditor"],AF=function(){var e=function(){function n(t,r){g(this,n),this.cd=t,this.el=r,this.updatedData=new ht,this.genCode="",this.cd.detach()}return w(n,[{key:"ngOnInit",value:function(){var r=this;setTimeout(function(){nw.require("ace/ext/language_tools");var i=r.codeEditorElmRef.nativeElement,o=r.getEditorOptions();r.codeEditor=nw.edit(i,o),r.codeEditor.renderer.setShowGutter(!0),r.codeEditor.setTheme("ace/theme/github"),r.codeEditor.setShowPrintMargin(!1),r.codeEditor.getSession().setMode("ace/mode/javascript"),r.codeEditor.setShowFoldWidgets(!0),r.codeEditor.setFontSize("13.5px"),r.codeEditor.setOptions({readOnly:r.readOnly}),r.codeEditor.getSession().setValue("")})}},{key:"ngAfterViewInit",value:function(){var r=this;setTimeout(function(){r.codeEditor.getSession().setValue(r.data||"")})}},{key:"ngOnChanges",value:function(r){var i=this;this.cd.reattach(),setTimeout(function(){void 0!==i.data&&i.codeEditor.getSession().setValue(i.data),void 0!==i.readOnly&&i.codeEditor.setOptions({readOnly:i.readOnly}),i.cd.detach()})}},{key:"getEditorOptions",value:function(){return Object.assign({highlightActiveLine:!0,highlightSelectedWord:!0,useWorker:!1,minLines:37})}},{key:"updateChanges",value:function(){var r=this;this.cd.reattach(),setTimeout(function(){var i=""+r.codeEditor.getSession().getValue();r.updatedData.emit(i),console.log(i),r.cd.detach()})}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(vs),de(hn))},e.\u0275cmp=vr({type:e,selectors:[["app-editor"]],viewQuery:function(t,r){var i;1&t&&Cl(EF,7),2&t&&hs(i=fs())&&(r.codeEditorElmRef=i.first)},inputs:{readOnly:"readOnly",data:"data"},outputs:{updatedData:"updatedData"},features:[Nn],decls:2,vars:1,consts:[[1,"card-body","h-100",3,"contentEditable","keyup"],["codeEditor",""]],template:function(t,r){1&t&&(Le(0,"div",0,1),vt("keyup",function(){return r.updateChanges()}),Re()),2&t&&bt("contentEditable",!0)},styles:[""]}),e}();function MF(e,n){if(1&e){var t=Yi();Le(0,"div")(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9),_n(5,"img",10),Re()(),Le(6,"span",11),ot(7,"Sign in to Online Ide"),Re(),Le(8,"form",12)(9,"div",13)(10,"div",14)(11,"div",15)(12,"label",16)(13,"b"),ot(14,"Email"),Re()()(),Le(15,"div",17)(16,"input",18),vt("ngModelChange",function(o){return cn(t),Ft().emailAddress=o})("blur",function(o){return cn(t),Ft().onEmailNameChange(o.target.value)}),Re()(),Le(17,"div",15)(18,"label",19)(19,"b"),ot(20,"Password"),Re()(),Le(21,"div",20)(22,"a",21),ot(23,"Forgot Password"),Re()()(),Le(24,"div",17)(25,"input",22),vt("ngModelChange",function(o){return cn(t),Ft().password=o})("blur",function(o){return cn(t),Ft().onPasswordChange(o.target.value)}),Re()(),Le(26,"div",23)(27,"span",24),vt("click",function(){return cn(t),Ft().login()}),ot(28,"Sign in"),Re()(),Le(29,"div",25)(30,"label",26),ot(31,"New to Online-Ide? "),Le(32,"a",27),ot(33,"Create an account"),Re()()()()()()()()()}if(2&e){var r=Ft();Ot(16),bt("ngModel",r.emailAddress),Ot(9),bt("ngModel",r.password)}}function RF(e,n){1&e&&(Le(0,"div",67),_n(1,"app-terminal"),Re())}function TF(e,n){if(1&e){var t=Yi();Le(0,"div",68),vt("ngModelChange",function(o){return cn(t),Ft(2).output=o}),ot(1),Re()}if(2&e){var r=Ft(2);bt("ngModel",r.output)("contentEditable",!1),Ot(1),hl(" ",r.output," ")}}var LF=function(){return{height:"86vh"}};function xF(e,n){if(1&e){var t=Yi();Le(0,"div")(1,"nav",28)(2,"a",29),ot(3,"Online Ide"),Re(),Le(4,"button",30),_n(5,"span",31),Re(),Le(6,"div",32)(7,"ul",33)(8,"li",34)(9,"a",35),ot(10,"About"),Re()()(),Le(11,"ul",36)(12,"li",37)(13,"a",38),_n(14,"img",39),Re(),Le(15,"ul",40)(16,"li")(17,"a",41),ot(18,"Logout"),Re()(),Le(19,"li")(20,"a",41),ot(21,"Profile Settings"),Re()()()()()()(),_n(22,"div",42),Le(23,"div",43)(24,"div",44)(25,"div",45)(26,"div",46)(27,"ul",47)(28,"li",34)(29,"a",48),ot(30,"CodeEditor"),Re()(),Le(31,"li",34)(32,"a",49),ot(33,"Upload Program"),Re()(),Le(34,"li",50)(35,"label",51),ot(36,"Language"),Re(),Le(37,"div",52)(38,"select",53)(39,"option"),ot(40,"Java"),Re(),Le(41,"option",54),ot(42,"Python"),Re()()(),Le(43,"div",55)(44,"button",56),vt("click",function(){return cn(t),Ft().compile()}),ot(45," Compile "),Re()()()()(),Le(46,"div",57)(47,"app-editor",58),vt("updatedData",function(o){return cn(t),Ft().updateCode(o)}),Re()()()(),Le(48,"div",59)(49,"div",60)(50,"div",46)(51,"ul",47)(52,"li",34)(53,"label",48),ot(54,"Output"),Re()(),Le(55,"li",50)(56,"div",61)(57,"input",62),vt("checkedChange",function(o){return cn(t),Ft().interactive=o})("change",function(){cn(t);var o=Ft();return o.interactive=!o.interactive}),Re(),Le(58,"label",63),ot(59,"Interactive"),Re()()()(),_n(60,"div",64),Re(),Yn(61,RF,2,0,"div",65),Yn(62,TF,2,3,"div",66),Re()()()()}if(2&e){var r=Ft();Ot(25),bt("ngStyle",yl(4,LF)),Ot(32),bt("checked",r.interactive),Ot(4),bt("ngIf",r.interactive),Ot(1),bt("ngIf",!r.interactive)}}var OF=function(){var e=function(){function n(t,r,i,o,l){g(this,n),this.httpClient=t,this.router=r,this.usersService=i,this.compilationService=o,this.terminalService=l,this.sidebarMinimized=!1,this.language="",this.showToggler=!1,this.lang="",this.indentation="1",this.closeButton=!1,this.importInProgress=!0,this.popupImportVisible=!1,this.uploadSuccessfull=!1,this.projectList=[],this.selectedProject=[],this.projectId="",this.userId="",this.isLoggedIn="false",this.emailAddress="",this.password="",this.output="",this.code="",this.interactive=!0,this.statusMessage={success:!1,error:!1,message:""},this.importPercentage=0,this.importMessage="",this.popupVisible=!0,this.message="",this.showWarningMessage=!1,this.httpOptions={headers:new Mr({"Content-Type":"application/json"})};var m=JSON.parse(localStorage.getItem("globalData"));this.language=m&&m.language?m.language:"python",this.indentation=m&&m.indentation?m.indentation:"1",this.userId=m&&m.userId?m.userId:""}return w(n,[{key:"ngOnInit",value:function(){localStorage.setItem("globalData",JSON.stringify({userId:this.userId,language:this.language}))}},{key:"ngDoCheck",value:function(){var r=JSON.parse(localStorage.getItem("globalData"));this.showWarningMessage=r.mode,this.showToggler=""!==r.projectId}},{key:"ngAfterViewInit",value:function(){}},{key:"forgottonPassword",value:function(){}},{key:"onEmailNameChange",value:function(r){this.emailAddress=r}},{key:"onPasswordChange",value:function(r){this.password=r}},{key:"importPopUp",value:function(){this.popupImportVisible=!0}},{key:"login",value:function(){var r=this;this.usersService.getUserByEmailPassword(this.emailAddress,this.password).subscribe(function(i){return Ti(r,void 0,void 0,hr().mark(function o(){return hr().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:localStorage.setItem("dataObject",Date.now()+"`"+JSON.stringify(i)),this.isLoggedIn="true",this.user=i.user,!0===this.user.is_new?(this.user.is_new=!1,this.usersService.updateUser(this.user).subscribe(function(A){localStorage.setItem("dataObject",Date.now()+"`"+JSON.stringify({user:A}))})):"/"===this.router.url&&this.router.navigate(["/project"]);case 4:case"end":return m.stop()}},o,this)}))},function(i){r.popupVisible=!0,("Invalid Email"===i||"Invalid Password"===i)&&(r.message="Incorrect email or password.")})}},{key:"upload",value:function(r){}},{key:"toggleMinimize",value:function(r){this.sidebarMinimized=r}},{key:"selectIndentation",value:function(r){this.indentation=r,localStorage.setItem("globalData",JSON.stringify({projectId:this.projectId,language:this.language,indentation:this.indentation,mode:this.showWarningMessage})),this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.router.onSameUrlNavigation="reload",this.router.navigate([this.router.url])}},{key:"logout",value:function(){localStorage.removeItem("dataObject"),this.isLoggedIn="false",this.router.navigate(["/"])}},{key:"about",value:function(){this.router.navigate(["/about"])}},{key:"updateCode",value:function(r){this.code=r}},{key:"compile",value:function(){var r=this,i={userId:this.user.id,status:0,output:"",compilationPercentage:0,compilationMessage:"",language:"python",code:this.code};this.interactive?this.terminalService.runCompilation(i):this.compilationService.postLocalCompilation(i).subscribe(function(o){console.log(o),""!==o.err?(console.log(o.err),r.output=o.err):r.output=o.output})}}]),n}();return e.\u0275fac=function(t){return new(t||e)(de(dc),de(Rn),de(tw),de(SF),de(Hb))},e.\u0275cmp=vr({type:e,selectors:[["app-userlogin"]],decls:7,vars:2,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"app-body"],[1,"main"],[4,"ngIf"],[1,"animated","fadeIn"],[1,"",2,"background-color","white"],[1,"m-1",2,"overflow","hidden","height","99vh","background-color","white"],[1,"container","shadow","p-3","mb-5","bg-white","rounded","mw-50"],[2,"display","flex","flex-direction","row"],[1,"container","row"],["src","../../assets/user.png","alt","img",2,"margin-left","43%","margin-top","12%","width","10vw"],[1,"text-center","mt-3",2,"margin-left","37%","font-size","2vw"],["action","#"],[1,"wrapper"],[1,"form"],[1,"inputfield"],[1,"label"],[1,"input-group","mb-4"],["required","required","id","email","type","text","name","email","placeholder","Email",1,"form-control",2,"width","50vw","height","auto",3,"ngModel","ngModelChange","blur"],["for","password",1,"label"],[1,"pt-2","ms-auto"],["routerLink","/reset_password",1,"pt-2",2,"cursor","pointer","color","royalblue","font-weight","bold"],["required","required","id","password","type","password","name","password","placeholder","Password",1,"form-control",2,"width","50vw","height","auto",3,"ngModel","ngModelChange","blur"],[1,"form-group"],[1,"btn","btn-success","btn-block","font-weight-bold","mt-3",3,"click"],[1,"form-group","border","pt-2","row","mt-5",2,"background-color","white","height","6vh","width","100%","text-align","center"],[1,"pt-2"],["id","signUp","routerLink","/sign-up",1,"pt-2",2,"cursor","pointer","color","gray"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["href","#",1,"navbar-brand","px-2"],["type","button","data-toggle","collapse","data-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["href","#",1,"nav-link"],[1,"nav","navbar-nav","ms-auto","me-1"],[1,"nav-item","dropdown"],["id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["src","assets/person.svg",1,"change-my-color",2,"height","30px","color","aquamarine"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu","dropdown-menu-lg-end"],["href","#",1,"dropdown-item"],[1,"row"],[1,"row","border-1",2,"padding-right","10px","padding-left","10px"],[1,"col-lg-7","col-md-7"],[1,"card","ui_wrapper",2,"margin-right","-10px","overflow","auto","resize","vertical","overflow","hidden","width","100%","border","1px solid darkgrey",3,"ngStyle"],[1,"card-header"],[1,"nav","nav-tabs","navbar-nav","bd-navbar-nav","flex-row","card-header-tabs"],[1,"nav-link","active","px-2"],[1,"nav-link","px-2"],[1,"ms-auto","nav-item","ml-md-auto","d-none","d-md-flex"],[1,"mt-2",2,"padding-right","10px"],[2,"padding-right","10px"],["aria-label","Default select example",1,"form-select","w-60"],["selected",""],[1,"ms-auto",2,"padding","left 10px"],["type","button",1,"pl-1","btn","btn-secondary",3,"click"],[1,"card-body",2,"resize","vertical","overflow","auto","width","100.1%","margin-right","2px"],[3,"updatedData"],[1,"col-lg-5","col-md-5",2,"height","86vh"],[1,"card",2,"resize","vertical","overflow","auto","height","86vh","width","100%","border","1px solid darkgrey"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"checked","checkedChange","change"],[1,"form-check-label","ms-3"],[1,"card-header-actions"],["class","card-body","style","overflow: auto",4,"ngIf"],["class","card-body",3,"ngModel","contentEditable","ngModelChange",4,"ngIf"],[1,"card-body",2,"overflow","auto"],[1,"card-body",3,"ngModel","contentEditable","ngModelChange"]],template:function(t,r){1&t&&(_n(0,"meta",0),Le(1,"div",1)(2,"main",2),Yn(3,MF,34,2,"div",3),Yn(4,xF,63,5,"div",3),Le(5,"div",4),_n(6,"div",5),Re()()()),2&t&&(Ot(3),bt("ngIf","false"===r.isLoggedIn),Ot(1),bt("ngIf","true"===r.isLoggedIn))},directives:[Qf,Zd,$d,cu,iu,hu,Nd,lc,ru,nd,yb,Cb,AF,Ub],styles:["*[_ngcontent-%COMP%]{margin:2;padding:2;box-sizing:border-box}.wrapper[_ngcontent-%COMP%]{max-width:500px;width:100%;height:100%;max-height:270px;margin:20px auto;padding:30px;background-color:#fafafa}.wrapper.form[_ngcontent-%COMP%]{width:100%}.wrapper[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .inputfield[_ngcontent-%COMP%]{margin-bottom:1px;display:flex;align-items:center}.wrapper[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .inputfield[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:300px;color:#000;margin-right:10px;font-size:14px}.hide[_ngcontent-%COMP%]{display:none}.cursor-click[_ngcontent-%COMP%]{cursor:pointer}input[_ngcontent-%COMP%]{width:30px}.card[_ngcontent-%COMP%]{margin-bottom:0}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown-content[_ngcontent-%COMP%]{margin-top:1px;display:none;position:absolute;background-color:#f9f9f9;min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-content[_ngcontent-%COMP%]:hover{padding:0}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.button[_ngcontent-%COMP%]{background-color:#fff;border:none;padding:6px}button[_ngcontent-%COMP%]:focus{outline:none}.button[_ngcontent-%COMP%]:hover{background-color:#d3d3d3;padding:7px;border-radius:4px}label.import[_ngcontent-%COMP%]{margin-top:10px}.fa-check[_ngcontent-%COMP%]{color:#00b300}.is-selectInvalid[_ngcontent-%COMP%]{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.fa[_ngcontent-%COMP%]{font-size:xx-large}.custom-control-label[_ngcontent-%COMP%]{margin-top:8px;margin-left:10px}.icon-new[_ngcontent-%COMP%]{font-size:20px;line-height:0px}.alert-container[_ngcontent-%COMP%]{float:right;max-width:90%}h2[_ngcontent-%COMP%]{font-size:30px}[_ngcontent-%COMP%]:required{background:url(user.0049d8389fcb3318.png) no-repeat;background-position:99% 10%;background-size:10px 10px;background-color:#dde8f7}@media (max-width:600px){h2.responsive[_ngcontent-%COMP%]{font-size:24px}}.warningMessage[_ngcontent-%COMP%]{position:absolute;right:9%}.toggler[_ngcontent-%COMP%]{position:absolute;right:3.5%}.alertClass[_ngcontent-%COMP%]{margin-left:5%;font-size:30px;width:100%;text-align:center}.alert[_ngcontent-%COMP%]{margin-bottom:0rem}button[_ngcontent-%COMP%]{margin-right:10px}.input-group-prepend[_ngcontent-%COMP%]{height:35px}.icon[_ngcontent-%COMP%]{font-weight:800;font-size:20px;line-height:0px}.margin-left-0[_ngcontent-%COMP%]{margin-left:0}.add-icon[_ngcontent-%COMP%]{font-weight:800;font-size:50px;line-height:0px;cursor:pointer}.form-check[_ngcontent-%COMP%]{cursor:pointer}[_ngcontent-%COMP%]:required{background:url(asterisk.a20ed0f0c26169e9.svg) no-repeat;background-position:99% 10%;background-size:10px 10px}.invalid-feedback[_ngcontent-%COMP%]{display:none}hr[_ngcontent-%COMP%]{border:1px solid grey}.form-check-input[_ngcontent-%COMP%]{position:absolute;margin-top:.7rem;margin-left:-1.25rem}.form-check-label[_ngcontent-%COMP%]{margin-bottom:0;margin-right:15px;margin-top:.4rem}.textarea-width[_ngcontent-%COMP%]{width:100%;height:300px}.modal-dialog[_ngcontent-%COMP%]{max-width:800px}@media all and (min-width: 768px){tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important}tr[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not([class]){padding:1rem}}"]}),e}(),IF=[{path:"sign-in",component:OF},{path:"sign-up",component:wF},{path:"reset_password",component:hI},{path:"terminal",component:Ub}],PF=function(){var e=w(function n(){g(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pn({type:e}),e.\u0275inj=Sn({imports:[[LC.forRoot(IF)],LC]}),e}(),FF=function(){var e=w(function n(){g(this,n),this.title="ui"});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=vr({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&_n(0,"router-outlet")},directives:[Dd],styles:[""]}),e}(),BF=function(){var e=w(function n(){g(this,n)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Pn({type:e,bootstrap:[FF]}),e.\u0275inj=Sn({providers:[],imports:[[NL,PF,dF,mP,XP]]}),e}();FL().bootstrapModule(BF).catch(function(e){return console.error(e)})},5682:function(ge,J,ne){ge=ne.nmd(ge),function(){var H=function(){return this}();!H&&"undefined"!=typeof window&&(H=window);var x=function f(s,a,u){"string"==typeof s?(2==arguments.length&&(u=a),f.modules[s]||(f.payloads[s]=u,f.modules[s]=null)):f.original?f.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};x.modules={},x.payloads={};var O=function(s,a,u){if("string"==typeof a){var c=y(s,a);if(null!=c)return u&&u(),c}else if("[object Array]"===Object.prototype.toString.call(a)){for(var d=[],h=0,p=a.length;h<p;++h){var _=y(s,a[h]);if(null==_&&w.original)return;d.push(_)}return u&&u.apply(null,d)||!0}},w=function f(s,a){var u=O("",s,a);return null==u&&f.original?f.original.apply(this,arguments):u},g=function f(s,a){if(-1!==a.indexOf("!")){var u=a.split("!");return f(s,u[0])+"!"+f(s,u[1])}if("."==a.charAt(0))for(a=s.split("/").slice(0,-1).join("/")+"/"+a;-1!==a.indexOf(".")&&d!=a;){var d=a;a=a.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return a},y=function(s,a){a=g(s,a);var u=x.modules[a];if(!u){if("function"==typeof(u=x.payloads[a])){var c={},d={id:a,uri:"",exports:c,packaged:!0},p=u(function(E,D){return O(a,E,D)},c,d);x.modules[a]=c=p||d.exports,delete x.payloads[a]}u=x.modules[a]=c||u}return u};!function v(f){var s=H;f&&(H[f]||(H[f]={}),s=H[f]),(!s.define||!s.define.packaged)&&(x.original=s.define,s.define=x,s.define.packaged=!0),(!s.require||!s.require.packaged)&&(w.original=s.require,s.require=w,s.require.packaged=!0)}("ace")}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],function(N,H,x){"use strict";"undefined"!=typeof Element&&!Element.prototype.remove&&Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),ace.define("ace/lib/useragent",["require","exports","module"],function(N,H,x){"use strict";H.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},H.getOS=function(){return H.isMac?H.OS.MAC:H.isLinux?H.OS.LINUX:H.OS.WINDOWS};var O="object"==typeof navigator?navigator:{},w=(/mac|win|linux/i.exec(O.platform)||["other"])[0].toLowerCase(),g=O.userAgent||"",y=O.appName||"";H.isWin="win"==w,H.isMac="mac"==w,H.isLinux="linux"==w,H.isIE="Microsoft Internet Explorer"==y||y.indexOf("MSAppHost")>=0?parseFloat((g.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((g.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),H.isOldIE=H.isIE&&H.isIE<9,H.isGecko=H.isMozilla=g.match(/ Gecko\/\d+/),H.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),H.isWebKit=parseFloat(g.split("WebKit/")[1])||void 0,H.isChrome=parseFloat(g.split(" Chrome/")[1])||void 0,H.isEdge=parseFloat(g.split(" Edge/")[1])||void 0,H.isAIR=g.indexOf("AdobeAIR")>=0,H.isAndroid=g.indexOf("Android")>=0,H.isChromeOS=g.indexOf(" CrOS ")>=0,H.isIOS=/iPad|iPhone|iPod/.test(g)&&!window.MSStream,H.isIOS&&(H.isMac=!0),H.isMobile=H.isIOS||H.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(N,H,x){"use strict";var O=N("./useragent");H.buildDom=function a(u,c,d){if("string"==typeof u&&u){var h=document.createTextNode(u);return c&&c.appendChild(h),h}if(!Array.isArray(u))return u&&u.appendChild&&c&&c.appendChild(u),u;if("string"!=typeof u[0]||!u[0]){for(var p=[],_=0;_<u.length;_++){var E=a(u[_],c,d);E&&p.push(E)}return p}var D=document.createElement(u[0]),b=u[1],R=1;for(b&&"object"==typeof b&&!Array.isArray(b)&&(R=2),_=R;_<u.length;_++)a(u[_],D,d);return 2==R&&Object.keys(b).forEach(function(k){var S=b[k];"class"===k?D.className=Array.isArray(S)?S.join(" "):S:"function"==typeof S||"value"==k||"$"==k[0]?D[k]=S:"ref"===k?d&&(d[S]=D):"style"===k?"string"==typeof S&&(D.style.cssText=S):null!=S&&D.setAttribute(k,S)}),c&&c.appendChild(D),D},H.getDocumentHead=function(a){return a||(a=document),a.head||a.getElementsByTagName("head")[0]||a.documentElement},H.createElement=function(a,u){return document.createElementNS?document.createElementNS(u||"http://www.w3.org/1999/xhtml",a):document.createElement(a)},H.removeChildren=function(a){a.innerHTML=""},H.createTextNode=function(a,u){return(u?u.ownerDocument:document).createTextNode(a)},H.createFragment=function(a){return(a?a.ownerDocument:document).createDocumentFragment()},H.hasCssClass=function(a,u){return-1!==(a.className+"").split(/\s+/g).indexOf(u)},H.addCssClass=function(a,u){H.hasCssClass(a,u)||(a.className+=" "+u)},H.removeCssClass=function(a,u){for(var c=a.className.split(/\s+/g);;){var d=c.indexOf(u);if(-1==d)break;c.splice(d,1)}a.className=c.join(" ")},H.toggleCssClass=function(a,u){for(var c=a.className.split(/\s+/g),d=!0;;){var h=c.indexOf(u);if(-1==h)break;d=!1,c.splice(h,1)}return d&&c.push(u),a.className=c.join(" "),d},H.setCssClass=function(a,u,c){c?H.addCssClass(a,u):H.removeCssClass(a,u)},H.hasCssString=function(a,u){var d,c=0;if(d=(u=u||document).querySelectorAll("style"))for(;c<d.length;)if(d[c++].id===a)return!0};var g,y=[];function v(){var a=y;y=null,a&&a.forEach(function(u){f(u[0],u[1])})}function f(a,u,c){if("undefined"!=typeof document){if(y)if(c)v();else if(!1===c)return y.push([a,u]);if(!g){var d=c;c&&c.getRootNode?(!(d=c.getRootNode())||d==c)&&(d=document):d=document;var h=d.ownerDocument||d;if(u&&H.hasCssString(u,d))return null;u&&(a+="\n/*# sourceURL=ace/css/"+u+" */");var p=H.createElement("style");p.appendChild(h.createTextNode(a)),u&&(p.id=u),d==h&&(d=H.getDocumentHead(h)),d.insertBefore(p,d.firstChild)}}}if(H.useStrictCSP=function(a){g=a,0==a?v():y||(y=[])},H.importCssString=f,H.importCssStylsheet=function(a,u){H.buildDom(["link",{rel:"stylesheet",href:a}],H.getDocumentHead(u))},H.scrollbarWidth=function(a){var u=H.createElement("ace_inner");u.style.width="100%",u.style.minWidth="0px",u.style.height="200px",u.style.display="block";var c=H.createElement("ace_outer"),d=c.style;d.position="absolute",d.left="-10000px",d.overflow="hidden",d.width="200px",d.minWidth="0px",d.height="150px",d.display="block",c.appendChild(u);var h=a.documentElement;h.appendChild(c);var p=u.offsetWidth;d.overflow="scroll";var _=u.offsetWidth;return p==_&&(_=c.clientWidth),h.removeChild(c),p-_},H.computedStyle=function(a,u){return window.getComputedStyle(a,"")||{}},H.setStyle=function(a,u,c){a[u]!==c&&(a[u]=c)},H.HAS_CSS_ANIMATION=!1,H.HAS_CSS_TRANSFORMS=!1,H.HI_DPI=!O.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,O.isChromeOS&&(H.HI_DPI=!1),"undefined"!=typeof document){var s=document.createElement("div");H.HI_DPI&&void 0!==s.style.transform&&(H.HAS_CSS_TRANSFORMS=!0),!O.isEdge&&void 0!==s.style.animationName&&(H.HAS_CSS_ANIMATION=!0),s=null}H.translate=H.HAS_CSS_TRANSFORMS?function(a,u,c){a.style.transform="translate("+Math.round(u)+"px, "+Math.round(c)+"px)"}:function(a,u,c){a.style.top=Math.round(c)+"px",a.style.left=Math.round(u)+"px"}}),ace.define("ace/lib/oop",["require","exports","module"],function(N,H,x){"use strict";H.inherits=function(O,w){O.super_=w,O.prototype=Object.create(w.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}})},H.mixin=function(O,w){for(var g in w)O[g]=w[g];return O},H.implement=function(O,w){H.mixin(O,w)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(N,H,x){"use strict";var O=N("./oop"),w=function(){var y,v,g={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(v in g.FUNCTION_KEYS)y=g.FUNCTION_KEYS[v].toLowerCase(),g[y]=parseInt(v,10);for(v in g.PRINTABLE_KEYS)y=g.PRINTABLE_KEYS[v].toLowerCase(),g[y]=parseInt(v,10);return O.mixin(g,g.MODIFIER_KEYS),O.mixin(g,g.PRINTABLE_KEYS),O.mixin(g,g.FUNCTION_KEYS),g.enter=g.return,g.escape=g.esc,g.del=g.delete,g[173]="-",function(){for(var f=["cmd","ctrl","alt","shift"],s=Math.pow(2,f.length);s--;)g.KEY_MODS[s]=f.filter(function(a){return s&g.KEY_MODS[a]}).join("-")+"-"}(),g.KEY_MODS[0]="",g.KEY_MODS[-1]="input-",g}();O.mixin(H,w),H.keyCodeToString=function(g){var y=w[g];return"string"!=typeof y&&(y=String.fromCharCode(g)),y.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(N,H,x){"use strict";var v,O=N("./keys"),w=N("./useragent"),g=null,y=0;function s(){return null==v&&function f(){v=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){v={passive:!1}}})}catch(E){}}(),v}function a(E,D,b){this.elem=E,this.type=D,this.callback=b}a.prototype.destroy=function(){c(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=H.addListener=function(E,D,b,R){E.addEventListener(D,b,s()),R&&R.$toDestroy.push(new a(E,D,b))},c=H.removeListener=function(E,D,b){E.removeEventListener(D,b,s())};H.stopEvent=function(E){return H.stopPropagation(E),H.preventDefault(E),!1},H.stopPropagation=function(E){E.stopPropagation&&E.stopPropagation()},H.preventDefault=function(E){E.preventDefault&&E.preventDefault()},H.getButton=function(E){return"dblclick"==E.type?0:"contextmenu"==E.type||w.isMac&&E.ctrlKey&&!E.altKey&&!E.shiftKey?2:E.button},H.capture=function(E,D,b){var R=E&&E.ownerDocument||document;function k(S){D&&D(S),b&&b(S),c(R,"mousemove",D),c(R,"mouseup",k),c(R,"dragstart",k)}return u(R,"mousemove",D),u(R,"mouseup",k),u(R,"dragstart",k),k},H.addMouseWheelListener=function(E,D,b){"onmousewheel"in E?u(E,"mousewheel",function(R){void 0!==R.wheelDeltaX?(R.wheelX=-R.wheelDeltaX/8,R.wheelY=-R.wheelDeltaY/8):(R.wheelX=0,R.wheelY=-R.wheelDelta/8),D(R)},b):"onwheel"in E?u(E,"wheel",function(R){switch(R.deltaMode){case R.DOM_DELTA_PIXEL:R.wheelX=.35*R.deltaX||0,R.wheelY=.35*R.deltaY||0;break;case R.DOM_DELTA_LINE:case R.DOM_DELTA_PAGE:R.wheelX=5*(R.deltaX||0),R.wheelY=5*(R.deltaY||0)}D(R)},b):u(E,"DOMMouseScroll",function(R){R.axis&&R.axis==R.HORIZONTAL_AXIS?(R.wheelX=5*(R.detail||0),R.wheelY=0):(R.wheelX=0,R.wheelY=5*(R.detail||0)),D(R)},b)},H.addMultiMouseDownListener=function(E,D,b,R,k){var M,C,T,S=0,I={2:"dblclick",3:"tripleclick",4:"quadclick"};function $(F){if(0!==H.getButton(F)?S=0:F.detail>1?++S>4&&(S=1):S=1,w.isIE){var P=Math.abs(F.clientX-M)>5||Math.abs(F.clientY-C)>5;(!T||P)&&(S=1),T&&clearTimeout(T),T=setTimeout(function(){T=null},D[S-1]||600),1==S&&(M=F.clientX,C=F.clientY)}if(F._clicks=S,b[R]("mousedown",F),S>4)S=0;else if(S>1)return b[R](I[S],F)}Array.isArray(E)||(E=[E]),E.forEach(function(F){u(F,"mousedown",$,k)})};var d=function(D){return 0|(D.ctrlKey?1:0)|(D.altKey?2:0)|(D.shiftKey?4:0)|(D.metaKey?8:0)};function h(E,D,b){var R=d(D);if(!w.isMac&&g){if(D.getModifierState&&(D.getModifierState("OS")||D.getModifierState("Win"))&&(R|=8),g.altGr){if(3==(3&R))return;g.altGr=0}if(18===b||17===b){var k="location"in D?D.location:D.keyLocation;17===b&&1===k?1==g[b]&&(y=D.timeStamp):18===b&&3===R&&2===k&&D.timeStamp-y<50&&(g.altGr=!0)}}if(b in O.MODIFIER_KEYS&&(b=-1),R||13!==b||3!==(k="location"in D?D.location:D.keyLocation)||(E(D,R,-b),!D.defaultPrevented)){if(w.isChromeOS&&8&R){if(E(D,R,b),D.defaultPrevented)return;R&=-9}return!!(R||b in O.FUNCTION_KEYS||b in O.PRINTABLE_KEYS)&&E(D,R,b)}}function p(){g=Object.create(null)}if(H.getModifierString=function(E){return O.KEY_MODS[d(E)]},H.addCommandKeyListener=function(E,D,b){if(w.isOldGecko||w.isOpera&&!("KeyboardEvent"in window)){var R=null;u(E,"keydown",function(S){R=S.keyCode},b),u(E,"keypress",function(S){return h(D,S,R)},b)}else{var k=null;u(E,"keydown",function(S){g[S.keyCode]=(g[S.keyCode]||0)+1;var M=h(D,S,S.keyCode);return k=S.defaultPrevented,M},b),u(E,"keypress",function(S){k&&(S.ctrlKey||S.altKey||S.shiftKey||S.metaKey)&&(H.stopEvent(S),k=null)},b),u(E,"keyup",function(S){g[S.keyCode]=null},b),g||(p(),u(window,"focus",p))}},"object"==typeof window&&window.postMessage&&!w.isOldIE){var _=1;H.nextTick=function(E,D){D=D||window;var b="zero-timeout-message-"+_++;u(D,"message",function k(S){S.data==b&&(H.stopPropagation(S),c(D,"message",k),E())}),D.postMessage(b,"*")}}H.$idleBlocked=!1,H.onIdle=function(E,D){return setTimeout(function b(){H.$idleBlocked?setTimeout(b,100):E()},D)},H.$idleBlockId=null,H.blockIdle=function(E){H.$idleBlockId&&clearTimeout(H.$idleBlockId),H.$idleBlocked=!0,H.$idleBlockId=setTimeout(function(){H.$idleBlocked=!1},E||100)},H.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),H.nextFrame=H.nextFrame?H.nextFrame.bind(window):function(E){setTimeout(E,17)}}),ace.define("ace/range",["require","exports","module"],function(N,H,x){"use strict";var w=function(y,v,f,s){this.start={row:y,column:v},this.end={row:f,column:s}};(function(){this.isEqual=function(g){return this.start.row===g.start.row&&this.end.row===g.end.row&&this.start.column===g.start.column&&this.end.column===g.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(g,y){return 0==this.compare(g,y)},this.compareRange=function(g){var y,v=g.end,f=g.start;return 1==(y=this.compare(v.row,v.column))?1==(y=this.compare(f.row,f.column))?2:0==y?1:0:-1==y?-2:-1==(y=this.compare(f.row,f.column))?-1:1==y?42:0},this.comparePoint=function(g){return this.compare(g.row,g.column)},this.containsRange=function(g){return 0==this.comparePoint(g.start)&&0==this.comparePoint(g.end)},this.intersects=function(g){var y=this.compareRange(g);return-1==y||0==y||1==y},this.isEnd=function(g,y){return this.end.row==g&&this.end.column==y},this.isStart=function(g,y){return this.start.row==g&&this.start.column==y},this.setStart=function(g,y){"object"==typeof g?(this.start.column=g.column,this.start.row=g.row):(this.start.row=g,this.start.column=y)},this.setEnd=function(g,y){"object"==typeof g?(this.end.column=g.column,this.end.row=g.row):(this.end.row=g,this.end.column=y)},this.inside=function(g,y){return 0==this.compare(g,y)&&!(this.isEnd(g,y)||this.isStart(g,y))},this.insideStart=function(g,y){return 0==this.compare(g,y)&&!this.isEnd(g,y)},this.insideEnd=function(g,y){return 0==this.compare(g,y)&&!this.isStart(g,y)},this.compare=function(g,y){return this.isMultiLine()||g!==this.start.row?g<this.start.row?-1:g>this.end.row?1:this.start.row===g?y>=this.start.column?0:-1:this.end.row===g?y<=this.end.column?0:1:0:y<this.start.column?-1:y>this.end.column?1:0},this.compareStart=function(g,y){return this.start.row==g&&this.start.column==y?-1:this.compare(g,y)},this.compareEnd=function(g,y){return this.end.row==g&&this.end.column==y?1:this.compare(g,y)},this.compareInside=function(g,y){return this.end.row==g&&this.end.column==y?1:this.start.row==g&&this.start.column==y?-1:this.compare(g,y)},this.clipRows=function(g,y){if(this.end.row>y)var v={row:y+1,column:0};else this.end.row<g&&(v={row:g,column:0});if(this.start.row>y)var f={row:y+1,column:0};else this.start.row<g&&(f={row:g,column:0});return w.fromPoints(f||this.start,v||this.end)},this.extend=function(g,y){var v=this.compare(g,y);if(0==v)return this;if(-1==v)var f={row:g,column:y};else var s={row:g,column:y};return w.fromPoints(f||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return w.fromPoints(this.start,this.end)},this.collapseRows=function(){return new w(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},this.toScreenRange=function(g){var y=g.documentToScreenPosition(this.start),v=g.documentToScreenPosition(this.end);return new w(y.row,y.column,v.row,v.column)},this.moveBy=function(g,y){this.start.row+=g,this.start.column+=y,this.end.row+=g,this.end.column+=y}}).call(w.prototype),w.fromPoints=function(g,y){return new w(g.row,g.column,y.row,y.column)},w.comparePoints=function(y,v){return y.row-v.row||y.column-v.column},w.comparePoints=function(g,y){return g.row-y.row||g.column-y.column},H.Range=w}),ace.define("ace/lib/lang",["require","exports","module"],function(N,H,x){"use strict";H.last=function(g){return g[g.length-1]},H.stringReverse=function(g){return g.split("").reverse().join("")},H.stringRepeat=function(g,y){for(var v="";y>0;)1&y&&(v+=g),(y>>=1)&&(g+=g);return v};var O=/^\s\s*/,w=/\s\s*$/;H.stringTrimLeft=function(g){return g.replace(O,"")},H.stringTrimRight=function(g){return g.replace(w,"")},H.copyObject=function(g){var y={};for(var v in g)y[v]=g[v];return y},H.copyArray=function(g){for(var y=[],v=0,f=g.length;v<f;v++)y[v]=g[v]&&"object"==typeof g[v]?this.copyObject(g[v]):g[v];return y},H.deepCopy=function g(y){if("object"!=typeof y||!y)return y;var v;if(Array.isArray(y)){v=[];for(var f=0;f<y.length;f++)v[f]=g(y[f]);return v}if("[object Object]"!==Object.prototype.toString.call(y))return y;for(var f in v={},y)v[f]=g(y[f]);return v},H.arrayToMap=function(g){for(var y={},v=0;v<g.length;v++)y[g[v]]=1;return y},H.createMap=function(g){var y=Object.create(null);for(var v in g)y[v]=g[v];return y},H.arrayRemove=function(g,y){for(var v=0;v<=g.length;v++)y===g[v]&&g.splice(v,1)},H.escapeRegExp=function(g){return g.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},H.escapeHTML=function(g){return(""+g).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},H.getMatchOffsets=function(g,y){var v=[];return g.replace(y,function(f){v.push({offset:arguments[arguments.length-2],length:f.length})}),v},H.deferredCall=function(g){var y=null,v=function(){y=null,g()},f=function s(a){return s.cancel(),y=setTimeout(v,a||0),s};return f.schedule=f,f.call=function(){return this.cancel(),g(),f},f.cancel=function(){return clearTimeout(y),y=null,f},f.isPending=function(){return y},f},H.delayedCall=function(g,y){var v=null,f=function(){v=null,g()},s=function(u){null==v&&(v=setTimeout(f,u||y))};return s.delay=function(a){v&&clearTimeout(v),v=setTimeout(f,a||y)},s.schedule=s,s.call=function(){this.cancel(),g()},s.cancel=function(){v&&clearTimeout(v),v=null},s.isPending=function(){return v},s}}),ace.define("ace/clipboard",["require","exports","module"],function(N,H,x){"use strict";var O;x.exports={lineMode:!1,pasteCancelled:function(){return!!(O&&O>Date.now()-50)||(O=!1)},cancel:function(){O=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(N,H,x){"use strict";var O=N("../lib/event"),w=N("../lib/useragent"),g=N("../lib/dom"),y=N("../lib/lang"),v=N("../clipboard"),f=w.isChrome<18,s=w.isIE,a=w.isChrome>63,u=400,c=N("../lib/keys"),d=c.KEY_MODS,h=w.isIOS,p=h?/\s/:/\n/,_=w.isMobile;H.TextInput=function(b,R){var k=g.createElement("textarea");k.className="ace_text-input",k.setAttribute("wrap","off"),k.setAttribute("autocorrect","off"),k.setAttribute("autocapitalize","off"),k.setAttribute("spellcheck",!1),k.style.opacity="0",b.insertBefore(k,b.firstChild);var S=!1,M=!1,C=!1,T=!1,I="";_||(k.style.fontSize="1px");var $=!1,F=!1,P="",U=0,W=0,z=0;try{var X=document.activeElement===k}catch(be){}O.addListener(k,"blur",function(be){F||(R.onBlur(be),X=!1)},R),O.addListener(k,"focus",function(be){if(!F){if(X=!0,w.isEdge)try{if(!document.hasFocus())return}catch(we){}R.onFocus(be),w.isEdge?setTimeout(K):K()}},R),this.$focusScroll=!1,this.focus=function(){if(I||a||"browser"==this.$focusScroll)return k.focus({preventScroll:!0});var be=k.style.top;k.style.position="fixed",k.style.top="0px";try{var we=0!=k.getBoundingClientRect().top}catch(ct){return}var De=[];if(we)for(var qe=k.parentElement;qe&&1==qe.nodeType;)De.push(qe),qe.setAttribute("ace_nocontext",!0),qe=!qe.parentElement&&qe.getRootNode?qe.getRootNode().host:qe.parentElement;k.focus({preventScroll:!0}),we&&De.forEach(function(ct){ct.removeAttribute("ace_nocontext")}),setTimeout(function(){k.style.position="","0px"==k.style.top&&(k.style.top=be)},0)},this.blur=function(){k.blur()},this.isFocused=function(){return X},R.on("beforeEndOperation",function(){var be=R.curOp,we=be&&be.command&&be.command.name;"insertstring"!=we&&(C&&we&&(be.docChanged||be.selectionChanged)&&(P=k.value="",He()),K())});var K=h?function(be){if(X&&(!S||be)&&!T){be||(be="");var we="\n ab"+be+"cde fg\n";we!=k.value&&(k.value=P=we);var qe=4+(be.length||(R.selection.isEmpty()?0:1));(4!=U||W!=qe)&&k.setSelectionRange(4,qe),U=4,W=qe}}:function(){if(!C&&!T&&(X||G)){C=!0;var be=0,we=0,De="";if(R.session){var qe=R.selection,ct=qe.getRange(),xe=qe.cursor.row;if(be=ct.start.column,we=ct.end.column,De=R.session.getLine(xe),ct.start.row!=xe){var Nt=R.session.getLine(xe-1);be=ct.start.row<xe-1?0:be,we+=Nt.length+1,De=Nt+"\n"+De}else if(ct.end.row!=xe){var kt=R.session.getLine(xe+1);we=ct.end.row>xe+1?kt.length:we,we+=De.length+1,De=De+"\n"+kt}else _&&xe>0&&(De="\n"+De,we+=1,be+=1);De.length>u&&(be<u&&we<u?De=De.slice(0,u):(De="\n",be==we?be=we=0:(be=0,we=1)))}var wt=De+"\n\n";if(wt!=P&&(k.value=P=wt,U=W=wt.length),G&&(U=k.selectionStart,W=k.selectionEnd),W!=we||U!=be||k.selectionEnd!=W)try{k.setSelectionRange(be,we),U=be,W=we}catch(pt){}C=!1}};this.resetSelection=K,X&&R.onFocus();var re=null;this.setInputHandler=function(be){re=be},this.getInputHandler=function(){return re};var G=!1,ie=function(we,De){if(G&&(G=!1),M)return K(),we&&R.onPaste(we),M=!1,"";for(var qe=k.selectionStart,ct=k.selectionEnd,xe=U,Nt=P.length-W,kt=we,wt=we.length-qe,pt=we.length-ct,Fe=0;xe>0&&P[Fe]==we[Fe];)Fe++,xe--;for(kt=kt.slice(Fe),Fe=1;Nt>0&&P.length-Fe>U-1&&P[P.length-Fe]==we[we.length-Fe];)Fe++,Nt--;wt-=Fe-1,pt-=Fe-1;var rn=kt.length-Fe+1;if(rn<0&&(xe=-rn,rn=0),kt=kt.slice(0,rn),!(De||kt||wt||xe||Nt||pt))return"";T=!0;var Zn=!1;return w.isAndroid&&". "==kt&&(kt="  ",Zn=!0),kt&&!xe&&!Nt&&!wt&&!pt||$?R.onTextInput(kt):R.onTextInput(kt,{extendLeft:xe,extendRight:Nt,restoreStart:wt,restoreEnd:pt}),T=!1,P=we,U=qe,W=ct,z=pt,Zn?"\n":kt},Y=function(we){if(C)return Pe();if(we&&we.inputType){if("historyUndo"==we.inputType)return R.execCommand("undo");if("historyRedo"==we.inputType)return R.execCommand("redo")}var De=k.value,qe=ie(De,!0);(De.length>500||p.test(qe)||_&&U<1&&U==W)&&K()},ee=function be(we,De,qe){var ct=we.clipboardData||window.clipboardData;if(ct&&!f){var xe=s||qe?"Text":"text/plain";try{return De?!1!==ct.setData(xe,De):ct.getData(xe)}catch(Nt){if(!qe)return be(Nt,De,!0)}}},Z=function(we,De){var qe=R.getCopyText();if(!qe)return O.preventDefault(we);ee(we,qe)?(h&&(K(qe),S=qe,setTimeout(function(){S=!1},10)),De?R.onCut():R.onCopy(),O.preventDefault(we)):(S=!0,k.value=qe,k.select(),setTimeout(function(){S=!1,K(),De?R.onCut():R.onCopy()}))},ce=function(we){Z(we,!0)},ve=function(we){Z(we,!1)},ye=function(we){var De=ee(we);v.pasteCancelled()||("string"==typeof De?(De&&R.onPaste(De,we),w.isIE&&setTimeout(K),O.preventDefault(we)):(k.value="",M=!0))};O.addCommandKeyListener(k,R.onCommandKey.bind(R),R),O.addListener(k,"select",function(we){C||(S?S=!1:function(we){return 0===we.selectionStart&&we.selectionEnd>=P.length&&we.value===P&&P&&we.selectionEnd!==W}(k)?(R.selectAll(),K()):_&&k.selectionStart!=U&&K())},R),O.addListener(k,"input",Y,R),O.addListener(k,"cut",ce,R),O.addListener(k,"copy",ve,R),O.addListener(k,"paste",ye,R),(!("oncut"in k)||!("oncopy"in k)||!("onpaste"in k))&&O.addListener(b,"keydown",function(be){if((!w.isMac||be.metaKey)&&be.ctrlKey)switch(be.keyCode){case 67:ve(be);break;case 86:ye(be);break;case 88:ce(be)}},R);var Pe=function(){if(C&&R.onCompositionUpdate&&!R.$readOnly){if($)return _e();C.useTextareaForIME?R.onCompositionUpdate(k.value):(ie(k.value),C.markerRange&&(C.context&&(C.markerRange.start.column=C.selectionStart=C.context.compositionStartOffset),C.markerRange.end.column=C.markerRange.start.column+W-C.selectionStart+z))}},He=function(we){!R.onCompositionEnd||R.$readOnly||(C=!1,R.onCompositionEnd(),R.off("mousedown",_e),we&&Y())};function _e(){F=!0,k.blur(),k.focus(),F=!1}var yt,Se=y.delayedCall(Pe,50).schedule.bind(null,null);function Vt(){clearTimeout(yt),yt=setTimeout(function(){I&&(k.style.cssText=I,I=""),R.renderer.$isMousePressed=!1,R.renderer.$keepTextAreaAtCursor&&R.renderer.$moveTextAreaToCursor()},0)}O.addListener(k,"compositionstart",function(we){if(!C&&R.onCompositionStart&&!R.$readOnly&&(C={},!$)){we.data&&(C.useTextareaForIME=!1),setTimeout(Pe,0),R._signal("compositionStart"),R.on("mousedown",_e);var De=R.getSelectionRange();De.end.row=De.start.row,De.end.column=De.start.column,C.markerRange=De,C.selectionStart=U,R.onCompositionStart(C),C.useTextareaForIME?(P=k.value="",U=0,W=0):(k.msGetInputContext&&(C.context=k.msGetInputContext()),k.getInputContext&&(C.context=k.getInputContext()))}},R),O.addListener(k,"compositionupdate",Pe,R),O.addListener(k,"keyup",function et(be){27==be.keyCode&&k.value.length<k.selectionStart&&(C||(P=k.value),U=W=-1,K()),Se()},R),O.addListener(k,"keydown",Se,R),O.addListener(k,"compositionend",He,R),this.getElement=function(){return k},this.setCommandMode=function(be){$=be,k.readOnly=!1},this.setReadOnly=function(be){$||(k.readOnly=be)},this.setCopyWithEmptySelection=function(be){},this.onContextMenu=function(be){G=!0,K(),R._emit("nativecontextmenu",{target:R,domEvent:be}),this.moveToMouse(be,!0)},this.moveToMouse=function(be,we){I||(I=k.style.cssText),k.style.cssText=(we?"z-index:100000;":"")+(w.isIE?"opacity:0.1;":"")+"text-indent: -"+(U+W)*R.renderer.characterWidth*.5+"px;";var De=R.container.getBoundingClientRect(),qe=g.computedStyle(R.container),ct=De.top+(parseInt(qe.borderTopWidth)||0),xe=De.left+(parseInt(De.borderLeftWidth)||0),Nt=De.bottom-ct-k.clientHeight-2,kt=function(pt){g.translate(k,pt.clientX-xe-2,Math.min(pt.clientY-ct-2,Nt))};kt(be),"mousedown"==be.type&&(R.renderer.$isMousePressed=!0,clearTimeout(yt),w.isWin&&O.capture(R.container,kt,Vt))},this.onContextMenuClose=Vt;var nn=function(we){R.textInput.onContextMenu(we),Vt()};O.addListener(k,"mouseup",nn,R),O.addListener(k,"mousedown",function(be){be.preventDefault(),Vt()},R),O.addListener(R.renderer.scroller,"contextmenu",nn,R),O.addListener(k,"contextmenu",nn,R),h&&function ft(be,we,De){var qe=null,ct=!1;De.addEventListener("keydown",function(Nt){qe&&clearTimeout(qe),ct=!0},!0),De.addEventListener("keyup",function(Nt){qe=setTimeout(function(){ct=!1},100)},!0);var xe=function(kt){if(document.activeElement===De&&!(ct||C||we.$mouseHandler.isMousePressed)&&!S){var wt=De.selectionStart,pt=De.selectionEnd,Fe=null,rn=0;if(0==wt?Fe=c.up:1==wt?Fe=c.home:pt>W&&"\n"==P[pt]?Fe=c.end:wt<U&&" "==P[wt-1]?(Fe=c.left,rn=d.option):wt<U||wt==U&&W!=U&&wt==pt?Fe=c.left:pt>W&&P.slice(0,pt).split("\n").length>2?Fe=c.down:pt>W&&" "==P[pt-1]?(Fe=c.right,rn=d.option):(pt>W||pt==W&&W!=U&&wt==pt)&&(Fe=c.right),wt!==pt&&(rn|=d.shift),Fe){if(!we.onCommandKey({},rn,Fe)&&we.commands){Fe=c.keyCodeToString(Fe);var gt=we.commands.findKeyCommand(rn,Fe);gt&&we.execCommand(gt)}U=wt,W=pt,K("")}}};document.addEventListener("selectionchange",xe),we.on("destroy",function(){document.removeEventListener("selectionchange",xe)})}(0,R,k)},H.$setUserAgentForTests=function(D,b){_=D,h=b}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(N,H,x){"use strict";var O=N("../lib/useragent");function y(s){s.$clickSelection=null;var a=s.editor;a.setDefaultHandler("mousedown",this.onMouseDown.bind(s)),a.setDefaultHandler("dblclick",this.onDoubleClick.bind(s)),a.setDefaultHandler("tripleclick",this.onTripleClick.bind(s)),a.setDefaultHandler("quadclick",this.onQuadClick.bind(s)),a.setDefaultHandler("mousewheel",this.onMouseWheel.bind(s)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(c){s[c]=this[c]},this),s.selectByLines=this.extendSelectionBy.bind(s,"getLineRange"),s.selectByWords=this.extendSelectionBy.bind(s,"getWordRange")}function f(s,a){if(s.start.row==s.end.row)var u=2*a.column-s.start.column-s.end.column;else if(s.start.row!=s.end.row-1||s.start.column||s.end.column)u=2*a.row-s.start.row-s.end.row;else u=a.column-4;return u<0?{cursor:s.start,anchor:s.end}:{cursor:s.end,anchor:s.start}}(function(){this.onMouseDown=function(s){var a=s.inSelection(),u=s.getDocumentPosition();this.mousedownEvent=s;var c=this.editor,d=s.getButton();return 0!==d?((c.getSelectionRange().isEmpty()||1==d)&&c.selection.moveToPosition(u),void(2==d&&(c.textInput.onContextMenu(s.domEvent),O.isMozilla||s.preventDefault()))):(this.mousedownEvent.time=Date.now(),!a||c.isFocused()||(c.focus(),!this.$focusTimeout||this.$clickSelection||c.inMultiSelectMode)?(this.captureMouse(s),this.startSelect(u,s.domEvent._clicks>1),s.preventDefault()):(this.setState("focusWait"),void this.captureMouse(s)))},this.startSelect=function(s,a){s=s||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var u=this.editor;!this.mousedownEvent||(this.mousedownEvent.getShiftKey()?u.selection.selectToPosition(s):a||u.selection.moveToPosition(s),a||this.select(),u.renderer.scroller.setCapture&&u.renderer.scroller.setCapture(),u.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var s,a=this.editor,u=a.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var c=this.$clickSelection.comparePoint(u);if(-1==c)s=this.$clickSelection.end;else if(1==c)s=this.$clickSelection.start;else{var d=f(this.$clickSelection,u);u=d.cursor,s=d.anchor}a.selection.setSelectionAnchor(s.row,s.column)}a.selection.selectToPosition(u),a.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(s){var a,u=this.editor,c=u.renderer.screenToTextCoordinates(this.x,this.y),d=u.selection[s](c.row,c.column);if(this.$clickSelection){var h=this.$clickSelection.comparePoint(d.start),p=this.$clickSelection.comparePoint(d.end);if(-1==h&&p<=0)a=this.$clickSelection.end,(d.end.row!=c.row||d.end.column!=c.column)&&(c=d.start);else if(1==p&&h>=0)a=this.$clickSelection.start,(d.start.row!=c.row||d.start.column!=c.column)&&(c=d.end);else if(-1==h&&1==p)c=d.end,a=d.start;else{var _=f(this.$clickSelection,c);c=_.cursor,a=_.anchor}u.selection.setSelectionAnchor(a.row,a.column)}u.selection.selectToPosition(c),u.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var s=function v(s,a,u,c){return Math.sqrt(Math.pow(u-s,2)+Math.pow(c-a,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),a=Date.now();(s>0||a-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(s){var a=s.getDocumentPosition(),u=this.editor,d=u.session.getBracketRange(a);d?(d.isEmpty()&&(d.start.column--,d.end.column++),this.setState("select")):(d=u.selection.getWordRange(a.row,a.column),this.setState("selectByWords")),this.$clickSelection=d,this.select()},this.onTripleClick=function(s){var a=s.getDocumentPosition(),u=this.editor;this.setState("selectByLines");var c=u.getSelectionRange();c.isMultiLine()&&c.contains(a.row,a.column)?(this.$clickSelection=u.selection.getLineRange(c.start.row),this.$clickSelection.end=u.selection.getLineRange(c.end.row).end):this.$clickSelection=u.selection.getLineRange(a.row),this.select()},this.onQuadClick=function(s){var a=this.editor;a.selectAll(),this.$clickSelection=a.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(s){if(!s.getAccelKey()){s.getShiftKey()&&s.wheelY&&!s.wheelX&&(s.wheelX=s.wheelY,s.wheelY=0);var a=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var u=this.$lastScroll,c=s.domEvent.timeStamp,d=c-u.t,h=d?s.wheelX/d:u.vx,p=d?s.wheelY/d:u.vy;d<550&&(h=(h+u.vx)/2,p=(p+u.vy)/2);var _=Math.abs(h/p),E=!1;if(_>=1&&a.renderer.isScrollableBy(s.wheelX*s.speed,0)&&(E=!0),_<=1&&a.renderer.isScrollableBy(0,s.wheelY*s.speed)&&(E=!0),E?u.allowed=c:c-u.allowed<550&&(Math.abs(h)<=1.5*Math.abs(u.vx)&&Math.abs(p)<=1.5*Math.abs(u.vy)?(E=!0,u.allowed=c):u.allowed=0),u.t=c,u.vx=h,u.vy=p,E)return a.renderer.scrollBy(s.wheelX*s.speed,s.wheelY*s.speed),s.stop()}}}).call(y.prototype),H.DefaultHandlers=y}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(N,H,x){"use strict";N("./lib/oop");var w=N("./lib/dom");function g(y){this.isOpen=!1,this.$element=null,this.$parentNode=y}(function(){this.$init=function(){return this.$element=w.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(y){this.getElement().textContent=y},this.setHtml=function(y){this.getElement().innerHTML=y},this.setPosition=function(y,v){this.getElement().style.left=y+"px",this.getElement().style.top=v+"px"},this.setClassName=function(y){w.addCssClass(this.getElement(),y)},this.show=function(y,v,f){null!=y&&this.setText(y),null!=v&&null!=f&&this.setPosition(v,f),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(g.prototype),H.Tooltip=g}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(N,H,x){"use strict";var O=N("../lib/dom"),w=N("../lib/oop"),g=N("../lib/event"),y=N("../tooltip").Tooltip;function f(s){y.call(this,s)}w.inherits(f,y),function(){this.setPosition=function(s,a){var u=window.innerWidth||document.documentElement.clientWidth,c=window.innerHeight||document.documentElement.clientHeight,d=this.getWidth(),h=this.getHeight();(s+=15)+d>u&&(s-=s+d-u),(a+=15)+h>c&&(a-=20+h),y.prototype.setPosition.call(this,s,a)}}.call(f.prototype),H.GutterHandler=function v(s){var d,h,p,a=s.editor,u=a.renderer.$gutterLayer,c=new f(a.container);function E(){d&&(d=clearTimeout(d)),p&&(c.hide(),p=null,a._signal("hideGutterTooltip",c),a.off("mousewheel",E))}function D(b){c.setPosition(b.x,b.y)}s.editor.setDefaultHandler("guttermousedown",function(b){if(a.isFocused()&&0==b.getButton()&&"foldWidgets"!=u.getRegion(b)){var k=b.getDocumentPosition().row,S=a.session.selection;if(b.getShiftKey())S.selectTo(k,0);else{if(2==b.domEvent.detail)return a.selectAll(),b.preventDefault();s.$clickSelection=a.selection.getLineRange(k)}return s.setState("selectByLines"),s.captureMouse(b),b.preventDefault()}}),s.editor.setDefaultHandler("guttermousemove",function(b){if(O.hasCssClass(b.domEvent.target||b.domEvent.srcElement,"ace_fold-widget"))return E();p&&s.$tooltipFollowsMouse&&D(b),h=b,!d&&(d=setTimeout(function(){d=null,h&&!s.isMousePressed?function _(){var b=h.getDocumentPosition().row,R=u.$annotations[b];if(!R)return E();if(b==a.session.getLength()){var S=a.renderer.pixelToScreenCoordinates(0,h.y).row,M=h.$pos;if(S>a.session.documentToScreenRow(M.row,M.column))return E()}if(p!=R)if(p=R.text.join("<br/>"),c.setHtml(p),c.show(),a._signal("showGutterTooltip",c),a.on("mousewheel",E),s.$tooltipFollowsMouse)D(h);else{var T=h.domEvent.target.getBoundingClientRect(),I=c.getElement().style;I.left=T.right+"px",I.top=T.bottom+"px"}}():E()},50))}),g.addListener(a.renderer.$gutter,"mouseout",function(b){h=null,p&&!d&&(d=setTimeout(function(){d=null,E()},50))},a),a.on("changeSession",E)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(N,H,x){"use strict";var O=N("../lib/event"),w=N("../lib/useragent"),g=H.MouseEvent=function(y,v){this.domEvent=y,this.editor=v,this.x=this.clientX=y.clientX,this.y=this.clientY=y.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){O.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){O.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var v=this.editor.getSelectionRange();if(v.isEmpty())this.$inSelection=!1;else{var f=this.getDocumentPosition();this.$inSelection=v.contains(f.row,f.column)}return this.$inSelection},this.getButton=function(){return O.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=w.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(g.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(N,H,x){"use strict";var O=N("../lib/dom"),w=N("../lib/event"),g=N("../lib/useragent");function s(u){var c=u.editor,d=O.createElement("div");d.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",d.textContent="\xa0",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(re){u[re]=this[re]},this),c.on("mousedown",this.onMouseDown.bind(u));var _,E,D,b,R,k,M,C,T,I,$,p=c.container,S=0;function U(){var re=k;(function F(re,G){var ie=Date.now();I&&G&&re.row==G.row&&G&&re.column==G.column?a($.x,$.y,E,D)>5?I=null:ie-I>=200&&(c.renderer.scrollCursorIntoView(),I=null):(c.moveCursorToPosition(re),I=ie,$={x:E,y:D})})(k=c.renderer.screenToTextCoordinates(E,D),re),function P(re,G){var ie=Date.now(),Y=c.renderer.layerConfig.lineHeight,ee=c.renderer.layerConfig.characterWidth,Z=c.renderer.scroller.getBoundingClientRect(),ce={x:{left:E-Z.left,right:Z.right-E},y:{top:D-Z.top,bottom:Z.bottom-D}},ve=Math.min(ce.x.left,ce.x.right),ye=Math.min(ce.y.top,ce.y.bottom),Ce={row:re.row,column:re.column};ve/ee<=2&&(Ce.column+=ce.x.left<ce.x.right?-3:2),ye/Y<=1&&(Ce.row+=ce.y.top<ce.y.bottom?-1:1),re.row!=Ce.row||re.column!=Ce.column&&G&&re.row==G.row?T?ie-T>=200&&c.renderer.scrollCursorIntoView(Ce):T=ie:T=null}(k,re)}function W(){R=c.selection.toOrientedRange(),_=c.session.addMarker(R,"ace_selection",c.getSelectionStyle()),c.clearSelection(),c.isFocused()&&c.renderer.$cursorLayer.setBlinking(!1),clearInterval(b),U(),b=setInterval(U,20),S=0,w.addListener(document,"mousemove",K)}function z(){clearInterval(b),c.session.removeMarker(_),_=null,c.selection.fromOrientedRange(R),c.isFocused()&&!C&&c.$resetCursorStyle(),R=null,k=null,S=0,T=null,I=null,w.removeListener(document,"mousemove",K)}this.onDragStart=function(re){if(this.cancelDrag||!p.draggable){var G=this;return setTimeout(function(){G.startSelect(),G.captureMouse(re)},0),re.preventDefault()}R=c.getSelectionRange();var ie=re.dataTransfer;ie.effectAllowed=c.getReadOnly()?"copy":"copyMove",c.container.appendChild(d),ie.setDragImage&&ie.setDragImage(d,0,0),setTimeout(function(){c.container.removeChild(d)}),ie.clearData(),ie.setData("Text",c.session.getTextRange()),C=!0,this.setState("drag")},this.onDragEnd=function(re){p.draggable=!1,C=!1,this.setState(null),c.getReadOnly()||(!M&&"move"==re.dataTransfer.dropEffect&&c.session.remove(c.getSelectionRange()),c.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(re){if(!c.getReadOnly()&&Q(re.dataTransfer))return E=re.clientX,D=re.clientY,_||W(),S++,re.dataTransfer.dropEffect=M=oe(re),w.preventDefault(re)},this.onDragOver=function(re){if(!c.getReadOnly()&&Q(re.dataTransfer))return E=re.clientX,D=re.clientY,_||(W(),S++),null!==X&&(X=null),re.dataTransfer.dropEffect=M=oe(re),w.preventDefault(re)},this.onDragLeave=function(re){if(--S<=0&&_)return z(),M=null,w.preventDefault(re)},this.onDrop=function(re){if(k){var G=re.dataTransfer;if(C)switch(M){case"move":R=R.contains(k.row,k.column)?{start:k,end:k}:c.moveText(R,k);break;case"copy":R=c.moveText(R,k,!0)}else{var ie=G.getData("Text");R={start:k,end:c.session.insert(k,ie)},c.focus(),M=null}return z(),w.preventDefault(re)}},w.addListener(p,"dragstart",this.onDragStart.bind(u),c),w.addListener(p,"dragend",this.onDragEnd.bind(u),c),w.addListener(p,"dragenter",this.onDragEnter.bind(u),c),w.addListener(p,"dragover",this.onDragOver.bind(u),c),w.addListener(p,"dragleave",this.onDragLeave.bind(u),c),w.addListener(p,"drop",this.onDrop.bind(u),c);var X=null;function K(){null==X&&(X=setTimeout(function(){null!=X&&_&&z()},20))}function Q(re){var G=re.types;return!G||Array.prototype.some.call(G,function(ie){return"text/plain"==ie||"Text"==ie})}function oe(re){var G=["copy","copymove","all","uninitialized"],Y=g.isMac?re.altKey:re.ctrlKey,ee="uninitialized";try{ee=re.dataTransfer.effectAllowed.toLowerCase()}catch(ce){}var Z="none";return Y&&G.indexOf(ee)>=0?Z="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(ee)>=0?Z="move":G.indexOf(ee)>=0&&(Z="copy"),Z}}function a(u,c,d,h){return Math.sqrt(Math.pow(d-u,2)+Math.pow(h-c,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(u){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var u=this.editor;u.container.draggable=!0,u.renderer.$cursorLayer.setBlinking(!1),u.setStyle("ace_dragging"),u.renderer.setCursorStyle(g.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(u){var c=this.editor.container;g.isIE&&"dragReady"==this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&c.dragDrop(),"dragWait"===this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(c.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(u){if(this.$dragEnabled){this.mousedownEvent=u;var c=this.editor,d=u.inSelection(),h=u.getButton();if(1===(u.domEvent.detail||1)&&0===h&&d){if(u.editor.inMultiSelectMode&&(u.getAccelKey()||u.getShiftKey()))return;this.mousedownEvent.time=Date.now();var _=u.domEvent.target||u.domEvent.srcElement;"unselectable"in _&&(_.unselectable="on"),c.getDragDelay()?(g.isWebKit&&(this.cancelDrag=!0,c.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(u,this.onMouseDrag.bind(this)),u.defaultPrevented=!0}}}}).call(s.prototype),H.DragdropHandler=s}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(N,H,x){"use strict";var O=N("./mouse_event").MouseEvent,w=N("../lib/event"),g=N("../lib/dom");H.addTouchListeners=function(y,v){var s,a,u,c,d,h,_,R,k,f="scroll",p=0,E=0,D=0,b=0;function M(){k||function S(){var F=window.navigator&&window.navigator.clipboard,P=!1,W=function(X){var K=X.target.getAttribute("action");if("more"==K||!P)return P=!P,function(){var X=v.getCopyText(),K=v.session.getUndoManager().hasUndo();k.replaceChild(g.buildDom(P?["span",!X&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],X&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],X&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],F&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],K&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),k.firstChild)}();"paste"==K?F.readText().then(function(Q){v.execCommand(K,Q)}):K&&(("cut"==K||"copy"==K)&&(F?F.writeText(v.getCopyText()):document.execCommand("copy")),v.execCommand(K)),k.firstChild.style.display="none",P=!1,"openCommandPallete"!=K&&v.focus()};k=g.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(X){f="menu",X.stopPropagation(),X.preventDefault(),v.textInput.focus()},ontouchend:function(X){X.stopPropagation(),X.preventDefault(),W(X)},onclick:W},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],v.container)}();var F=v.selection.cursor,P=v.renderer.textToScreenCoordinates(F.row,F.column),U=v.renderer.textToScreenCoordinates(0,0).pageX,W=v.renderer.scrollLeft,z=v.container.getBoundingClientRect();k.style.top=P.pageY-z.top-3+"px",P.pageX-z.left<z.width-70?(k.style.left="",k.style.right="10px"):(k.style.right="",k.style.left=U+W-z.left+"px"),k.style.display="",k.firstChild.style.display="none",v.on("input",C)}function C(F){k&&(k.style.display="none"),v.off("input",C)}function T(){d=null,clearTimeout(d);var F=v.selection.getRange(),P=F.contains(_.row,_.column);(F.isEmpty()||!P)&&(v.selection.moveToPosition(_),v.selection.selectWord()),f="wait",M()}w.addListener(y,"contextmenu",function(F){R&&v.textInput.getElement().focus()},v),w.addListener(y,"touchstart",function(F){var P=F.touches;if(d||P.length>1)return clearTimeout(d),d=null,u=-1,void(f="zoom");R=v.$mouseHandler.isMousePressed=!0;var U=v.renderer.layerConfig.lineHeight,W=v.renderer.layerConfig.lineHeight,z=F.timeStamp;c=z;var X=P[0],K=X.clientX,Q=X.clientY;Math.abs(s-K)+Math.abs(a-Q)>U&&(u=-1),s=F.clientX=K,a=F.clientY=Q,D=b=0;var oe=new O(F,v);if(_=oe.getDocumentPosition(),z-u<500&&1==P.length&&!p)E++,F.preventDefault(),F.button=0,function I(){d=null,clearTimeout(d),v.selection.moveToPosition(_);var F=E>=2?v.selection.getLineRange(_.row):v.session.getBracketRange(_);F&&!F.isEmpty()?v.selection.setRange(F):v.selection.selectWord(),f="wait"}();else{E=0;var re=v.selection.cursor,G=v.selection.isEmpty()?re:v.selection.anchor,ie=v.renderer.$cursorLayer.getPixelPosition(re,!0),Y=v.renderer.$cursorLayer.getPixelPosition(G,!0),ee=v.renderer.scroller.getBoundingClientRect(),Z=v.renderer.layerConfig.offset,ce=v.renderer.scrollLeft,ve=function(He,_e){return(He/=W)*He+(_e=_e/U-.75)*_e};if(F.clientX<ee.left)return void(f="zoom");var ye=ve(F.clientX-ee.left-ie.left+ce,F.clientY-ee.top-ie.top+Z),Ce=ve(F.clientX-ee.left-Y.left+ce,F.clientY-ee.top-Y.top+Z);ye<3.5&&Ce<3.5&&(f=ye>Ce?"cursor":"anchor"),f=Ce<3.5?"anchor":ye<3.5?"cursor":"scroll",d=setTimeout(T,450)}u=z},v),w.addListener(y,"touchend",function(F){R=v.$mouseHandler.isMousePressed=!1,h&&clearInterval(h),"zoom"==f?(f="",p=0):d?(v.selection.moveToPosition(_),p=0,M()):"scroll"==f?(function $(){p+=60,h=setInterval(function(){p--<=0&&(clearInterval(h),h=null),Math.abs(D)<.01&&(D=0),Math.abs(b)<.01&&(b=0),p<20&&(D*=.9),p<20&&(b*=.9);var F=v.session.getScrollTop();v.renderer.scrollBy(10*D,10*b),F==v.session.getScrollTop()&&(p=0)},10)}(),C()):M(),clearTimeout(d),d=null},v),w.addListener(y,"touchmove",function(F){d&&(clearTimeout(d),d=null);var P=F.touches;if(!(P.length>1||"zoom"==f)){var U=P[0],W=s-U.clientX,z=a-U.clientY;if("wait"==f){if(!(W*W+z*z>4))return F.preventDefault();f="cursor"}s=U.clientX,a=U.clientY,F.clientX=U.clientX,F.clientY=U.clientY;var X=F.timeStamp,K=X-c;if(c=X,"scroll"==f){var Q=new O(F,v);Q.speed=1,Q.wheelX=W,Q.wheelY=z,10*Math.abs(W)<Math.abs(z)&&(W=0),10*Math.abs(z)<Math.abs(W)&&(z=0),0!=K&&(D=W/K,b=z/K),v._emit("mousewheel",Q),Q.propagationStopped||(D=b=0)}else{var re=new O(F,v).getDocumentPosition();"cursor"==f?v.selection.moveCursorToPosition(re):"anchor"==f&&v.selection.setSelectionAnchor(re.row,re.column),v.renderer.scrollCursorIntoView(re),F.preventDefault()}}},v)}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(N,H,x){"use strict";var O=N("./dom");H.get=function(w,g){var y=new XMLHttpRequest;y.open("GET",w,!0),y.onreadystatechange=function(){4===y.readyState&&g(y.responseText)},y.send(null)},H.loadScript=function(w,g){var y=O.getDocumentHead(),v=document.createElement("script");v.src=w,y.appendChild(v),v.onload=v.onreadystatechange=function(f,s){(s||!v.readyState||"loaded"==v.readyState||"complete"==v.readyState)&&(v=v.onload=v.onreadystatechange=null,s||g())}},H.qualifyURL=function(w){var g=document.createElement("a");return g.href=w,g.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(N,H,x){"use strict";var O={},w=function(){this.propagationStopped=!0},g=function(){this.defaultPrevented=!0};O._emit=O._dispatchEvent=function(y,v){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var f=this._eventRegistry[y]||[],s=this._defaultHandlers[y];if(f.length||s){("object"!=typeof v||!v)&&(v={}),v.type||(v.type=y),v.stopPropagation||(v.stopPropagation=w),v.preventDefault||(v.preventDefault=g),f=f.slice();for(var a=0;a<f.length&&(f[a](v,this),!v.propagationStopped);a++);if(s&&!v.defaultPrevented)return s(v,this)}},O._signal=function(y,v){var f=(this._eventRegistry||{})[y];if(f){f=f.slice();for(var s=0;s<f.length;s++)f[s](v,this)}},O.once=function(y,v){var f=this;if(this.on(y,function s(){f.off(y,s),v.apply(null,arguments)}),!v)return new Promise(function(s){v=s})},O.setDefaultHandler=function(y,v){var f=this._defaultHandlers;if(f||(f=this._defaultHandlers={_disabled_:{}}),f[y]){var s=f[y],a=f._disabled_[y];a||(f._disabled_[y]=a=[]),a.push(s);var u=a.indexOf(v);-1!=u&&a.splice(u,1)}f[y]=v},O.removeDefaultHandler=function(y,v){var f=this._defaultHandlers;if(f){var s=f._disabled_[y];if(f[y]==v)s&&this.setDefaultHandler(y,s.pop());else if(s){var a=s.indexOf(v);-1!=a&&s.splice(a,1)}}},O.on=O.addEventListener=function(y,v,f){this._eventRegistry=this._eventRegistry||{};var s=this._eventRegistry[y];return s||(s=this._eventRegistry[y]=[]),-1==s.indexOf(v)&&s[f?"unshift":"push"](v),v},O.off=O.removeListener=O.removeEventListener=function(y,v){this._eventRegistry=this._eventRegistry||{};var f=this._eventRegistry[y];if(f){var s=f.indexOf(v);-1!==s&&f.splice(s,1)}},O.removeAllListeners=function(y){y||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[y]=void 0),this._defaultHandlers&&(this._defaultHandlers[y]=void 0)},H.EventEmitter=O}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(N,H,x){var O=N("./oop"),w=N("./event_emitter").EventEmitter,g={setOptions:function(a){Object.keys(a).forEach(function(u){this.setOption(u,a[u])},this)},getOptions:function(a){var u={};if(a)Array.isArray(a)||(u=a,a=Object.keys(u));else{var c=this.$options;a=Object.keys(c).filter(function(d){return!c[d].hidden})}return a.forEach(function(d){u[d]=this.getOption(d)},this),u},setOption:function(a,u){if(this["$"+a]!==u){var c=this.$options[a];if(!c)return y('misspelled option "'+a+'"');if(c.forwardTo)return this[c.forwardTo]&&this[c.forwardTo].setOption(a,u);c.handlesSet||(this["$"+a]=u),c&&c.set&&c.set.call(this,u)}},getOption:function(a){var u=this.$options[a];return u?u.forwardTo?this[u.forwardTo]&&this[u.forwardTo].getOption(a):u&&u.get?u.get.call(this):this["$"+a]:y('misspelled option "'+a+'"')}};function y(s){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function v(s,a){var u=new Error(s);u.data=a,"object"==typeof console&&console.error&&console.error(u),setTimeout(function(){throw u})}var f=function(){this.$defaultOptions={}};(function(){O.implement(this,w),this.defineOptions=function(s,a,u){return s.$options||(this.$defaultOptions[a]=s.$options={}),Object.keys(u).forEach(function(c){var d=u[c];"string"==typeof d&&(d={forwardTo:d}),d.name||(d.name=c),s.$options[d.name]=d,"initialValue"in d&&(s["$"+d.name]=d.initialValue)}),O.implement(s,g),this},this.resetOptions=function(s){Object.keys(s.$options).forEach(function(a){var u=s.$options[a];"value"in u&&s.setOption(a,u.value)})},this.setDefaultValue=function(s,a,u){if(!s){for(s in this.$defaultOptions)if(this.$defaultOptions[s][a])break;if(!this.$defaultOptions[s][a])return!1}var c=this.$defaultOptions[s]||(this.$defaultOptions[s]={});c[a]&&(c.forwardTo?this.setDefaultValue(c.forwardTo,a,u):c[a].value=u)},this.setDefaultValues=function(s,a){Object.keys(a).forEach(function(u){this.setDefaultValue(s,u,a[u])},this)},this.warn=y,this.reportError=v}).call(f.prototype),H.AppConfig=f}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config"],function(N,H,x){var O=N("./lib/lang"),g=(N("./lib/oop"),N("./lib/net")),y=N("./lib/dom"),v=N("./lib/app_config").AppConfig;x.exports=H=new v;var f=function(){return this||"undefined"!=typeof window&&window}(),s={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};H.get=function(d){if(!s.hasOwnProperty(d))throw new Error("Unknown config key: "+d);return s[d]},H.set=function(d,h){if(s.hasOwnProperty(d))s[d]=h;else if(0==this.setDefaultValue("",d,h))throw new Error("Unknown config key: "+d);"useStrictCSP"==d&&y.useStrictCSP(h)},H.all=function(){return O.copyObject(s)},H.$modes={},H.moduleUrl=function(d,h){if(s.$moduleUrls[d])return s.$moduleUrls[d];var p=d.split("/"),_="snippets"==(h=h||p[p.length-2]||"")?"/":"-",E=p[p.length-1];if("worker"==h&&"-"==_){var D=new RegExp("^"+h+"[\\-_]|[\\-_]"+h+"$","g");E=E.replace(D,"")}(!E||E==h)&&p.length>1&&(E=p[p.length-2]);var b=s[h+"Path"];return null==b?b=s.basePath:"/"==_&&(h=_=""),b&&"/"!=b.slice(-1)&&(b+="/"),b+h+_+E+this.get("suffix")},H.setModuleUrl=function(d,h){return s.$moduleUrls[d]=h},H.$loading={},H.loadModule=function(d,h){var p,_;Array.isArray(d)&&(_=d[0],d=d[1]);try{p=N(d)}catch(D){}if(p&&!H.$loading[d])return h&&h(p);if(H.$loading[d]||(H.$loading[d]=[]),H.$loading[d].push(h),!(H.$loading[d].length>1)){var E=function(){N([d],function(b){H._emit("load.module",{name:d,module:b});var R=H.$loading[d];H.$loading[d]=null,R.forEach(function(k){k&&k(b)})})};if(!H.get("packaged"))return E();g.loadScript(H.moduleUrl(d,_),E),a()}};var a=function(){!s.basePath&&!s.workerPath&&!s.modePath&&!s.themePath&&!Object.keys(s.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),a=function(){})};function u(d){if(f&&f.document){s.packaged=d||N.packaged||x.packaged||f.define&&ne.amdD.packaged;for(var h={},p="",_=document.currentScript||document._currentScript,D=(_&&_.ownerDocument||document).getElementsByTagName("script"),b=0;b<D.length;b++){var R=D[b],k=R.src||R.getAttribute("src");if(k){for(var S=R.attributes,M=0,C=S.length;M<C;M++){var T=S[M];0===T.name.indexOf("data-ace-")&&(h[c(T.name.replace(/^data-ace-/,""))]=T.value)}var I=k.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);I&&(p=I[1])}}for(var $ in p&&(h.base=h.base||p,h.packaged=!0),h.basePath=h.base,h.workerPath=h.workerPath||h.base,h.modePath=h.modePath||h.base,h.themePath=h.themePath||h.base,delete h.base,h)void 0!==h[$]&&H.set($,h[$])}}function c(d){return d.replace(/-(.)/g,function(h,p){return p.toUpperCase()})}u(!0),H.init=u,H.version="1.4.14"}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(N,H,x){"use strict";var O=N("../lib/event"),w=N("../lib/useragent"),g=N("./default_handlers").DefaultHandlers,y=N("./default_gutter_handler").GutterHandler,v=N("./mouse_event").MouseEvent,f=N("./dragdrop_handler").DragdropHandler,s=N("./touch_handler").addTouchListeners,a=N("../config"),u=function(d){var h=this;this.editor=d,new g(this),new y(this),new f(this);var p=function(b){(!document.hasFocus||!document.hasFocus()||!d.isFocused()&&document.activeElement==(d.textInput&&d.textInput.getElement()))&&window.focus(),d.focus()},_=d.renderer.getMouseEventTarget();O.addListener(_,"click",this.onMouseEvent.bind(this,"click"),d),O.addListener(_,"mousemove",this.onMouseMove.bind(this,"mousemove"),d),O.addMultiMouseDownListener([_,d.renderer.scrollBarV&&d.renderer.scrollBarV.inner,d.renderer.scrollBarH&&d.renderer.scrollBarH.inner,d.textInput&&d.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",d),O.addMouseWheelListener(d.container,this.onMouseWheel.bind(this,"mousewheel"),d),s(d.container,d);var E=d.renderer.$gutter;O.addListener(E,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),d),O.addListener(E,"click",this.onMouseEvent.bind(this,"gutterclick"),d),O.addListener(E,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),d),O.addListener(E,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),d),O.addListener(_,"mousedown",p,d),O.addListener(E,"mousedown",p,d),w.isIE&&d.renderer.scrollBarV&&(O.addListener(d.renderer.scrollBarV.element,"mousedown",p,d),O.addListener(d.renderer.scrollBarH.element,"mousedown",p,d)),d.on("mousemove",function(D){if(!h.state&&!h.$dragDelay&&h.$dragEnabled){var b=d.renderer.screenToTextCoordinates(D.x,D.y),R=d.session.selection.getRange(),k=d.renderer;!R.isEmpty()&&R.insideStart(b.row,b.column)?k.setCursorStyle("default"):k.setCursorStyle("")}},d)};(function(){this.onMouseEvent=function(c,d){!this.editor.session||this.editor._emit(c,new v(d,this.editor))},this.onMouseMove=function(c,d){var h=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!h||!h.length||this.editor._emit(c,new v(d,this.editor))},this.onMouseWheel=function(c,d){var h=new v(d,this.editor);h.speed=2*this.$scrollSpeed,h.wheelX=d.wheelX,h.wheelY=d.wheelY,this.editor._emit(c,h)},this.setState=function(c){this.state=c},this.captureMouse=function(c,d){this.x=c.x,this.y=c.y,this.isMousePressed=!0;var h=this.editor,p=this.editor.renderer;p.$isMousePressed=!0;var _=this,E=function(M){if(M){if(w.isWebKit&&!M.which&&_.releaseMouse)return _.releaseMouse();_.x=M.clientX,_.y=M.clientY,d&&d(M),_.mouseEvent=new v(M,_.editor),_.$mouseMoved=!0}},D=function(M){h.off("beforeEndOperation",R),clearInterval(k),h.session&&b(),_[_.state+"End"]&&_[_.state+"End"](M),_.state="",_.isMousePressed=p.$isMousePressed=!1,p.$keepTextAreaAtCursor&&p.$moveTextAreaToCursor(),_.$onCaptureMouseMove=_.releaseMouse=null,M&&_.onMouseEvent("mouseup",M),h.endOperation()},b=function(){_[_.state]&&_[_.state](),_.$mouseMoved=!1};if(w.isOldIE&&"dblclick"==c.domEvent.type)return setTimeout(function(){D(c)});var R=function(M){!_.releaseMouse||h.curOp.command.name&&h.curOp.selectionChanged&&(_[_.state+"End"]&&_[_.state+"End"](),_.state="",_.releaseMouse())};h.on("beforeEndOperation",R),h.startOperation({command:{name:"mouse"}}),_.$onCaptureMouseMove=E,_.releaseMouse=O.capture(this.editor.container,E,D);var k=setInterval(b,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var c=function(d){d&&d.domEvent&&"contextmenu"!=d.domEvent.type||(this.editor.off("nativecontextmenu",c),d&&d.domEvent&&O.stopEvent(d.domEvent))}.bind(this);setTimeout(c,10),this.editor.on("nativecontextmenu",c)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(u.prototype),a.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:w.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),H.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(N,H,x){"use strict";var O=N("../lib/dom");H.FoldHandler=function w(g){g.on("click",function(y){var v=y.getDocumentPosition(),f=g.session,s=f.getFoldAt(v.row,v.column,1);s&&(y.getAccelKey()?f.removeFold(s):f.expandFold(s),y.stop());var a=y.domEvent&&y.domEvent.target;a&&O.hasCssClass(a,"ace_inline_button")&&O.hasCssClass(a,"ace_toggle_wrap")&&(f.setOption("wrap",!f.getUseWrapMode()),g.renderer.scrollCursorIntoView())}),g.on("gutterclick",function(y){if("foldWidgets"==g.renderer.$gutterLayer.getRegion(y)){var f=y.getDocumentPosition().row,s=g.session;s.foldWidgets&&s.foldWidgets[f]&&g.session.onFoldWidgetClick(f,y),g.isFocused()||g.focus(),y.stop()}}),g.on("gutterdblclick",function(y){if("foldWidgets"==g.renderer.$gutterLayer.getRegion(y)){var f=y.getDocumentPosition().row,s=g.session,a=s.getParentFoldRangeData(f,!0),u=a.range||a.firstRange;if(u){var c=s.getFoldAt(f=u.start.row,s.getLine(f).length,1);c?s.removeFold(c):(s.addFold("...",u),g.renderer.scrollCursorIntoView({row:u.start.row,column:0}))}y.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(N,H,x){"use strict";var O=N("../lib/keys"),w=N("../lib/event"),g=function(v){this.$editor=v,this.$data={editor:v},this.$handlers=[],this.setDefaultHandler(v.commands)};(function(){this.setDefaultHandler=function(y){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=y,this.addKeyboardHandler(y,0)},this.setKeyboardHandler=function(y){var v=this.$handlers;if(v[v.length-1]!=y){for(;v[v.length-1]&&v[v.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(v[v.length-1]);this.addKeyboardHandler(y,1)}},this.addKeyboardHandler=function(y,v){if(y){"function"==typeof y&&!y.handleKeyboard&&(y.handleKeyboard=y);var f=this.$handlers.indexOf(y);-1!=f&&this.$handlers.splice(f,1),null==v?this.$handlers.push(y):this.$handlers.splice(v,0,y),-1==f&&y.attach&&y.attach(this.$editor)}},this.removeKeyboardHandler=function(y){var v=this.$handlers.indexOf(y);return-1!=v&&(this.$handlers.splice(v,1),y.detach&&y.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var y=this.$data,v=y.editor;return this.$handlers.map(function(f){return f.getStatusText&&f.getStatusText(v,y)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(y,v,f,s){for(var a,u=!1,c=this.$editor.commands,d=this.$handlers.length;d--&&!((a=this.$handlers[d].handleKeyboard(this.$data,y,v,f,s))&&a.command&&(u="null"==a.command||c.exec(a.command,this.$editor,a.args,s),u&&s&&-1!=y&&1!=a.passEvent&&1!=a.command.passEvent&&w.stopEvent(s),u)););return!u&&-1==y&&(a={command:"insertstring"},u=c.exec("insertstring",this.$editor,v)),u&&this.$editor._signal&&this.$editor._signal("keyboardActivity",a),u},this.onCommandKey=function(y,v,f){var s=O.keyCodeToString(f);return this.$callKeyboardHandlers(v,s,f,y)},this.onTextInput=function(y){return this.$callKeyboardHandlers(-1,y)}}).call(g.prototype),H.KeyBinding=g}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(N,H,x){"use strict";var g=0,y=0,v=!1,s=!1,a=!1,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],F=11,Q=18,oe=[Q,Q,Q,Q,Q,Q,Q,Q,Q,6,5,6,8,5,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,5,5,5,6,8,4,4,F,F,F,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,Q,Q,Q,Q,Q,Q,5,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,9,4,F,F,F,F,4,4,4,4,0,4,4,Q,4,4,F,F,2,2,4,0,4,4,4,2,0,4,4,4,4,4],re=[8,8,8,8,8,8,8,8,8,8,8,Q,Q,Q,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,F,F,F,F,F,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function ie(ce,ve,ye){if(!(y<ce)){if(1==ce&&1==g&&!s)return void ye.reverse();for(var He,_e,Se,et,Ce=ye.length,Pe=0;Pe<Ce;){if(ve[Pe]>=ce){for(He=Pe+1;He<Ce&&ve[He]>=ce;)He++;for(_e=Pe,Se=He-1;_e<Se;_e++,Se--)et=ye[_e],ye[_e]=ye[Se],ye[Se]=et;Pe=He}Pe++}}}function Y(ce,ve,ye,Ce){var He,_e,Se,et,Pe=ve[Ce];switch(Pe){case 0:case 1:v=!1;case 4:case 3:return Pe;case 2:return v?3:2;case 7:return v=!0,1;case 8:return 4;case 9:return Ce<1||Ce+1>=ve.length||2!=(He=ye[Ce-1])&&3!=He||2!=(_e=ve[Ce+1])&&3!=_e?4:(v&&(_e=3),_e==He?_e:4);case 10:return 2==(He=Ce>0?ye[Ce-1]:5)&&Ce+1<ve.length&&2==ve[Ce+1]?2:4;case F:if(Ce>0&&2==ye[Ce-1])return 2;if(v)return 4;for(et=Ce+1,Se=ve.length;et<Se&&ve[et]==F;)et++;return et<Se&&2==ve[et]?2:4;case 12:for(Se=ve.length,et=Ce+1;et<Se&&12==ve[et];)et++;if(et<Se){var yt=ce[Ce];if(He=ve[et],(yt>=1425&&yt<=2303||64286==yt)&&(1==He||7==He))return 1}return Ce<1||5==(He=ve[Ce-1])?4:ye[Ce-1];case 5:return v=!1,s=!0,g;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:v=!1;case Q:return 4}}function ee(ce){var ve=ce.charCodeAt(0),ye=ve>>8;return 0==ye?ve>191?0:oe[ve]:5==ye?/[\u0591-\u05f4]/.test(ce)?1:0:6==ye?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ce)?12:/[\u0660-\u0669\u066b-\u066c]/.test(ce)?3:1642==ve?F:/[\u06f0-\u06f9]/.test(ce)?2:7:32==ye&&ve<=8287?re[255&ve]:254==ye&&ve>=65136?7:4}H.L=0,H.R=1,H.EN=2,H.ON_R=3,H.AN=4,H.R_H=5,H.B=6,H.RLE=7,H.DOT="\xb7",H.doBidiReorder=function(ce,ve,ye){if(ce.length<2)return{};var Ce=ce.split(""),Pe=new Array(Ce.length),He=new Array(Ce.length),_e=[];g=ye?1:0,function G(ce,ve,ye,Ce){var Pe=g?h:d,He=null,_e=null,Se=null,et=0,yt=null,nn=-1,ft=null,be=null,we=[];if(!Ce)for(ft=0,Ce=[];ft<ye;ft++)Ce[ft]=ee(ce[ft]);for(y=g,v=!1,s=!1,a=!1,be=0;be<ye;be++){if(He=et,we[be]=_e=Y(ce,Ce,we,be),yt=240&(et=Pe[He][_e]),ve[be]=Se=Pe[et&=15][5],yt>0)if(16==yt){for(ft=nn;ft<be;ft++)ve[ft]=1;nn=-1}else nn=-1;if(Pe[et][6])-1==nn&&(nn=be);else if(nn>-1){for(ft=nn;ft<be;ft++)ve[ft]=Se;nn=-1}5==Ce[be]&&(ve[be]=0),y|=Se}if(a)for(ft=0;ft<ye;ft++)if(6==Ce[ft]){ve[ft]=g;for(var De=ft-1;De>=0&&8==Ce[De];De--)ve[De]=g}}(Ce,_e,Ce.length,ve);for(var Se=0;Se<Pe.length;Pe[Se]=Se,Se++);for(ie(2,_e,Pe),ie(1,_e,Pe),Se=0;Se<Pe.length-1;Se++)3===ve[Se]?_e[Se]=H.AN:1===_e[Se]&&(ve[Se]>7&&ve[Se]<13||4===ve[Se]||ve[Se]===Q)?_e[Se]=H.ON_R:Se>0&&"\u0644"===Ce[Se-1]&&/\u0622|\u0623|\u0625|\u0627/.test(Ce[Se])&&(_e[Se-1]=_e[Se]=H.R_H,Se++);for(Ce[Ce.length-1]===H.DOT&&(_e[Ce.length-1]=H.B),"\u202b"===Ce[0]&&(_e[0]=H.RLE),Se=0;Se<Pe.length;Se++)He[Se]=_e[Pe[Se]];return{logicalFromVisual:Pe,bidiLevels:He}},H.hasBidiCharacters=function(ce,ve){for(var ye=!1,Ce=0;Ce<ce.length;Ce++)ve[Ce]=ee(ce.charAt(Ce)),!ye&&(1==ve[Ce]||7==ve[Ce]||3==ve[Ce])&&(ye=!0);return ye},H.getVisualFromLogicalIdx=function(ce,ve){for(var ye=0;ye<ve.logicalFromVisual.length;ye++)if(ve.logicalFromVisual[ye]==ce)return ye;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(N,H,x){"use strict";var O=N("./lib/bidiutil"),w=N("./lib/lang"),g=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,y=function(f){this.session=f,this.bidiMap={},this.currentRow=null,this.bidiUtil=O,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=g.test(f.getValue())};(function(){this.isBidiRow=function(v,f,s){return!!this.seenBidi&&(v!==this.currentRow&&(this.currentRow=v,this.updateRowLine(f,s),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(v){this.seenBidi?this.currentRow=null:"insert"==v.action&&g.test(v.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var v=0,f=this.session.$screenRowCache;if(f.length){var s=this.session.$getRowCacheIndex(f,this.currentRow);s>=0&&(v=this.session.$docRowCache[s])}return v},this.getSplitIndex=function(){var v=0,f=this.session.$screenRowCache;if(f.length)for(var s,a=this.session.$getRowCacheIndex(f,this.currentRow);this.currentRow-v>0&&(s=this.session.$getRowCacheIndex(f,this.currentRow-v-1))===a;)a=s,v++;else v=this.currentRow;return v},this.updateRowLine=function(v,f){void 0===v&&(v=this.getDocumentRow());var a=v===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(v),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var u=this.session.$wrapData[v];u&&(void 0===f&&(f=this.getSplitIndex()),f>0&&u.length?(this.wrapIndent=u.indent,this.wrapOffset=this.wrapIndent*this.charWidths[O.L],this.line=f<u.length?this.line.substring(u[f-1],u[f]):this.line.substring(u[u.length-1])):this.line=this.line.substring(0,u[f])),f==u.length&&(this.line+=this.showInvisibles?a:O.DOT)}else this.line+=this.showInvisibles?a:O.DOT;var h,c=this.session,d=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(p,_){return"\t"===p||c.isFullWidth(p.charCodeAt(0))?(h="\t"===p?c.getScreenTabSize(_+d):2,d+=h-1,w.stringRepeat(O.DOT,h)):p}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==O.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var v=[];this.bidiMap=O.hasBidiCharacters(this.line,v)||this.isRtlDir?O.doBidiReorder(this.line,v,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(v){if(this.characterWidth!==v.$characterSize.width){this.fontMetrics=v;var f=this.characterWidth=v.$characterSize.width,s=v.$measureCharWidth("\u05d4");this.charWidths[O.L]=this.charWidths[O.EN]=this.charWidths[O.ON_R]=f,this.charWidths[O.R]=this.charWidths[O.AN]=s,this.charWidths[O.R_H]=.45*s,this.charWidths[O.B]=this.charWidths[O.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(v){this.showInvisibles=v,this.currentRow=null},this.setEolChar=function(v){this.EOL=v},this.setContentWidth=function(v){this.contentWidth=v},this.isRtlLine=function(v){return!!this.$isRtl||(null!=v?this.session.getLine(v).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(v,f){for(var s=v.getCursorPosition(),a=v.selection.getSelectionAnchor().row;a<=s.row;a++)f||v.session.getLine(a).charAt(0)!==v.session.$bidiHandler.RLE?f&&v.session.getLine(a).charAt(0)!==v.session.$bidiHandler.RLE&&v.session.doc.insert({column:0,row:a},v.session.$bidiHandler.RLE):v.session.doc.removeInLine(a,0,1)},this.getPosLeft=function(v){v-=this.wrapIndent;var f=this.line.charAt(0)===this.RLE?1:0,s=v>f?this.session.getOverwrite()?v:v-1:f,a=O.getVisualFromLogicalIdx(s,this.bidiMap),u=this.bidiMap.bidiLevels,c=0;!this.session.getOverwrite()&&v<=f&&u[a]%2!=0&&a++;for(var d=0;d<a;d++)c+=this.charWidths[u[d]];return!this.session.getOverwrite()&&v>f&&u[a]%2==0&&(c+=this.charWidths[u[a]]),this.wrapIndent&&(c+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(c+=this.rtlLineOffset),c},this.getSelections=function(v,f){var u,s=this.bidiMap,a=s.bidiLevels,c=[],d=0,h=Math.min(v,f)-this.wrapIndent,p=Math.max(v,f)-this.wrapIndent,_=!1,E=!1,D=0;this.wrapIndent&&(d+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var b,R=0;R<a.length;R++)u=a[R],(_=(b=s.logicalFromVisual[R])>=h&&b<p)&&!E?D=d:!_&&E&&c.push({left:D,width:d-D}),d+=this.charWidths[u],E=_;if(_&&R===a.length&&c.push({left:D,width:d-D}),this.isRtlDir)for(var k=0;k<c.length;k++)c[k].left+=this.rtlLineOffset;return c},this.offsetToCol=function(s){this.isRtlDir&&(s-=this.rtlLineOffset);var f=0,a=(s=Math.max(s,0),0),u=0,c=this.bidiMap.bidiLevels,d=this.charWidths[c[u]];for(this.wrapIndent&&(s-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);s>a+d/2;){if(a+=d,u===c.length-1){d=0;break}d=this.charWidths[c[++u]]}return u>0&&c[u-1]%2!=0&&c[u]%2==0?(s<a&&u--,f=this.bidiMap.logicalFromVisual[u]):u>0&&c[u-1]%2==0&&c[u]%2!=0?f=1+(s>a?this.bidiMap.logicalFromVisual[u]:this.bidiMap.logicalFromVisual[u-1]):this.isRtlDir&&u===c.length-1&&0===d&&c[u-1]%2==0||!this.isRtlDir&&0===u&&c[u]%2!=0?f=1+this.bidiMap.logicalFromVisual[u]:(u>0&&c[u-1]%2!=0&&0!==d&&u--,f=this.bidiMap.logicalFromVisual[u]),0===f&&this.isRtlDir&&f++,f+this.wrapIndent}}).call(y.prototype),H.BidiHandler=y}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(N,H,x){"use strict";var O=N("./lib/oop"),w=N("./lib/lang"),g=N("./lib/event_emitter").EventEmitter,y=N("./range").Range,v=function(s){this.session=s,this.doc=s.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var a=this;this.cursor.on("change",function(u){a.$cursorChanged=!0,a.$silent||a._emit("changeCursor"),!a.$isEmpty&&!a.$silent&&a._emit("changeSelection"),!a.$keepDesiredColumnOnChange&&u.old.column!=u.value.column&&(a.$desiredColumn=null)}),this.anchor.on("change",function(){a.$anchorChanged=!0,!a.$isEmpty&&!a.$silent&&a._emit("changeSelection")})};(function(){O.implement(this,g),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(f,s){this.$isEmpty=!1,this.anchor.setPosition(f,s)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var f=this.anchor,s=this.lead;return f.row>s.row||f.row==s.row&&f.column>s.column},this.getRange=function(){var f=this.anchor,s=this.lead;return this.$isEmpty?y.fromPoints(s,s):this.isBackwards()?y.fromPoints(s,f):y.fromPoints(f,s)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(f,s){var a=s?f.end:f.start,u=s?f.start:f.end;this.$setSelection(a.row,a.column,u.row,u.column)},this.$setSelection=function(f,s,a,u){if(!this.$silent){var c=this.$isEmpty,d=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(f,s),this.cursor.setPosition(a,u),this.$isEmpty=!y.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||c!=this.$isEmpty||d)&&this._emit("changeSelection")}},this.$moveSelection=function(f){var s=this.lead;this.$isEmpty&&this.setSelectionAnchor(s.row,s.column),f.call(this)},this.selectTo=function(f,s){this.$moveSelection(function(){this.moveCursorTo(f,s)})},this.selectToPosition=function(f){this.$moveSelection(function(){this.moveCursorToPosition(f)})},this.moveTo=function(f,s){this.clearSelection(),this.moveCursorTo(f,s)},this.moveToPosition=function(f){this.clearSelection(),this.moveCursorToPosition(f)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(f,s){if(void 0===s){var a=f||this.lead;f=a.row,s=a.column}return this.session.getWordRange(f,s)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var f=this.getCursor(),s=this.session.getAWordRange(f.row,f.column);this.setSelectionRange(s)},this.getLineRange=function(f,s){var u,a="number"==typeof f?f:this.lead.row,c=this.session.getFoldLine(a);return c?(a=c.start.row,u=c.end.row):u=a,!0===s?new y(a,0,u,this.session.getLine(u).length):new y(a,0,u+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(f,s,a){var u=f.column,c=f.column+s;return a<0&&(u=f.column-s,c=f.column),this.session.isTabStop(f)&&this.doc.getLine(f.row).slice(u,c).split(" ").length-1==s},this.moveCursorLeft=function(){var s,f=this.lead.getPosition();if(s=this.session.getFoldAt(f.row,f.column,-1))this.moveCursorTo(s.start.row,s.start.column);else if(0===f.column)f.row>0&&this.moveCursorTo(f.row-1,this.doc.getLine(f.row-1).length);else{var a=this.session.getTabSize();this.wouldMoveIntoSoftTab(f,a,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-a):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var s,f=this.lead.getPosition();if(s=this.session.getFoldAt(f.row,f.column,1))this.moveCursorTo(s.end.row,s.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var a=this.session.getTabSize();this.wouldMoveIntoSoftTab(f=this.lead,a,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,a):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var f=this.lead.row,s=this.lead.column,a=this.session.documentToScreenRow(f,s),u=this.session.screenToDocumentPosition(a,0),d=this.session.getDisplayLine(f,null,u.row,u.column).match(/^\s*/);d[0].length!=s&&!this.session.$useEmacsStyleLineStart&&(u.column+=d[0].length),this.moveCursorToPosition(u)},this.moveCursorLineEnd=function(){var f=this.lead,s=this.session.getDocumentLastRowColumnPosition(f.row,f.column);if(this.lead.column==s.column){var a=this.session.getLine(s.row);if(s.column==a.length){var u=a.search(/\s+$/);u>0&&(s.column=u)}}this.moveCursorTo(s.row,s.column)},this.moveCursorFileEnd=function(){var f=this.doc.getLength()-1,s=this.doc.getLine(f).length;this.moveCursorTo(f,s)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var f=this.lead.row,s=this.lead.column,a=this.doc.getLine(f),u=a.substring(s);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var c=this.session.getFoldAt(f,s,1);if(!c)return this.session.nonTokenRe.exec(u)&&(s+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,u=a.substring(s)),s>=a.length?(this.moveCursorTo(f,a.length),this.moveCursorRight(),void(f<this.doc.getLength()-1&&this.moveCursorWordRight())):(this.session.tokenRe.exec(u)&&(s+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(f,s));this.moveCursorTo(c.end.row,c.end.column)},this.moveCursorLongWordLeft=function(){var a,f=this.lead.row,s=this.lead.column;if(a=this.session.getFoldAt(f,s,-1))this.moveCursorTo(a.start.row,a.start.column);else{var u=this.session.getFoldStringAt(f,s,-1);null==u&&(u=this.doc.getLine(f).substring(0,s));var c=w.stringReverse(u);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(c)&&(s-=this.session.nonTokenRe.lastIndex,c=c.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),s<=0)return this.moveCursorTo(f,0),this.moveCursorLeft(),void(f>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(c)&&(s-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(f,s)}},this.$shortWordEndIndex=function(f){var a,s=0,u=/\s/,c=this.session.tokenRe;if(c.lastIndex=0,this.session.tokenRe.exec(f))s=this.session.tokenRe.lastIndex;else{for(;(a=f[s])&&u.test(a);)s++;if(s<1)for(c.lastIndex=0;(a=f[s])&&!c.test(a);)if(c.lastIndex=0,s++,u.test(a)){if(s>2){s--;break}for(;(a=f[s])&&u.test(a);)s++;if(s>2)break}}return c.lastIndex=0,s},this.moveCursorShortWordRight=function(){var f=this.lead.row,s=this.lead.column,a=this.doc.getLine(f),u=a.substring(s),c=this.session.getFoldAt(f,s,1);if(c)return this.moveCursorTo(c.end.row,c.end.column);if(s==a.length){var d=this.doc.getLength();do{f++,u=this.doc.getLine(f)}while(f<d&&/^\s*$/.test(u));/^\s+/.test(u)||(u=""),s=0}var h=this.$shortWordEndIndex(u);this.moveCursorTo(f,s+h)},this.moveCursorShortWordLeft=function(){var a,f=this.lead.row,s=this.lead.column;if(a=this.session.getFoldAt(f,s,-1))return this.moveCursorTo(a.start.row,a.start.column);var u=this.session.getLine(f).substring(0,s);if(0===s){do{f--,u=this.doc.getLine(f)}while(f>0&&/^\s*$/.test(u));s=u.length,/\s+$/.test(u)||(u="")}var c=w.stringReverse(u),d=this.$shortWordEndIndex(c);return this.moveCursorTo(f,s-d)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(f,s){var u,a=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===s&&(0!==f&&(this.session.$bidiHandler.isBidiRow(a.row,this.lead.row)?(u=this.session.$bidiHandler.getPosLeft(a.column),a.column=Math.round(u/this.session.$bidiHandler.charWidths[0])):u=a.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?a.column=this.$desiredColumn:this.$desiredColumn=a.column),0!=f&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var c=this.session.lineWidgets[this.lead.row];f<0?f-=c.rowsAbove||0:f>0&&(f+=c.rowCount-(c.rowsAbove||0))}var d=this.session.screenToDocumentPosition(a.row+f,a.column,u);this.moveCursorTo(d.row,d.column+s,0===s)},this.moveCursorToPosition=function(f){this.moveCursorTo(f.row,f.column)},this.moveCursorTo=function(f,s,a){var u=this.session.getFoldAt(f,s,1);u&&(f=u.start.row,s=u.start.column),this.$keepDesiredColumnOnChange=!0;var c=this.session.getLine(f);/[\uDC00-\uDFFF]/.test(c.charAt(s))&&c.charAt(s-1)&&(this.lead.row==f&&this.lead.column==s+1?s-=1:s+=1),this.lead.setPosition(f,s),this.$keepDesiredColumnOnChange=!1,a||(this.$desiredColumn=null)},this.moveCursorToScreen=function(f,s,a){var u=this.session.screenToDocumentPosition(f,s);this.moveCursorTo(u.row,u.column,a)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(f){this.setSelectionRange(f,f.cursor==f.start),this.$desiredColumn=f.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(f){var s=this.getRange();return f?(f.start.column=s.start.column,f.start.row=s.start.row,f.end.column=s.end.column,f.end.row=s.end.row):f=s,f.cursor=this.isBackwards()?f.start:f.end,f.desiredColumn=this.$desiredColumn,f},this.getRangeOfMovements=function(f){var s=this.getCursor();try{f(this);var a=this.getCursor();return y.fromPoints(s,a)}catch(u){return y.fromPoints(s,s)}finally{this.moveCursorToPosition(s)}},this.toJSON=function(){if(this.rangeCount)var f=this.ranges.map(function(s){var a=s.clone();return a.isBackwards=s.cursor==s.start,a});else(f=this.getRange()).isBackwards=this.isBackwards();return f},this.fromJSON=function(f){if(null==f.start){if(this.rangeList&&f.length>1){this.toSingleRange(f[0]);for(var s=f.length;s--;){var a=y.fromPoints(f[s].start,f[s].end);f[s].isBackwards&&(a.cursor=a.start),this.addRange(a,!0)}return}f=f[0]}this.rangeList&&this.toSingleRange(f),this.setSelectionRange(f,f.isBackwards)},this.isEqual=function(f){if((f.length||this.rangeCount)&&f.length!=this.rangeCount)return!1;if(!f.length||!this.ranges)return this.getRange().isEqual(f);for(var s=this.ranges.length;s--;)if(!this.ranges[s].isEqual(f[s]))return!1;return!0}}).call(v.prototype),H.Selection=v}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(N,H,x){"use strict";var O=N("./config"),w=2e3,g=function(v){for(var f in this.states=v,this.regExps={},this.matchMappings={},this.states){for(var s=this.states[f],a=[],u=0,c=this.matchMappings[f]={defaultToken:"text"},d="g",h=[],p=0;p<s.length;p++){var _=s[p];if(_.defaultToken&&(c.defaultToken=_.defaultToken),_.caseInsensitive&&(d="gi"),null!=_.regex){_.regex instanceof RegExp&&(_.regex=_.regex.toString().slice(1,-1));var E=_.regex,D=new RegExp("(?:("+E+")|(.))").exec("a").length-2;Array.isArray(_.token)?1==_.token.length||1==D?_.token=_.token[0]:D-1!=_.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:_,groupCount:D-1}),_.token=_.token[0]):(_.tokenArray=_.token,_.token=null,_.onMatch=this.$arrayTokens):"function"==typeof _.token&&!_.onMatch&&(_.onMatch=D>1?this.$applyToken:_.token),D>1&&(/\\\d/.test(_.regex)?E=_.regex.replace(/\\([0-9]+)/g,function(b,R){return"\\"+(parseInt(R,10)+u+1)}):(D=1,E=this.removeCapturingGroups(_.regex)),!_.splitRegex&&"string"!=typeof _.token&&h.push(_)),c[u]=p,u+=D,a.push(E),_.onMatch||(_.onMatch=null)}}a.length||(c[0]=0,a.push("$")),h.forEach(function(b){b.splitRegex=this.createSplitterRegexp(b.regex,d)},this),this.regExps[f]=new RegExp("("+a.join(")|(")+")|($)",d)}};(function(){this.$setMaxTokenCount=function(y){w=0|y},this.$applyToken=function(y){var v=this.splitRegex.exec(y).slice(1),f=this.token.apply(this,v);if("string"==typeof f)return[{type:f,value:y}];for(var s=[],a=0,u=f.length;a<u;a++)v[a]&&(s[s.length]={type:f[a],value:v[a]});return s},this.$arrayTokens=function(y){if(!y)return[];var v=this.splitRegex.exec(y);if(!v)return"text";for(var f=[],s=this.tokenArray,a=0,u=s.length;a<u;a++)v[a+1]&&(f[f.length]={type:s[a],value:v[a+1]});return f},this.removeCapturingGroups=function(y){return y.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(f,s){return s?"(?:":f})},this.createSplitterRegexp=function(y,v){if(-1!=y.indexOf("(?=")){var f=0,s=!1,a={};y.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(u,c,d,h,p,_){return s?s="]"!=p:p?s=!0:h?(f==a.stack&&(a.end=_+1,a.stack=-1),f--):d&&(f++,1!=d.length&&(a.stack=f,a.start=_)),u}),null!=a.end&&/^\)*$/.test(y.substr(a.end))&&(y=y.substring(0,a.start)+y.substr(a.end))}return"^"!=y.charAt(0)&&(y="^"+y),"$"!=y.charAt(y.length-1)&&(y+="$"),new RegExp(y,(v||"").replace("g",""))},this.getLineTokens=function(y,v){if(v&&"string"!=typeof v){var f=v.slice(0);"#tmp"===(v=f[0])&&(f.shift(),v=f.shift())}else f=[];var s=v||"start",a=this.states[s];a||(a=this.states[s="start"]);var u=this.matchMappings[s],c=this.regExps[s];c.lastIndex=0;for(var d,h=[],p=0,_=0,E={type:null,value:""};d=c.exec(y);){var D=u.defaultToken,b=null,R=d[0],k=c.lastIndex;if(k-R.length>p){var S=y.substring(p,k-R.length);E.type==D?E.value+=S:(E.type&&h.push(E),E={type:D,value:S})}for(var M=0;M<d.length-2;M++)if(void 0!==d[M+1]){D=(b=a[u[M]]).onMatch?b.onMatch(R,s,f,y):b.token,b.next&&(s="string"==typeof b.next?b.next:b.next(s,f),(a=this.states[s])||(this.reportError("state doesn't exist",s),a=this.states[s="start"]),u=this.matchMappings[s],p=k,(c=this.regExps[s]).lastIndex=k),b.consumeLineEnd&&(p=k);break}if(R)if("string"==typeof D)b&&!1===b.merge||E.type!==D?(E.type&&h.push(E),E={type:D,value:R}):E.value+=R;else if(D)for(E.type&&h.push(E),E={type:null,value:""},M=0;M<D.length;M++)h.push(D[M]);if(p==y.length)break;if(p=k,_++>w){for(_>2*y.length&&this.reportError("infinite loop with in ace tokenizer",{startState:v,line:y});p<y.length;)E.type&&h.push(E),E={value:y.substring(p,p+=500),type:"overflow"};s="start",f=[];break}}return E.type&&h.push(E),f.length>1&&f[0]!==s&&f.unshift("#tmp",s),{tokens:h,state:f.length?f:s}},this.reportError=O.reportError}).call(g.prototype),H.Tokenizer=g}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(N,H,x){"use strict";var O=N("../lib/lang"),w=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(v,f){if(f)for(var s in v){for(var a=v[s],u=0;u<a.length;u++){var c=a[u];(c.next||c.onMatch)&&("string"==typeof c.next&&0!==c.next.indexOf(f)&&(c.next=f+c.next),c.nextState&&0!==c.nextState.indexOf(f)&&(c.nextState=f+c.nextState))}this.$rules[f+s]=a}else for(var s in v)this.$rules[s]=v[s]},this.getRules=function(){return this.$rules},this.embedRules=function(v,f,s,a,u){var c="function"==typeof v?(new v).getRules():v;if(a)for(var d=0;d<a.length;d++)a[d]=f+a[d];else for(var h in a=[],c)a.push(f+h);if(this.addRules(c,f),s){var p=Array.prototype[u?"push":"unshift"];for(d=0;d<a.length;d++)p.apply(this.$rules[a[d]],O.deepCopy(s))}this.$embeds||(this.$embeds=[]),this.$embeds.push(f)},this.getEmbeds=function(){return this.$embeds};var g=function(f,s){return("start"!=f||s.length)&&s.unshift(this.nextState,f),this.nextState},y=function(f,s){return s.shift(),s.shift()||"start"};this.normalizeRules=function(){var v=0,f=this.$rules;Object.keys(f).forEach(function s(a){var u=f[a];u.processed=!0;for(var c=0;c<u.length;c++){var d=u[c],h=null;Array.isArray(d)&&(h=d,d={}),!d.regex&&d.start&&(d.regex=d.start,d.next||(d.next=[]),d.next.push({defaultToken:d.token},{token:d.token+".end",regex:d.end||d.start,next:"pop"}),d.token=d.token+".start",d.push=!0);var p=d.next||d.push;if(p&&Array.isArray(p)){var _=d.stateName;_||("string"!=typeof(_=d.token)&&(_=_[0]||""),f[_]&&(_+=v++)),f[_]=p,d.next=_,s(_)}else"pop"==p&&(d.next=y);if(d.push&&(d.nextState=d.next||d.push,d.next=g,delete d.push),d.rules)for(var E in d.rules)f[E]?f[E].push&&f[E].push.apply(f[E],d.rules[E]):f[E]=d.rules[E];var D="string"==typeof d?d:d.include;if(D&&(h=Array.isArray(D)?D.map(function(R){return f[R]}):f[D]),h){var b=[c,1].concat(h);d.noEscape&&(b=b.filter(function(R){return!R.next})),u.splice.apply(u,b),c--}d.keywordMap&&(d.token=this.createKeywordMapper(d.keywordMap,d.defaultToken||"text",d.caseInsensitive),delete d.defaultToken)}},this)},this.createKeywordMapper=function(v,f,s,a){var u=Object.create(null);return this.$keywordList=[],Object.keys(v).forEach(function(c){for(var h=v[c].split(a||"|"),p=h.length;p--;){var _=h[p];this.$keywordList.push(_),s&&(_=_.toLowerCase()),u[_]=c}},this),v=null,s?function(c){return u[c.toLowerCase()]||f}:function(c){return u[c]||f}},this.getKeywords=function(){return this.$keywords}}).call(w.prototype),H.TextHighlightRules=w}),ace.define("ace/mode/behaviour",["require","exports","module"],function(N,H,x){"use strict";var O=function(){this.$behaviours={}};(function(){this.add=function(w,g,y){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[w]:this.$behaviours[w]={}}this.$behaviours[w][g]=y},this.addBehaviours=function(w){for(var g in w)for(var y in w[g])this.add(g,y,w[g][y])},this.remove=function(w){this.$behaviours&&this.$behaviours[w]&&delete this.$behaviours[w]},this.inherit=function(w,g){if("function"==typeof w)var y=(new w).getBehaviours(g);else y=w.getBehaviours(g);this.addBehaviours(y)},this.getBehaviours=function(w){if(w){for(var g={},y=0;y<w.length;y++)this.$behaviours[w[y]]&&(g[w[y]]=this.$behaviours[w[y]]);return g}return this.$behaviours}}).call(O.prototype),H.Behaviour=O}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(N,H,x){"use strict";var O=N("./range").Range,w=function(y,v,f){this.$session=y,this.$row=v,this.$rowTokens=y.getTokens(v);var s=y.getTokenAt(v,f);this.$tokenIndex=s?s.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var g;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,g||(g=this.$session.getLength()),this.$row>=g)return this.$row=g-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var g=this.$rowTokens,y=this.$tokenIndex,v=g[y].start;if(void 0!==v)return v;for(v=0;y>0;)v+=g[y-=1].value.length;return v},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var g=this.$rowTokens[this.$tokenIndex],y=this.getCurrentTokenColumn();return new O(this.$row,y,this.$row,y+g.value.length)}}).call(w.prototype),H.TokenIterator=w}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(N,H,x){"use strict";var s,O=N("../../lib/oop"),w=N("../behaviour").Behaviour,g=N("../../token_iterator").TokenIterator,y=N("../../lib/lang"),v=["text","paren.rparen","rparen","paren","punctuation.operator"],f=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],a={},u={'"':'"',"'":"'"},c=function(_){var E=-1;if(_.multiSelect&&(E=_.selection.index,a.rangeCount!=_.multiSelect.rangeCount&&(a={rangeCount:_.multiSelect.rangeCount})),a[E])return s=a[E];s=a[E]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},d=function(_,E,D,b){var R=_.end.row-_.start.row;return{text:D+E+b,selection:[0,_.start.column+1,R,_.end.column+(R?0:1)]}},h=function p(_){this.add("braces","insertion",function(E,D,b,R,k){var S=b.getCursorPosition(),M=R.doc.getLine(S.row);if("{"==k){c(b);var C=b.getSelectionRange(),T=R.doc.getTextRange(C);if(""!==T&&"{"!==T&&b.getWrapBehavioursEnabled())return d(C,T,"{","}");if(p.isSaneInsertion(b,R))return/[\]\}\)]/.test(M[S.column])||b.inMultiSelectMode||_&&_.braces?(p.recordAutoInsert(b,R,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(b,R,"{"),{text:"{",selection:[1,1]})}else if("}"==k){if(c(b),"}"==M.substring(S.column,S.column+1)&&null!==R.$findOpeningBracket("}",{column:S.column+1,row:S.row})&&p.isAutoInsertedClosing(S,M,k))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==k||"\r\n"==k){c(b);var F="";if(p.isMaybeInsertedClosing(S,M)&&(F=y.stringRepeat("}",s.maybeInsertedBrackets),p.clearMaybeInsertedClosing()),"}"===M.substring(S.column,S.column+1)){var P=R.findMatchingBracket({row:S.row,column:S.column+1},"}");if(!P)return null;var U=this.$getIndent(R.getLine(P.row))}else{if(!F)return void p.clearMaybeInsertedClosing();U=this.$getIndent(M)}var W=U+R.getTabString();return{text:"\n"+W+"\n"+U+F,selection:[1,W.length,1,W.length]}}p.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(E,D,b,R,k){var S=R.doc.getTextRange(k);if(!k.isMultiLine()&&"{"==S){if(c(b),"}"==R.doc.getLine(k.start.row).substring(k.end.column,k.end.column+1))return k.end.column++,k;s.maybeInsertedBrackets--}}),this.add("parens","insertion",function(E,D,b,R,k){if("("==k){c(b);var S=b.getSelectionRange(),M=R.doc.getTextRange(S);if(""!==M&&b.getWrapBehavioursEnabled())return d(S,M,"(",")");if(p.isSaneInsertion(b,R))return p.recordAutoInsert(b,R,")"),{text:"()",selection:[1,1]}}else if(")"==k){c(b);var C=b.getCursorPosition(),T=R.doc.getLine(C.row);if(")"==T.substring(C.column,C.column+1)&&null!==R.$findOpeningBracket(")",{column:C.column+1,row:C.row})&&p.isAutoInsertedClosing(C,T,k))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(E,D,b,R,k){var S=R.doc.getTextRange(k);if(!k.isMultiLine()&&"("==S&&(c(b),")"==R.doc.getLine(k.start.row).substring(k.start.column+1,k.start.column+2)))return k.end.column++,k}),this.add("brackets","insertion",function(E,D,b,R,k){if("["==k){c(b);var S=b.getSelectionRange(),M=R.doc.getTextRange(S);if(""!==M&&b.getWrapBehavioursEnabled())return d(S,M,"[","]");if(p.isSaneInsertion(b,R))return p.recordAutoInsert(b,R,"]"),{text:"[]",selection:[1,1]}}else if("]"==k){c(b);var C=b.getCursorPosition(),T=R.doc.getLine(C.row);if("]"==T.substring(C.column,C.column+1)&&null!==R.$findOpeningBracket("]",{column:C.column+1,row:C.row})&&p.isAutoInsertedClosing(C,T,k))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(E,D,b,R,k){var S=R.doc.getTextRange(k);if(!k.isMultiLine()&&"["==S&&(c(b),"]"==R.doc.getLine(k.start.row).substring(k.start.column+1,k.start.column+2)))return k.end.column++,k}),this.add("string_dquotes","insertion",function(E,D,b,R,k){var S=R.$mode.$quotes||u;if(1==k.length&&S[k]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(k))return;c(b);var M=k,C=b.getSelectionRange(),T=R.doc.getTextRange(C);if(""!==T&&(1!=T.length||!S[T])&&b.getWrapBehavioursEnabled())return d(C,T,M,M);if(!T){var I=b.getCursorPosition(),$=R.doc.getLine(I.row),F=$.substring(I.column-1,I.column),P=$.substring(I.column,I.column+1),U=R.getTokenAt(I.row,I.column),W=R.getTokenAt(I.row,I.column+1);if("\\"==F&&U&&/escape/.test(U.type))return null;var K,z=U&&/string|escape/.test(U.type),X=!W||/string|escape/.test(W.type);if(P==M)(K=z!==X)&&/string\.end/.test(W.type)&&(K=!1);else{if(z&&!X||z&&X)return null;var Q=R.$mode.tokenRe;Q.lastIndex=0;var oe=Q.test(F);Q.lastIndex=0;var re=Q.test(F);if(oe||re||P&&!/[\s;,.})\]\\]/.test(P))return null;var G=$[I.column-2];if(F==M&&(G==M||Q.test(G)))return null;K=!0}return{text:K?M+M:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(E,D,b,R,k){var S=R.$mode.$quotes||u,M=R.doc.getTextRange(k);if(!k.isMultiLine()&&S.hasOwnProperty(M)&&(c(b),R.doc.getLine(k.start.row).substring(k.start.column+1,k.start.column+2)==M))return k.end.column++,k})};h.isSaneInsertion=function(p,_){var E=p.getCursorPosition(),D=new g(_,E.row,E.column);if(!this.$matchTokenType(D.getCurrentToken()||"text",v)){if(/[)}\]]/.test(p.session.getLine(E.row)[E.column]))return!0;var b=new g(_,E.row,E.column+1);if(!this.$matchTokenType(b.getCurrentToken()||"text",v))return!1}return D.stepForward(),D.getCurrentTokenRow()!==E.row||this.$matchTokenType(D.getCurrentToken()||"text",f)},h.$matchTokenType=function(p,_){return _.indexOf(p.type||p)>-1},h.recordAutoInsert=function(p,_,E){var D=p.getCursorPosition(),b=_.doc.getLine(D.row);this.isAutoInsertedClosing(D,b,s.autoInsertedLineEnd[0])||(s.autoInsertedBrackets=0),s.autoInsertedRow=D.row,s.autoInsertedLineEnd=E+b.substr(D.column),s.autoInsertedBrackets++},h.recordMaybeInsert=function(p,_,E){var D=p.getCursorPosition(),b=_.doc.getLine(D.row);this.isMaybeInsertedClosing(D,b)||(s.maybeInsertedBrackets=0),s.maybeInsertedRow=D.row,s.maybeInsertedLineStart=b.substr(0,D.column)+E,s.maybeInsertedLineEnd=b.substr(D.column),s.maybeInsertedBrackets++},h.isAutoInsertedClosing=function(p,_,E){return s.autoInsertedBrackets>0&&p.row===s.autoInsertedRow&&E===s.autoInsertedLineEnd[0]&&_.substr(p.column)===s.autoInsertedLineEnd},h.isMaybeInsertedClosing=function(p,_){return s.maybeInsertedBrackets>0&&p.row===s.maybeInsertedRow&&_.substr(p.column)===s.maybeInsertedLineEnd&&_.substr(0,p.column)==s.maybeInsertedLineStart},h.popAutoInsertedClosing=function(){s.autoInsertedLineEnd=s.autoInsertedLineEnd.substr(1),s.autoInsertedBrackets--},h.clearMaybeInsertedClosing=function(){s&&(s.maybeInsertedBrackets=0,s.maybeInsertedRow=-1)},O.inherits(h,w),H.CstyleBehaviour=h}),ace.define("ace/unicode",["require","exports","module"],function(N,H,x){"use strict";for(var O=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],w=0,g=[],y=0;y<O.length;y+=2)g.push(w+=O[y]),O[y+1]&&g.push(45,w+=O[y+1]);H.wordChars=String.fromCharCode.apply(null,g)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(N,H,x){"use strict";var O=N("../config"),w=N("../tokenizer").Tokenizer,g=N("./text_highlight_rules").TextHighlightRules,y=N("./behaviour/cstyle").CstyleBehaviour,v=N("../unicode"),f=N("../lib/lang"),s=N("../token_iterator").TokenIterator,a=N("../range").Range,u=function(){this.HighlightRules=g};(function(){this.$defaultBehaviour=new y,this.tokenRe=new RegExp("^["+v.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+v.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new w(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(c,d,h,p){var _=d.doc,E=!0,D=!0,b=1/0,R=d.getTabSize(),k=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var C=this.lineCommentStart.map(f.escapeRegExp).join("|"),S=this.lineCommentStart[0];else C=f.escapeRegExp(this.lineCommentStart),S=this.lineCommentStart;C=new RegExp("^(\\s*)(?:"+C+") ?"),k=d.getUseSoftTabs();var $=function(re,G){var ie=re.match(C);if(ie){var Y=ie[1].length,ee=ie[0].length;!U(re,Y,ee)&&" "==ie[0][ee-1]&&ee--,_.removeInLine(G,Y,ee)}},P=S+" ",I=function(re,G){(!E||/\S/.test(re))&&(U(re,b,b)?_.insertInLine({row:G,column:b},P):_.insertInLine({row:G,column:b},S))},F=function(re,G){return C.test(re)},U=function(re,G,ie){for(var Y=0;G--&&" "==re.charAt(G);)Y++;if(Y%R!=0)return!1;for(Y=0;" "==re.charAt(ie++);)Y++;return R>2?Y%R!=R-1:Y%R==0}}else{if(!this.blockComment)return!1;S=this.blockComment.start;var M=this.blockComment.end,T=(C=new RegExp("^(\\s*)(?:"+f.escapeRegExp(S)+")"),new RegExp("(?:"+f.escapeRegExp(M)+")\\s*$"));I=function(K,Q){F(K,Q)||(!E||/\S/.test(K))&&(_.insertInLine({row:Q,column:K.length},M),_.insertInLine({row:Q,column:b},S))},$=function(K,Q){var oe;(oe=K.match(T))&&_.removeInLine(Q,K.length-oe[0].length,K.length),(oe=K.match(C))&&_.removeInLine(Q,oe[1].length,oe[0].length)},F=function(K,Q){if(C.test(K))return!0;for(var oe=d.getTokens(Q),re=0;re<oe.length;re++)if("comment"===oe[re].type)return!0}}function W(X){for(var K=h;K<=p;K++)X(_.getLine(K),K)}var z=1/0;W(function(X,K){var Q=X.search(/\S/);-1!==Q?(Q<b&&(b=Q),D&&!F(X,K)&&(D=!1)):z>X.length&&(z=X.length)}),b==1/0&&(b=z,E=!1,D=!1),k&&b%R!=0&&(b=Math.floor(b/R)*R),W(D?$:I)},this.toggleBlockComment=function(c,d,h,p){var _=this.blockComment;if(_){!_.start&&_[0]&&(_=_[0]);var k,S,D=(E=new s(d,p.row,p.column)).getCurrentToken(),R=d.selection.toOrientedRange();if(D&&/comment/.test(D.type)){for(var M,C;D&&/comment/.test(D.type);){if(-1!=(T=D.value.indexOf(_.start))){var I=E.getCurrentTokenRow(),$=E.getCurrentTokenColumn()+T;M=new a(I,$,I,$+_.start.length);break}D=E.stepBackward()}var E;for(D=(E=new s(d,p.row,p.column)).getCurrentToken();D&&/comment/.test(D.type);){var T;if(-1!=(T=D.value.indexOf(_.end))){I=E.getCurrentTokenRow(),$=E.getCurrentTokenColumn()+T,C=new a(I,$,I,$+_.end.length);break}D=E.stepForward()}C&&d.remove(C),M&&(d.remove(M),k=M.start.row,S=-_.start.length)}else S=_.start.length,k=h.start.row,d.insert(h.end,_.end),d.insert(h.start,_.start);R.start.row==k&&(R.start.column+=S),R.end.row==k&&(R.end.column+=S),d.selection.fromOrientedRange(R)}},this.getNextLineIndent=function(c,d,h){return this.$getIndent(d)},this.checkOutdent=function(c,d,h){return!1},this.autoOutdent=function(c,d,h){},this.$getIndent=function(c){return c.match(/^\s*/)[0]},this.createWorker=function(c){return null},this.createModeDelegates=function(c){for(var d in this.$embeds=[],this.$modes={},c)if(c[d]){var h=c[d],p=h.prototype.$id,_=O.$modes[p];_||(O.$modes[p]=_=new h),O.$modes[d]||(O.$modes[d]=_),this.$embeds.push(d),this.$modes[d]=_}var E=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(d=0;d<E.length;d++)!function(b){var R=E[d],k=b[R];b[E[d]]=function(){return this.$delegator(R,arguments,k)}}(this)},this.$delegator=function(c,d,h){var p=d[0]||"start";if("string"!=typeof p){if(Array.isArray(p[2])&&(E=this.$modes[p[2][p[2].length-1]]))return E[c].apply(E,[p[1]].concat([].slice.call(d,1)));p=p[0]||"start"}for(var D=0;D<this.$embeds.length;D++)if(this.$modes[this.$embeds[D]]){var E,b=p.split(this.$embeds[D]);if(!b[0]&&b[1])return d[0]=b[1],(E=this.$modes[this.$embeds[D]])[c].apply(E,d)}var R=h.apply(this,d);return h?R:void 0},this.transformAction=function(c,d,h,p,_){if(this.$behaviour){var E=this.$behaviour.getBehaviours();for(var D in E)if(E[D][d]){var b=E[D][d].apply(this,arguments);if(b)return b}}},this.getKeywords=function(c){if(!this.completionKeywords){var d=this.$tokenizer.rules,h=[];for(var p in d)for(var _=d[p],E=0,D=_.length;E<D;E++)if("string"==typeof _[E].token)/keyword|support|storage/.test(_[E].token)&&h.push(_[E].regex);else if("object"==typeof _[E].token)for(var b=0,R=_[E].token.length;b<R;b++)/keyword|support|storage/.test(_[E].token[b])&&(p=_[E].regex.match(/\(.+?\)/g)[b],h.push(p.substr(1,p.length-2)));this.completionKeywords=h}return c?h.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(c,d,h,p){return(this.$keywordList||this.$createKeywordList()).map(function(E){return{name:E,value:E,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),H.Mode=u}),ace.define("ace/apply_delta",["require","exports","module"],function(N,H,x){"use strict";H.applyDelta=function(y,v,f){var s=v.start.row,a=v.start.column,u=y[s]||"";switch(v.action){case"insert":if(1===v.lines.length)y[s]=u.substring(0,a)+v.lines[0]+u.substring(a);else{var d=[s,1].concat(v.lines);y.splice.apply(y,d),y[s]=u.substring(0,a)+y[s],y[s+v.lines.length-1]+=u.substring(a)}break;case"remove":var h=v.end.column,p=v.end.row;s===p?y[s]=u.substring(0,a)+u.substring(h):y.splice(s,p-s+1,u.substring(0,a)+y[p].substring(h))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(N,H,x){"use strict";var O=N("./lib/oop"),w=N("./lib/event_emitter").EventEmitter,g=H.Anchor=function(y,v,f){this.$onChange=this.onChange.bind(this),this.attach(y),void 0===f?this.setPosition(v.row,v.column):this.setPosition(v,f)};(function(){function y(f,s,a){return f.row<s.row||f.row==s.row&&(a?f.column<=s.column:f.column<s.column)}O.implement(this,w),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(f){if(!(f.start.row==f.end.row&&f.start.row!=this.row||f.start.row>this.row)){var s=function v(f,s,a){var u="insert"==f.action,c=(u?1:-1)*(f.end.row-f.start.row),d=(u?1:-1)*(f.end.column-f.start.column),h=f.start,p=u?h:f.end;return y(s,h,a)?{row:s.row,column:s.column}:y(p,s,!a)?{row:s.row+c,column:s.column+(s.row==p.row?d:0)}:{row:h.row,column:h.column}}(f,{row:this.row,column:this.column},this.$insertRight);this.setPosition(s.row,s.column,!0)}},this.setPosition=function(f,s,a){var u;if(u=a?{row:f,column:s}:this.$clipPositionToDocument(f,s),this.row!=u.row||this.column!=u.column){var c={row:this.row,column:this.column};this.row=u.row,this.column=u.column,this._signal("change",{old:c,value:u})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(f){this.document=f||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(f,s){var a={};return f>=this.document.getLength()?(a.row=Math.max(0,this.document.getLength()-1),a.column=this.document.getLine(a.row).length):f<0?(a.row=0,a.column=0):(a.row=f,a.column=Math.min(this.document.getLine(a.row).length,Math.max(0,s))),s<0&&(a.column=0),a}}).call(g.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(N,H,x){"use strict";var O=N("./lib/oop"),w=N("./apply_delta").applyDelta,g=N("./lib/event_emitter").EventEmitter,y=N("./range").Range,v=N("./anchor").Anchor,f=function(a){this.$lines=[""],0===a.length?this.$lines=[""]:Array.isArray(a)?this.insertMergedLines({row:0,column:0},a):this.insert({row:0,column:0},a)};(function(){O.implement(this,g),this.setValue=function(s){var a=this.getLength()-1;this.remove(new y(0,0,a,this.getLine(a).length)),this.insert({row:0,column:0},s)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(s,a){return new v(this,s,a)},this.$split=0==="aaa".split(/a/).length?function(s){return s.replace(/\r\n|\r/g,"\n").split("\n")}:function(s){return s.split(/\r\n|\r|\n/)},this.$detectNewLine=function(s){var a=s.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=a?a[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(s){this.$newLineMode!==s&&(this.$newLineMode=s,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(s){return"\r\n"==s||"\r"==s||"\n"==s},this.getLine=function(s){return this.$lines[s]||""},this.getLines=function(s,a){return this.$lines.slice(s,a+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(s){return this.getLinesForRange(s).join(this.getNewLineCharacter())},this.getLinesForRange=function(s){var a;if(s.start.row===s.end.row)a=[this.getLine(s.start.row).substring(s.start.column,s.end.column)];else{(a=this.getLines(s.start.row,s.end.row))[0]=(a[0]||"").substring(s.start.column);var u=a.length-1;s.end.row-s.start.row==u&&(a[u]=a[u].substring(0,s.end.column))}return a},this.insertLines=function(s,a){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(s,a)},this.removeLines=function(s,a){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(s,a)},this.insertNewLine=function(s){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(s,["",""])},this.insert=function(s,a){return this.getLength()<=1&&this.$detectNewLine(a),this.insertMergedLines(s,this.$split(a))},this.insertInLine=function(s,a){var u=this.clippedPos(s.row,s.column),c=this.pos(s.row,s.column+a.length);return this.applyDelta({start:u,end:c,action:"insert",lines:[a]},!0),this.clonePos(c)},this.clippedPos=function(s,a){var u=this.getLength();void 0===s?s=u:s<0?s=0:s>=u&&(s=u-1,a=void 0);var c=this.getLine(s);return null==a&&(a=c.length),{row:s,column:a=Math.min(Math.max(a,0),c.length)}},this.clonePos=function(s){return{row:s.row,column:s.column}},this.pos=function(s,a){return{row:s,column:a}},this.$clipPosition=function(s){var a=this.getLength();return s.row>=a?(s.row=Math.max(0,a-1),s.column=this.getLine(a-1).length):(s.row=Math.max(0,s.row),s.column=Math.min(Math.max(s.column,0),this.getLine(s.row).length)),s},this.insertFullLines=function(s,a){var u=0;(s=Math.min(Math.max(s,0),this.getLength()))<this.getLength()?(a=a.concat([""]),u=0):(a=[""].concat(a),s--,u=this.$lines[s].length),this.insertMergedLines({row:s,column:u},a)},this.insertMergedLines=function(s,a){var u=this.clippedPos(s.row,s.column),c={row:u.row+a.length-1,column:(1==a.length?u.column:0)+a[a.length-1].length};return this.applyDelta({start:u,end:c,action:"insert",lines:a}),this.clonePos(c)},this.remove=function(s){var a=this.clippedPos(s.start.row,s.start.column),u=this.clippedPos(s.end.row,s.end.column);return this.applyDelta({start:a,end:u,action:"remove",lines:this.getLinesForRange({start:a,end:u})}),this.clonePos(a)},this.removeInLine=function(s,a,u){var c=this.clippedPos(s,a),d=this.clippedPos(s,u);return this.applyDelta({start:c,end:d,action:"remove",lines:this.getLinesForRange({start:c,end:d})},!0),this.clonePos(c)},this.removeFullLines=function(s,a){s=Math.min(Math.max(0,s),this.getLength()-1);var u=(a=Math.min(Math.max(0,a),this.getLength()-1))==this.getLength()-1&&s>0,c=a<this.getLength()-1,d=u?s-1:s,h=u?this.getLine(d).length:0,p=c?a+1:a,_=c?0:this.getLine(p).length,E=new y(d,h,p,_),D=this.$lines.slice(s,a+1);return this.applyDelta({start:E.start,end:E.end,action:"remove",lines:this.getLinesForRange(E)}),D},this.removeNewLine=function(s){s<this.getLength()-1&&s>=0&&this.applyDelta({start:this.pos(s,this.getLine(s).length),end:this.pos(s+1,0),action:"remove",lines:["",""]})},this.replace=function(s,a){return s instanceof y||(s=y.fromPoints(s.start,s.end)),0===a.length&&s.isEmpty()?s.start:a==this.getTextRange(s)?s.end:(this.remove(s),a?this.insert(s.start,a):s.start)},this.applyDeltas=function(s){for(var a=0;a<s.length;a++)this.applyDelta(s[a])},this.revertDeltas=function(s){for(var a=s.length-1;a>=0;a--)this.revertDelta(s[a])},this.applyDelta=function(s,a){var u="insert"==s.action;(u?s.lines.length<=1&&!s.lines[0]:!y.comparePoints(s.start,s.end))||(u&&s.lines.length>2e4?this.$splitAndapplyLargeDelta(s,2e4):(w(this.$lines,s,a),this._signal("change",s)))},this.$safeApplyDelta=function(s){var a=this.$lines.length;("remove"==s.action&&s.start.row<a&&s.end.row<a||"insert"==s.action&&s.start.row<=a)&&this.applyDelta(s)},this.$splitAndapplyLargeDelta=function(s,a){for(var u=s.lines,c=u.length-a+1,d=s.start.row,h=s.start.column,p=0,_=0;p<c;p=_){var E=u.slice(p,_+=a-1);E.push(""),this.applyDelta({start:this.pos(d+p,h),end:this.pos(d+_,h=0),action:s.action,lines:E},!0)}s.lines=u.slice(p),s.start.row=d+p,s.start.column=h,this.applyDelta(s,!0)},this.revertDelta=function(s){this.$safeApplyDelta({start:this.clonePos(s.start),end:this.clonePos(s.end),action:"insert"==s.action?"remove":"insert",lines:s.lines.slice()})},this.indexToPosition=function(s,a){for(var u=this.$lines||this.getAllLines(),c=this.getNewLineCharacter().length,d=a||0,h=u.length;d<h;d++)if((s-=u[d].length+c)<0)return{row:d,column:s+u[d].length+c};return{row:h-1,column:s+u[h-1].length+c}},this.positionToIndex=function(s,a){for(var u=this.$lines||this.getAllLines(),c=this.getNewLineCharacter().length,d=0,h=Math.min(s.row,u.length),p=a||0;p<h;++p)d+=u[p].length+c;return d+s.column}}).call(f.prototype),H.Document=f}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(N,H,x){"use strict";var O=N("./lib/oop"),w=N("./lib/event_emitter").EventEmitter,g=function(v,f){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=v;var s=this;this.$worker=function(){if(s.running){for(var a=new Date,u=s.currentLine,c=-1,d=s.doc,h=u;s.lines[u];)u++;var p=d.getLength(),_=0;for(s.running=!1;u<p;){s.$tokenizeRow(u),c=u;do{u++}while(s.lines[u]);if(++_%5==0&&new Date-a>20){s.running=setTimeout(s.$worker,20);break}}s.currentLine=u,-1==c&&(c=u),h<=c&&s.fireUpdateEvent(h,c)}}};(function(){O.implement(this,w),this.setTokenizer=function(y){this.tokenizer=y,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(y){this.doc=y,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(y,v){this._signal("update",{data:{first:y,last:v}})},this.start=function(y){this.currentLine=Math.min(y||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(y){var v=y.start.row,f=y.end.row-v;if(0===f)this.lines[v]=null;else if("remove"==y.action)this.lines.splice(v,f+1,null),this.states.splice(v,f+1,null);else{var s=Array(f+1);s.unshift(v,1),this.lines.splice.apply(this.lines,s),this.states.splice.apply(this.states,s)}this.currentLine=Math.min(v,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(y){return this.lines[y]||this.$tokenizeRow(y)},this.getState=function(y){return this.currentLine==y&&this.$tokenizeRow(y),this.states[y]||"start"},this.$tokenizeRow=function(y){var v=this.doc.getLine(y),s=this.tokenizer.getLineTokens(v,this.states[y-1],y);return this.states[y]+""!=s.state+""?(this.states[y]=s.state,this.lines[y+1]=null,this.currentLine>y+1&&(this.currentLine=y+1)):this.currentLine==y&&(this.currentLine=y+1),this.lines[y]=s.tokens}}).call(g.prototype),H.BackgroundTokenizer=g}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(N,H,x){"use strict";var O=N("./lib/lang"),g=(N("./lib/oop"),N("./range").Range),y=function(f,s,a){this.setRegexp(f),this.clazz=s,this.type=a||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(v){this.regExp+""!=v+""&&(this.regExp=v,this.cache=[])},this.update=function(v,f,s,a){if(this.regExp)for(var c=a.lastRow,d=a.firstRow;d<=c;d++){var h=this.cache[d];null==h&&((h=O.getMatchOffsets(s.getLine(d),this.regExp)).length>this.MAX_RANGES&&(h=h.slice(0,this.MAX_RANGES)),h=h.map(function(_){return new g(d,_.offset,d,_.offset+_.length)}),this.cache[d]=h.length?h:"");for(var p=h.length;p--;)f.drawSingleLineMarker(v,h[p].toScreenRange(s),this.clazz,a)}}}).call(y.prototype),H.SearchHighlight=y}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(N,H,x){"use strict";var O=N("../range").Range;function w(g,y){this.foldData=g,Array.isArray(y)?this.folds=y:y=this.folds=[y];var v=y[y.length-1];this.range=new O(y[0].start.row,y[0].start.column,v.end.row,v.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(f){f.setFoldLine(this)},this)}(function(){this.shiftRow=function(g){this.start.row+=g,this.end.row+=g,this.folds.forEach(function(y){y.start.row+=g,y.end.row+=g})},this.addFold=function(g){if(g.sameRow){if(g.start.row<this.startRow||g.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(g),this.folds.sort(function(y,v){return-y.range.compareEnd(v.start.row,v.start.column)}),this.range.compareEnd(g.start.row,g.start.column)>0?(this.end.row=g.end.row,this.end.column=g.end.column):this.range.compareStart(g.end.row,g.end.column)<0&&(this.start.row=g.start.row,this.start.column=g.start.column)}else if(g.start.row==this.end.row)this.folds.push(g),this.end.row=g.end.row,this.end.column=g.end.column;else{if(g.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(g),this.start.row=g.start.row,this.start.column=g.start.column}g.foldLine=this},this.containsRow=function(g){return g>=this.start.row&&g<=this.end.row},this.walk=function(g,y,v){var a,u,f=0,s=this.folds,d=!0;null==y&&(y=this.end.row,v=this.end.column);for(var h=0;h<s.length;h++){if(-1==(u=(a=s[h]).range.compareStart(y,v)))return void g(null,y,v,f,d);if(!g(null,a.start.row,a.start.column,f,d)&&g(a.placeholder,a.start.row,a.start.column,f)||0===u)return;d=!a.sameRow,f=a.end.column}g(null,y,v,f,d)},this.getNextFoldTo=function(g,y){for(var v,f,s=0;s<this.folds.length;s++){if(-1==(f=(v=this.folds[s]).range.compareEnd(g,y)))return{fold:v,kind:"after"};if(0===f)return{fold:v,kind:"inside"}}return null},this.addRemoveChars=function(g,y,v){var s,a,f=this.getNextFoldTo(g,y);if(f)if(s=f.fold,"inside"==f.kind&&s.start.column!=y&&s.start.row!=g)window.console&&window.console.log(g,y,s);else if(s.start.row==g){var u=(a=this.folds).indexOf(s);for(0===u&&(this.start.column+=v);u<a.length;u++){if((s=a[u]).start.column+=v,!s.sameRow)return;s.end.column+=v}this.end.column+=v}},this.split=function(g,y){var v=this.getNextFoldTo(g,y);if(!v||"inside"==v.kind)return null;var s=this.folds,a=this.foldData,u=s.indexOf(v.fold),c=s[u-1];this.end.row=c.end.row,this.end.column=c.end.column;var d=new w(a,s=s.splice(u,s.length-u));return a.splice(a.indexOf(this)+1,0,d),d},this.merge=function(g){for(var y=g.folds,v=0;v<y.length;v++)this.addFold(y[v]);var f=this.foldData;f.splice(f.indexOf(g),1)},this.toString=function(){var g=[this.range.toString()+": ["];return this.folds.forEach(function(y){g.push("  "+y.toString())}),g.push("]"),g.join("\n")},this.idxToPosition=function(g){for(var y=0,v=0;v<this.folds.length;v++){var f=this.folds[v];if((g-=f.start.column-y)<0)return{row:f.start.row,column:f.start.column+g};if((g-=f.placeholder.length)<0)return f.start;y=f.end.column}return{row:this.end.row,column:this.end.column+g}}}).call(w.prototype),H.FoldLine=w}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(N,H,x){"use strict";var w=N("./range").Range.comparePoints,g=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=w,this.pointIndex=function(y,v,f){for(var s=this.ranges,a=f||0;a<s.length;a++){var u=s[a],c=w(y,u.end);if(!(c>0)){var d=w(y,u.start);return 0===c?v&&0!==d?-a-2:a:d>0||0===d&&!v?a:-a-1}}return-a-1},this.add=function(y){var v=!y.isEmpty(),f=this.pointIndex(y.start,v);f<0&&(f=-f-1);var s=this.pointIndex(y.end,v,f);return s<0?s=-s-1:s++,this.ranges.splice(f,s-f,y)},this.addList=function(y){for(var v=[],f=y.length;f--;)v.push.apply(v,this.add(y[f]));return v},this.substractPoint=function(y){var v=this.pointIndex(y);if(v>=0)return this.ranges.splice(v,1)},this.merge=function(){for(var s,y=[],v=this.ranges,f=(v=v.sort(function(c,d){return w(c.start,d.start)}))[0],a=1;a<v.length;a++){var u=w((s=f).end,(f=v[a]).start);u<0||0==u&&!s.isEmpty()&&!f.isEmpty()||(w(s.end,f.end)<0&&(s.end.row=f.end.row,s.end.column=f.end.column),v.splice(a,1),y.push(f),f=s,a--)}return this.ranges=v,y},this.contains=function(y,v){return this.pointIndex({row:y,column:v})>=0},this.containsPoint=function(y){return this.pointIndex(y)>=0},this.rangeAtPoint=function(y){var v=this.pointIndex(y);if(v>=0)return this.ranges[v]},this.clipRows=function(y,v){var f=this.ranges;if(f[0].start.row>v||f[f.length-1].start.row<y)return[];var s=this.pointIndex({row:y,column:0});s<0&&(s=-s-1);var a=this.pointIndex({row:v,column:0},s);a<0&&(a=-a-1);for(var u=[],c=s;c<a;c++)u.push(f[c]);return u},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(y){this.session&&this.detach(),this.session=y,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){!this.session||(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(y){for(var v=y.start,f=y.end,s=v.row,a=f.row,u=this.ranges,c=0,d=u.length;c<d&&!((h=u[c]).end.row>=s);c++);if("insert"==y.action){for(var p=a-s,_=-v.column+f.column;c<d&&!((h=u[c]).start.row>s);c++)if(h.start.row==s&&h.start.column>=v.column&&(h.start.column==v.column&&this.$bias<=0||(h.start.column+=_,h.start.row+=p)),h.end.row==s&&h.end.column>=v.column){if(h.end.column==v.column&&this.$bias<0)continue;h.end.column==v.column&&_>0&&c<d-1&&h.end.column>h.start.column&&h.end.column==u[c+1].start.column&&(h.end.column-=_),h.end.column+=_,h.end.row+=p}}else for(p=s-a,_=v.column-f.column;c<d&&!((h=u[c]).start.row>a);c++)h.end.row<a&&(s<h.end.row||s==h.end.row&&v.column<h.end.column)?(h.end.row=s,h.end.column=v.column):h.end.row==a?h.end.column<=f.column?(p||h.end.column>v.column)&&(h.end.column=v.column,h.end.row=v.row):(h.end.column+=_,h.end.row+=p):h.end.row>a&&(h.end.row+=p),h.start.row<a&&(s<h.start.row||s==h.start.row&&v.column<h.start.column)?(h.start.row=s,h.start.column=v.column):h.start.row==a?h.start.column<=f.column?(p||h.start.column>v.column)&&(h.start.column=v.column,h.start.row=v.row):(h.start.column+=_,h.start.row+=p):h.start.row>a&&(h.start.row+=p);if(0!=p&&c<d)for(;c<d;c++){var h;(h=u[c]).start.row+=p,h.end.row+=p}}}).call(g.prototype),H.RangeList=g}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(N,H,x){"use strict";var O=N("../range_list").RangeList,w=N("../lib/oop"),g=H.Fold=function(a,u){this.foldLine=null,this.placeholder=u,this.range=a,this.start=a.start,this.end=a.end,this.sameRow=a.start.row==a.end.row,this.subFolds=this.ranges=[]};function y(a,u){a.row-=u.row,0==a.row&&(a.column-=u.column)}function f(a,u){0==a.row&&(a.column+=u.column),a.row+=u.row}w.inherits(g,O),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(a){this.foldLine=a,this.subFolds.forEach(function(u){u.setFoldLine(a)})},this.clone=function(){var a=this.range.clone(),u=new g(a,this.placeholder);return this.subFolds.forEach(function(c){u.subFolds.push(c.clone())}),u.collapseChildren=this.collapseChildren,u},this.addSubFold=function(a){if(!this.range.isEqual(a)){!function v(a,u){y(a.start,u),y(a.end,u)}(a,this.start);for(var p=a.start.row,_=a.start.column,u=0,c=-1;u<this.subFolds.length&&1==(c=this.subFolds[u].range.compare(p,_));u++);var d=this.subFolds[u],h=0;if(0==c){if(d.range.containsRange(a))return d.addSubFold(a);h=1}p=a.range.end.row,_=a.range.end.column;var E=u;for(c=-1;E<this.subFolds.length&&1==(c=this.subFolds[E].range.compare(p,_));E++);0==c&&E++;for(var D=this.subFolds.splice(u,E-u,a),b=0==c?D.length-1:D.length,R=h;R<b;R++)a.addSubFold(D[R]);return a.setFoldLine(this.foldLine),a}},this.restoreRange=function(a){return function s(a,u){f(a.start,u),f(a.end,u)}(a,this.start)}}.call(g.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(N,H,x){"use strict";var O=N("../range").Range,w=N("./fold_line").FoldLine,g=N("./fold").Fold,y=N("../token_iterator").TokenIterator;H.Folding=function v(){this.getFoldAt=function(f,s,a){var u=this.getFoldLine(f);if(!u)return null;for(var c=u.folds,d=0;d<c.length;d++){var h=c[d].range;if(h.contains(f,s)){if(1==a&&h.isEnd(f,s)&&!h.isEmpty())continue;if(-1==a&&h.isStart(f,s)&&!h.isEmpty())continue;return c[d]}}},this.getFoldsInRange=function(f){var s=f.start,a=f.end,u=this.$foldData,c=[];s.column+=1,a.column-=1;for(var d=0;d<u.length;d++){var h=u[d].range.compareRange(f);if(2!=h){if(-2==h)break;for(var p=u[d].folds,_=0;_<p.length;_++){var E=p[_];if(-2==(h=E.range.compareRange(f)))break;if(2!=h){if(42==h)break;c.push(E)}}}}return s.column-=1,a.column+=1,c},this.getFoldsInRangeList=function(f){if(Array.isArray(f)){var s=[];f.forEach(function(a){s=s.concat(this.getFoldsInRange(a))},this)}else s=this.getFoldsInRange(f);return s},this.getAllFolds=function(){for(var f=[],s=this.$foldData,a=0;a<s.length;a++)for(var u=0;u<s[a].folds.length;u++)f.push(s[a].folds[u]);return f},this.getFoldStringAt=function(f,s,a,u){if(!(u=u||this.getFoldLine(f)))return null;for(var d,h,c={end:{column:0}},p=0;p<u.folds.length;p++){var _=(h=u.folds[p]).range.compareEnd(f,s);if(-1==_){d=this.getLine(h.start.row).substring(c.end.column,h.start.column);break}if(0===_)return null;c=h}return d||(d=this.getLine(h.start.row).substring(c.end.column)),-1==a?d.substring(0,s-c.end.column):1==a?d.substring(s-c.end.column):d},this.getFoldLine=function(f,s){var a=this.$foldData,u=0;for(s&&(u=a.indexOf(s)),-1==u&&(u=0);u<a.length;u++){var c=a[u];if(c.start.row<=f&&c.end.row>=f)return c;if(c.end.row>f)return null}return null},this.getNextFoldLine=function(f,s){var a=this.$foldData,u=0;for(s&&(u=a.indexOf(s)),-1==u&&(u=0);u<a.length;u++){var c=a[u];if(c.end.row>=f)return c}return null},this.getFoldedRowCount=function(f,s){for(var a=this.$foldData,u=s-f+1,c=0;c<a.length;c++){var d=a[c],h=d.end.row,p=d.start.row;if(h>=s){p<s&&(p>=f?u-=s-p:u=0);break}h>=f&&(u-=p>=f?h-p:h-f+1)}return u},this.$addFoldLine=function(f){return this.$foldData.push(f),this.$foldData.sort(function(s,a){return s.start.row-a.start.row}),f},this.addFold=function(f,s){var c,a=this.$foldData,u=!1;f instanceof g?c=f:(c=new g(s,f)).collapseChildren=s.collapseChildren,this.$clipRangeToDocument(c.range);var d=c.start.row,h=c.start.column,p=c.end.row,_=c.end.column,E=this.getFoldAt(d,h,1),D=this.getFoldAt(p,_,-1);if(E&&D==E)return E.addSubFold(c);E&&!E.range.isStart(d,h)&&this.removeFold(E),D&&!D.range.isEnd(p,_)&&this.removeFold(D);var b=this.getFoldsInRange(c.range);b.length>0&&(this.removeFolds(b),c.collapseChildren||b.forEach(function(M){c.addSubFold(M)}));for(var R=0;R<a.length;R++){var k=a[R];if(p==k.start.row){k.addFold(c),u=!0;break}if(d==k.end.row){if(k.addFold(c),u=!0,!c.sameRow){var S=a[R+1];if(S&&S.start.row==p){k.merge(S);break}}break}if(p<=k.start.row)break}return u||(k=this.$addFoldLine(new w(this.$foldData,c))),this.$useWrapMode?this.$updateWrapData(k.start.row,k.start.row):this.$updateRowLengthCache(k.start.row,k.start.row),this.$modified=!0,this._signal("changeFold",{data:c,action:"add"}),c},this.addFolds=function(f){f.forEach(function(s){this.addFold(s)},this)},this.removeFold=function(f){var s=f.foldLine,a=s.start.row,u=s.end.row,c=this.$foldData,d=s.folds;if(1==d.length)c.splice(c.indexOf(s),1);else if(s.range.isEnd(f.end.row,f.end.column))d.pop(),s.end.row=d[d.length-1].end.row,s.end.column=d[d.length-1].end.column;else if(s.range.isStart(f.start.row,f.start.column))d.shift(),s.start.row=d[0].start.row,s.start.column=d[0].start.column;else if(f.sameRow)d.splice(d.indexOf(f),1);else{var h=s.split(f.start.row,f.start.column);(d=h.folds).shift(),h.start.row=d[0].start.row,h.start.column=d[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(a,u):this.$updateRowLengthCache(a,u)),this.$modified=!0,this._signal("changeFold",{data:f,action:"remove"})},this.removeFolds=function(f){for(var s=[],a=0;a<f.length;a++)s.push(f[a]);s.forEach(function(u){this.removeFold(u)},this),this.$modified=!0},this.expandFold=function(f){this.removeFold(f),f.subFolds.forEach(function(s){f.restoreRange(s),this.addFold(s)},this),f.collapseChildren>0&&this.foldAll(f.start.row+1,f.end.row,f.collapseChildren-1),f.subFolds=[]},this.expandFolds=function(f){f.forEach(function(s){this.expandFold(s)},this)},this.unfold=function(f,s){var a,u;if(null==f)a=new O(0,0,this.getLength(),0),null==s&&(s=!0);else if("number"==typeof f)a=new O(f,0,f,this.getLine(f).length);else if("row"in f)a=O.fromPoints(f,f);else{if(Array.isArray(f))return u=[],f.forEach(function(d){u=u.concat(this.unfold(d))},this),u;a=f}for(var c=u=this.getFoldsInRangeList(a);1==u.length&&O.comparePoints(u[0].start,a.start)<0&&O.comparePoints(u[0].end,a.end)>0;)this.expandFolds(u),u=this.getFoldsInRangeList(a);if(0!=s?this.removeFolds(u):this.expandFolds(u),c.length)return c},this.isRowFolded=function(f,s){return!!this.getFoldLine(f,s)},this.getRowFoldEnd=function(f,s){var a=this.getFoldLine(f,s);return a?a.end.row:f},this.getRowFoldStart=function(f,s){var a=this.getFoldLine(f,s);return a?a.start.row:f},this.getFoldDisplayLine=function(f,s,a,u,c){null==u&&(u=f.start.row),null==c&&(c=0),null==s&&(s=f.end.row),null==a&&(a=this.getLine(s).length);var d=this.doc,h="";return f.walk(function(p,_,E,D){if(!(_<u)){if(_==u){if(E<c)return;D=Math.max(c,D)}h+=null!=p?p:d.getLine(_).substring(D,E)}},s,a),h},this.getDisplayLine=function(f,s,a,u){var d,c=this.getFoldLine(f);return c?this.getFoldDisplayLine(c,f,s,a,u):(d=this.doc.getLine(f)).substring(u||0,s||d.length)},this.$cloneFoldData=function(){var f=[];return f=this.$foldData.map(function(s){var a=s.folds.map(function(u){return u.clone()});return new w(f,a)})},this.toggleFold=function(f){var u,c,a=this.selection.getRange();if(a.isEmpty()){var d=a.start;if(u=this.getFoldAt(d.row,d.column))return void this.expandFold(u);(c=this.findMatchingBracket(d))?1==a.comparePoint(c)?a.end=c:(a.start=c,a.start.column++,a.end.column--):(c=this.findMatchingBracket({row:d.row,column:d.column+1}))?(1==a.comparePoint(c)?a.end=c:a.start=c,a.start.column++):a=this.getCommentFoldRange(d.row,d.column)||a}else{var h=this.getFoldsInRange(a);if(f&&h.length)return void this.expandFolds(h);1==h.length&&(u=h[0])}if(u||(u=this.getFoldAt(a.start.row,a.start.column)),u&&u.range.toString()==a.toString())this.expandFold(u);else{var p="...";if(!a.isMultiLine()){if((p=this.getTextRange(a)).length<4)return;p=p.trim().substring(0,2)+".."}this.addFold(p,a)}},this.getCommentFoldRange=function(f,s,a){var u=new y(this,f,s),c=u.getCurrentToken(),d=c&&c.type;if(c&&/^comment|string/.test(d)){"comment"==(d=d.match(/comment|string/)[0])&&(d+="|doc-start");var h=new RegExp(d),p=new O;if(1!=a){do{c=u.stepBackward()}while(c&&h.test(c.type));u.stepForward()}if(p.start.row=u.getCurrentTokenRow(),p.start.column=u.getCurrentTokenColumn()+2,u=new y(this,f,s),-1!=a){var _=-1;do{if(c=u.stepForward(),-1==_){var E=this.getState(u.$row);h.test(E)||(_=u.$row)}else if(u.$row>_)break}while(c&&h.test(c.type));c=u.stepBackward()}else c=u.getCurrentToken();return p.end.row=u.getCurrentTokenRow(),p.end.column=u.getCurrentTokenColumn()+c.value.length-2,p}},this.foldAll=function(f,s,a,u){null==a&&(a=1e5);var c=this.foldWidgets;if(c){s=s||this.getLength();for(var d=f=f||0;d<s;d++)if(null==c[d]&&(c[d]=this.getFoldWidget(d)),"start"==c[d]&&(!u||u(d))){var h=this.getFoldWidgetRange(d);h&&h.isMultiLine()&&h.end.row<=s&&h.start.row>=f&&(d=h.end.row,h.collapseChildren=a,this.addFold("...",h))}}},this.foldToLevel=function(f){for(this.foldAll();f-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var f=this;this.foldAll(null,null,null,function(s){for(var a=f.getTokens(s),u=0;u<a.length;u++){var c=a[u];if("text"!=c.type||!/^\s+$/.test(c.value))return!!/comment/.test(c.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(f){if(!this.$foldStyles[f])throw new Error("invalid fold style: "+f+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=f){this.$foldStyle=f,"manual"==f&&this.unfold();var s=this.$foldMode;this.$setFolding(null),this.$setFolding(s)}},this.$setFolding=function(f){if(this.$foldMode!=f){if(this.$foldMode=f,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!f||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=f.getFoldWidget.bind(f,this,this.$foldStyle),this.getFoldWidgetRange=f.getFoldWidgetRange.bind(f,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(f,s){var a=this.foldWidgets;if(!a||s&&a[f])return{};for(var c,u=f-1;u>=0;){var d=a[u];if(null==d&&(d=a[u]=this.getFoldWidget(u)),"start"==d){var h=this.getFoldWidgetRange(u);if(c||(c=h),h&&h.end.row>=f)break}u--}return{range:-1!==u&&h,firstRange:c}},this.onFoldWidgetClick=function(f,s){if(!this.$toggleFoldWidget(f,{children:(s=s.domEvent).shiftKey,all:s.ctrlKey||s.metaKey,siblings:s.altKey})){var c=s.target||s.srcElement;c&&/ace_fold-widget/.test(c.className)&&(c.className+=" ace_invalid")}},this.$toggleFoldWidget=function(f,s){if(this.getFoldWidget){var a=this.getFoldWidget(f),u=this.getLine(f),c="end"===a?-1:1,d=this.getFoldAt(f,-1===c?0:u.length,c);if(d)return s.children||s.all?this.removeFold(d):this.expandFold(d),d;var h=this.getFoldWidgetRange(f,!0);if(h&&!h.isMultiLine()&&(d=this.getFoldAt(h.start.row,h.start.column,1))&&h.isEqual(d.range))return this.removeFold(d),d;if(s.siblings){var p=this.getParentFoldRangeData(f);if(p.range)var _=p.range.start.row+1,E=p.range.end.row;this.foldAll(_,E,s.all?1e4:0)}else s.children?(E=h?h.end.row:this.getLength(),this.foldAll(f+1,E,s.all?1e4:0)):h&&(s.all&&(h.collapseChildren=1e4),this.addFold("...",h));return h}},this.toggleFoldWidget=function(f){var s=this.selection.getCursor().row;s=this.getRowFoldStart(s);var a=this.$toggleFoldWidget(s,{});if(!a){var u=this.getParentFoldRangeData(s,!0);if(a=u.range||u.firstRange){var c=this.getFoldAt(s=a.start.row,this.getLine(s).length,1);c?this.removeFold(c):this.addFold("...",a)}}},this.updateFoldWidgets=function(f){var s=f.start.row,a=f.end.row-s;if(0===a)this.foldWidgets[s]=null;else if("remove"==f.action)this.foldWidgets.splice(s,a+1,null);else{var u=Array(a+1);u.unshift(s,1),this.foldWidgets.splice.apply(this.foldWidgets,u)}},this.tokenizerUpdateFoldWidgets=function(f){var s=f.data;s.first!=s.last&&this.foldWidgets.length>s.first&&this.foldWidgets.splice(s.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(N,H,x){"use strict";var O=N("../token_iterator").TokenIterator,w=N("../range").Range;H.BracketMatch=function g(){this.findMatchingBracket=function(y,v){if(0==y.column)return null;var f=v||this.getLine(y.row).charAt(y.column-1);if(""==f)return null;var s=f.match(/([\(\[\{])|([\)\]\}])/);return s?s[1]?this.$findClosingBracket(s[1],y):this.$findOpeningBracket(s[2],y):null},this.getBracketRange=function(y){var s,v=this.getLine(y.row),f=!0,a=v.charAt(y.column-1),u=a&&a.match(/([\(\[\{])|([\)\]\}])/);if(u||(a=v.charAt(y.column),y={row:y.row,column:y.column+1},u=a&&a.match(/([\(\[\{])|([\)\]\}])/),f=!1),!u)return null;if(u[1]){if(!(c=this.$findClosingBracket(u[1],y)))return null;s=w.fromPoints(y,c),f||(s.end.column++,s.start.column--),s.cursor=s.end}else{var c;if(!(c=this.$findOpeningBracket(u[2],y)))return null;s=w.fromPoints(c,y),f||(s.start.column++,s.end.column--),s.cursor=s.start}return s},this.getMatchingBracketRanges=function(y){var v=this.getLine(y.row),f=v.charAt(y.column-1),s=f&&f.match(/([\(\[\{])|([\)\]\}])/);if(s||(f=v.charAt(y.column),y={row:y.row,column:y.column+1},s=f&&f.match(/([\(\[\{])|([\)\]\}])/)),!s)return null;var a=new w(y.row,y.column-1,y.row,y.column),u=s[1]?this.$findClosingBracket(s[1],y):this.$findOpeningBracket(s[2],y);return u?[a,new w(u.row,u.column,u.row,u.column+1)]:[a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(y,v,f){var s=this.$brackets[y],a=1,u=new O(this,v.row,v.column),c=u.getCurrentToken();if(c||(c=u.stepForward()),c){f||(f=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var d=v.column-u.getCurrentTokenColumn()-2,h=c.value;;){for(;d>=0;){var p=h.charAt(d);if(p==s){if(0==(a-=1))return{row:u.getCurrentTokenRow(),column:d+u.getCurrentTokenColumn()}}else p==y&&(a+=1);d-=1}do{c=u.stepBackward()}while(c&&!f.test(c.type));if(null==c)break;d=(h=c.value).length-1}return null}},this.$findClosingBracket=function(y,v,f){var s=this.$brackets[y],a=1,u=new O(this,v.row,v.column),c=u.getCurrentToken();if(c||(c=u.stepForward()),c){f||(f=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var d=v.column-u.getCurrentTokenColumn();;){for(var h=c.value,p=h.length;d<p;){var _=h.charAt(d);if(_==s){if(0==(a-=1))return{row:u.getCurrentTokenRow(),column:d+u.getCurrentTokenColumn()}}else _==y&&(a+=1);d+=1}do{c=u.stepForward()}while(c&&!f.test(c.type));if(null==c)break;d=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(N,H,x){"use strict";var O=N("./lib/oop"),w=N("./lib/lang"),g=N("./bidihandler").BidiHandler,y=N("./config"),v=N("./lib/event_emitter").EventEmitter,f=N("./selection").Selection,s=N("./mode/text").Mode,a=N("./range").Range,u=N("./document").Document,c=N("./background_tokenizer").BackgroundTokenizer,d=N("./search_highlight").SearchHighlight,h=function p(_,E){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),("object"!=typeof _||!_.getLine)&&(_=new u(_)),this.setDocument(_),this.selection=new f(this),this.$bidiHandler=new g(this),y.resetOptions(this),this.setMode(E),y._signal("session",this)};h.$uid=0,function(){O.implement(this,v),this.setDocument=function(C){this.doc&&this.doc.off("change",this.$onChange),this.doc=C,C.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(C){if(!C)return this.$docRowCache=[],void(this.$screenRowCache=[]);var T=this.$docRowCache.length,I=this.$getRowCacheIndex(this.$docRowCache,C)+1;T>I&&(this.$docRowCache.splice(I,T),this.$screenRowCache.splice(I,T))},this.$getRowCacheIndex=function(C,T){for(var I=0,$=C.length-1;I<=$;){var F=I+$>>1,P=C[F];if(T>P)I=F+1;else{if(!(T<P))return F;$=F-1}}return I-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(C){this.$resetRowCache(C.data.start.row)},this.onChange=function(C){this.$modified=!0,this.$bidiHandler.onChange(C),this.$resetRowCache(C.start.row);var T=this.$updateInternalDataOnChange(C);!this.$fromUndo&&this.$undoManager&&(T&&T.length&&(this.$undoManager.add({action:"removeFolds",folds:T},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(C,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(C),this._signal("change",C)},this.setValue=function(C){this.doc.setValue(C),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(C){return this.bgTokenizer.getState(C)},this.getTokens=function(C){return this.bgTokenizer.getTokens(C)},this.getTokenAt=function(C,T){var $,I=this.bgTokenizer.getTokens(C),F=0;if(null==T){var P=I.length-1;F=this.getLine(C).length}else for(P=0;P<I.length&&!((F+=I[P].value.length)>=T);P++);return($=I[P])?($.index=P,$.start=F-$.value.length,$):null},this.setUndoManager=function(C){if(this.$undoManager=C,this.$informUndoManager&&this.$informUndoManager.cancel(),C){var T=this;C.addSession(this),this.$syncInformUndoManager=function(){T.$informUndoManager.cancel(),T.mergeUndoDeltas=!1},this.$informUndoManager=w.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?w.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(C){this.setOption("useSoftTabs",C)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(C){this.setOption("tabSize",C)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(C){return this.$useSoftTabs&&C.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(C){this.setOption("navigateWithinSoftTabs",C)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(C){this.setOption("overwrite",C)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(C,T){this.$decorations[C]||(this.$decorations[C]=""),this.$decorations[C]+=" "+T,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(C,T){this.$decorations[C]=(this.$decorations[C]||"").replace(" "+T,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(C){this.$breakpoints=[];for(var T=0;T<C.length;T++)this.$breakpoints[C[T]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(C,T){void 0===T&&(T="ace_breakpoint"),T?this.$breakpoints[C]=T:delete this.$breakpoints[C],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(C){delete this.$breakpoints[C],this._signal("changeBreakpoint",{})},this.addMarker=function(C,T,I,$){var F=this.$markerId++,P={range:C,type:I||"line",renderer:"function"==typeof I?I:null,clazz:T,inFront:!!$,id:F};return $?(this.$frontMarkers[F]=P,this._signal("changeFrontMarker")):(this.$backMarkers[F]=P,this._signal("changeBackMarker")),F},this.addDynamicMarker=function(C,T){if(C.update){var I=this.$markerId++;return C.id=I,C.inFront=!!T,T?(this.$frontMarkers[I]=C,this._signal("changeFrontMarker")):(this.$backMarkers[I]=C,this._signal("changeBackMarker")),C}},this.removeMarker=function(C){var T=this.$frontMarkers[C]||this.$backMarkers[C];T&&(delete(T.inFront?this.$frontMarkers:this.$backMarkers)[C],this._signal(T.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(C){return C?this.$frontMarkers:this.$backMarkers},this.highlight=function(C){if(!this.$searchHighlight){var T=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(T)}this.$searchHighlight.setRegexp(C)},this.highlightLines=function(C,T,I,$){"number"!=typeof T&&(I=T,T=C),I||(I="ace_step");var F=new a(C,0,T,1/0);return F.id=this.addMarker(F,I,"fullLine",$),F},this.setAnnotations=function(C){this.$annotations=C,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(C){var T=C.match(/^.*?(\r?\n)/m);this.$autoNewLine=T?T[1]:"\n"},this.getWordRange=function(C,T){var I=this.getLine(C),$=!1;if(T>0&&($=!!I.charAt(T-1).match(this.tokenRe)),$||($=!!I.charAt(T).match(this.tokenRe)),$)var F=this.tokenRe;else F=/^\s+$/.test(I.slice(T-1,T+1))?/\s/:this.nonTokenRe;var P=T;if(P>0){do{P--}while(P>=0&&I.charAt(P).match(F));P++}for(var U=T;U<I.length&&I.charAt(U).match(F);)U++;return new a(C,P,C,U)},this.getAWordRange=function(C,T){for(var I=this.getWordRange(C,T),$=this.getLine(I.end.row);$.charAt(I.end.column).match(/[ \t]/);)I.end.column+=1;return I},this.setNewLineMode=function(C){this.doc.setNewLineMode(C)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(C){this.setOption("useWorker",C)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(C){this.bgTokenizer.start(C.data.first),this._signal("tokenizerUpdate",C)},this.$modes=y.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(C,T){if(C&&"object"==typeof C){if(C.getTokenizer)return this.$onChangeMode(C);var I=C,$=C.path}else $=C||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new s),this.$modes[$]&&!I)return this.$onChangeMode(this.$modes[$]),void(T&&T());this.$modeId=$,y.loadModule(["mode",$],function(F){if(this.$modeId!==$)return T&&T();this.$modes[$]&&!I?this.$onChangeMode(this.$modes[$]):F&&F.Mode&&(F=new F.Mode(I),I||(this.$modes[$]=F,F.$id=$),this.$onChangeMode(F)),T&&T()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(C,T){if(T||(this.$modeId=C.$id),this.$mode!==C){var I=this.$mode;this.$mode=C,this.$stopWorker(),this.$useWorker&&this.$startWorker();var $=C.getTokenizer();if(void 0!==$.on){var F=this.onReloadTokenizer.bind(this);$.on("update",F)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer($);else{this.bgTokenizer=new c($);var P=this;this.bgTokenizer.on("update",function(U){P._signal("tokenizerUpdate",U)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=C.tokenRe,this.nonTokenRe=C.nonTokenRe,T||(C.attachToSession&&C.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(C.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:I,mode:C}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(C){y.warn("Could not load worker",C),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(C){this.$scrollTop===C||isNaN(C)||(this.$scrollTop=C,this._signal("changeScrollTop",C))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(C){this.$scrollLeft===C||isNaN(C)||(this.$scrollLeft=C,this._signal("changeScrollLeft",C))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var C=0;return this.lineWidgets.forEach(function(T){T&&T.screenWidth>C&&(C=T.screenWidth)}),this.lineWidgetWidth=C},this.$computeWidth=function(C){if(this.$modified||C){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var T=this.doc.getAllLines(),I=this.$rowLengthCache,$=0,F=0,P=this.$foldData[F],U=P?P.start.row:1/0,W=T.length,z=0;z<W;z++){if(z>U){if((z=P.end.row+1)>=W)break;U=(P=this.$foldData[F++])?P.start.row:1/0}null==I[z]&&(I[z]=this.$getStringScreenWidth(T[z])[0]),I[z]>$&&($=I[z])}this.screenWidth=$}},this.getLine=function(C){return this.doc.getLine(C)},this.getLines=function(C,T){return this.doc.getLines(C,T)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(C){return this.doc.getTextRange(C||this.selection.getRange())},this.insert=function(C,T){return this.doc.insert(C,T)},this.remove=function(C){return this.doc.remove(C)},this.removeFullLines=function(C,T){return this.doc.removeFullLines(C,T)},this.undoChanges=function(C,T){if(C.length){this.$fromUndo=!0;for(var I=C.length-1;-1!=I;I--){var $=C[I];"insert"==$.action||"remove"==$.action?this.doc.revertDelta($):$.folds&&this.addFolds($.folds)}!T&&this.$undoSelect&&(C.selectionBefore?this.selection.fromJSON(C.selectionBefore):this.selection.setRange(this.$getUndoSelection(C,!0))),this.$fromUndo=!1}},this.redoChanges=function(C,T){if(C.length){this.$fromUndo=!0;for(var I=0;I<C.length;I++){var $=C[I];("insert"==$.action||"remove"==$.action)&&this.doc.$safeApplyDelta($)}!T&&this.$undoSelect&&(C.selectionAfter?this.selection.fromJSON(C.selectionAfter):this.selection.setRange(this.$getUndoSelection(C,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(C){this.$undoSelect=C},this.$getUndoSelection=function(C,T){function I(W){return T?"insert"!==W.action:"insert"===W.action}for(var $,F,P=0;P<C.length;P++){var U=C[P];if(U.start){if(!$){$=I(U)?a.fromPoints(U.start,U.end):a.fromPoints(U.start,U.start);continue}I(U)?(-1==$.compare((F=U.start).row,F.column)&&$.setStart(F),1==$.compare((F=U.end).row,F.column)&&$.setEnd(F)):-1==$.compare((F=U.start).row,F.column)&&($=a.fromPoints(U.start,U.start))}}return $},this.replace=function(C,T){return this.doc.replace(C,T)},this.moveText=function(C,T,I){var $=this.getTextRange(C),F=this.getFoldsInRange(C),P=a.fromPoints(T,T);if(I||(this.remove(C),(W=(U=C.start.row-C.end.row)?-C.end.column:C.start.column-C.end.column)&&(P.start.row==C.end.row&&P.start.column>C.end.column&&(P.start.column+=W),P.end.row==C.end.row&&P.end.column>C.end.column&&(P.end.column+=W)),U&&P.start.row>=C.end.row&&(P.start.row+=U,P.end.row+=U)),P.end=this.insert(P.start,$),F.length){var z=C.start,X=P.start,U=X.row-z.row,W=X.column-z.column;this.addFolds(F.map(function(oe){return(oe=oe.clone()).start.row==z.row&&(oe.start.column+=W),oe.end.row==z.row&&(oe.end.column+=W),oe.start.row+=U,oe.end.row+=U,oe}))}return P},this.indentRows=function(C,T,I){I=I.replace(/\t/g,this.getTabString());for(var $=C;$<=T;$++)this.doc.insertInLine({row:$,column:0},I)},this.outdentRows=function(C){for(var T=C.collapseRows(),I=new a(0,0,0,0),$=this.getTabSize(),F=T.start.row;F<=T.end.row;++F){var P=this.getLine(F);I.start.row=F,I.end.row=F;for(var U=0;U<$&&" "==P.charAt(U);++U);U<$&&"\t"==P.charAt(U)?(I.start.column=U,I.end.column=U+1):(I.start.column=0,I.end.column=U),this.remove(I)}},this.$moveLines=function(C,T,I){if(C=this.getRowFoldStart(C),T=this.getRowFoldEnd(T),I<0){if(($=this.getRowFoldStart(C+I))<0)return 0;var F=$-C}else if(I>0){var $;if(($=this.getRowFoldEnd(T+I))>this.doc.getLength()-1)return 0;F=$-T}else C=this.$clipRowToDocument(C),F=(T=this.$clipRowToDocument(T))-C+1;var P=new a(C,0,T,Number.MAX_VALUE),U=this.getFoldsInRange(P).map(function(z){return(z=z.clone()).start.row+=F,z.end.row+=F,z}),W=0==I?this.doc.getLines(C,T):this.doc.removeFullLines(C,T);return this.doc.insertFullLines(C+F,W),U.length&&this.addFolds(U),F},this.moveLinesUp=function(C,T){return this.$moveLines(C,T,-1)},this.moveLinesDown=function(C,T){return this.$moveLines(C,T,1)},this.duplicateLines=function(C,T){return this.$moveLines(C,T,0)},this.$clipRowToDocument=function(C){return Math.max(0,Math.min(C,this.doc.getLength()-1))},this.$clipColumnToRow=function(C,T){return T<0?0:Math.min(this.doc.getLine(C).length,T)},this.$clipPositionToDocument=function(C,T){if(T=Math.max(0,T),C<0)C=0,T=0;else{var I=this.doc.getLength();C>=I?(C=I-1,T=this.doc.getLine(I-1).length):T=Math.min(this.doc.getLine(C).length,T)}return{row:C,column:T}},this.$clipRangeToDocument=function(C){C.start.row<0?(C.start.row=0,C.start.column=0):C.start.column=this.$clipColumnToRow(C.start.row,C.start.column);var T=this.doc.getLength()-1;return C.end.row>T?(C.end.row=T,C.end.column=this.doc.getLine(T).length):C.end.column=this.$clipColumnToRow(C.end.row,C.end.column),C},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(C){if(C!=this.$useWrapMode){if(this.$useWrapMode=C,this.$modified=!0,this.$resetRowCache(0),C){var T=this.getLength();this.$wrapData=Array(T),this.$updateWrapData(0,T-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(C,T){(this.$wrapLimitRange.min!==C||this.$wrapLimitRange.max!==T)&&(this.$wrapLimitRange={min:C,max:T},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(C,T){var I=this.$wrapLimitRange;I.max<0&&(I={min:T,max:T});var $=this.$constrainWrapLimit(C,I.min,I.max);return $!=this.$wrapLimit&&$>1&&(this.$wrapLimit=$,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(C,T,I){return T&&(C=Math.max(T,C)),I&&(C=Math.min(I,C)),C},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(C){this.setWrapLimitRange(C,C)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(C){var T=this.$useWrapMode,I=C.action,$=C.start,F=C.end,P=$.row,U=F.row,W=U-P,z=null;if(this.$updating=!0,0!=W)if("remove"===I){this[T?"$wrapData":"$rowLengthCache"].splice(P,W);var X=this.$foldData;z=this.getFoldsInRange(C),this.removeFolds(z);var Q=0;if(K=this.getFoldLine(F.row)){K.addRemoveChars(F.row,F.column,$.column-F.column),K.shiftRow(-W);var oe=this.getFoldLine(P);oe&&oe!==K&&(oe.merge(K),K=oe),Q=X.indexOf(K)+1}for(;Q<X.length;Q++)(K=X[Q]).start.row>=F.row&&K.shiftRow(-W);U=P}else{var re=Array(W);re.unshift(P,0);var G=T?this.$wrapData:this.$rowLengthCache;if(G.splice.apply(G,re),X=this.$foldData,Q=0,K=this.getFoldLine(P)){var ie=K.range.compareInside($.row,$.column);0==ie?(K=K.split($.row,$.column))&&(K.shiftRow(W),K.addRemoveChars(U,0,F.column-$.column)):-1==ie&&(K.addRemoveChars(P,0,F.column-$.column),K.shiftRow(W)),Q=X.indexOf(K)+1}for(;Q<X.length;Q++){var K;(K=X[Q]).start.row>=P&&K.shiftRow(W)}}else W=Math.abs(C.start.column-C.end.column),"remove"===I&&(z=this.getFoldsInRange(C),this.removeFolds(z),W=-W),(K=this.getFoldLine(P))&&K.addRemoveChars(P,$.column,W);return T&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,T?this.$updateWrapData(P,U):this.$updateRowLengthCache(P,U),z},this.$updateRowLengthCache=function(C,T,I){this.$rowLengthCache[C]=null,this.$rowLengthCache[T]=null},this.$updateWrapData=function(C,T){var U,W,I=this.doc.getAllLines(),$=this.getTabSize(),F=this.$wrapData,P=this.$wrapLimit,z=C;for(T=Math.min(T,I.length-1);z<=T;)(W=this.getFoldLine(z,W))?(U=[],W.walk(function(X,K,Q,oe){var re;if(null!=X){(re=this.$getDisplayTokens(X,U.length))[0]=E;for(var G=1;G<re.length;G++)re[G]=D}else re=this.$getDisplayTokens(I[K].substring(oe,Q),U.length);U=U.concat(re)}.bind(this),W.end.row,I[W.end.row].length+1),F[W.start.row]=this.$computeWrapSplits(U,P,$),z=W.end.row+1):(U=this.$getDisplayTokens(I[z]),F[z]=this.$computeWrapSplits(U,P,$),z++)};var E=3,D=4;function M(C){return!(C<4352)&&(C>=4352&&C<=4447||C>=4515&&C<=4519||C>=4602&&C<=4607||C>=9001&&C<=9002||C>=11904&&C<=11929||C>=11931&&C<=12019||C>=12032&&C<=12245||C>=12272&&C<=12283||C>=12288&&C<=12350||C>=12353&&C<=12438||C>=12441&&C<=12543||C>=12549&&C<=12589||C>=12593&&C<=12686||C>=12688&&C<=12730||C>=12736&&C<=12771||C>=12784&&C<=12830||C>=12832&&C<=12871||C>=12880&&C<=13054||C>=13056&&C<=19903||C>=19968&&C<=42124||C>=42128&&C<=42182||C>=43360&&C<=43388||C>=44032&&C<=55203||C>=55216&&C<=55238||C>=55243&&C<=55291||C>=63744&&C<=64255||C>=65040&&C<=65049||C>=65072&&C<=65106||C>=65108&&C<=65126||C>=65128&&C<=65131||C>=65281&&C<=65376||C>=65504&&C<=65510)}this.$computeWrapSplits=function(C,T,I){if(0==C.length)return[];var $=[],F=C.length,P=0,U=0,W=this.$wrapAsCode,z=this.$indentedSoftWrap,X=T<=Math.max(2*I,8)||!1===z?0:Math.floor(T/2);function Q(ie){for(var Y=ie-P,ee=P;ee<ie;ee++){var Z=C[ee];(12===Z||2===Z)&&(Y-=1)}$.length||(oe=function K(){var ie=0;if(0===X)return ie;if(z)for(var Y=0;Y<C.length;Y++){var ee=C[Y];if(10==ee)ie+=1;else{if(11!=ee){if(12==ee)continue;break}ie+=I}}return W&&!1!==z&&(ie+=I),Math.min(ie,X)}(),$.indent=oe),$.push(U+=Y),P=ie}for(var oe=0;F-P>T-oe;){var re=P+T-oe;if(C[re-1]>=10&&C[re]>=10)Q(re);else if(C[re]!=E&&C[re]!=D){for(var G=Math.max(re-(T-(T>>2)),P-1);re>G&&C[re]<E;)re--;if(W){for(;re>G&&C[re]<E;)re--;for(;re>G&&9==C[re];)re--}else for(;re>G&&C[re]<10;)re--;re>G?Q(++re):(2==C[re=P+T]&&re--,Q(re-oe))}else{for(;re!=P-1&&C[re]!=E;re--);if(re>P){Q(re);continue}for(re=P+T;re<C.length&&C[re]==D;re++);if(re==C.length)break;Q(re)}}return $},this.$getDisplayTokens=function(C,T){var $,I=[];T=T||0;for(var F=0;F<C.length;F++){var P=C.charCodeAt(F);if(9==P){$=this.getScreenTabSize(I.length+T),I.push(11);for(var U=1;U<$;U++)I.push(12)}else 32==P?I.push(10):P>39&&P<48||P>57&&P<64?I.push(9):P>=4352&&M(P)?I.push(1,2):I.push(1)}return I},this.$getStringScreenWidth=function(C,T,I){if(0==T)return[0,0];var $,F;for(null==T&&(T=1/0),I=I||0,F=0;F<C.length&&(9==($=C.charCodeAt(F))?I+=this.getScreenTabSize(I):$>=4352&&M($)?I+=2:I+=1,!(I>T));F++);return[I,F]},this.lineWidgets=null,this.getRowLength=function(C){var T=1;return this.lineWidgets&&(T+=this.lineWidgets[C]&&this.lineWidgets[C].rowCount||0),this.$useWrapMode&&this.$wrapData[C]?this.$wrapData[C].length+T:T},this.getRowLineCount=function(C){return this.$useWrapMode&&this.$wrapData[C]?this.$wrapData[C].length+1:1},this.getRowWrapIndent=function(C){if(this.$useWrapMode){var T=this.screenToDocumentPosition(C,Number.MAX_VALUE),I=this.$wrapData[T.row];return I.length&&I[0]<T.column?I.indent:0}return 0},this.getScreenLastRowColumn=function(C){var T=this.screenToDocumentPosition(C,Number.MAX_VALUE);return this.documentToScreenColumn(T.row,T.column)},this.getDocumentLastRowColumn=function(C,T){var I=this.documentToScreenRow(C,T);return this.getScreenLastRowColumn(I)},this.getDocumentLastRowColumnPosition=function(C,T){var I=this.documentToScreenRow(C,T);return this.screenToDocumentPosition(I,Number.MAX_VALUE/10)},this.getRowSplitData=function(C){if(this.$useWrapMode)return this.$wrapData[C]},this.getScreenTabSize=function(C){return this.$tabSize-(C%this.$tabSize|0)},this.screenToDocumentRow=function(C,T){return this.screenToDocumentPosition(C,T).row},this.screenToDocumentColumn=function(C,T){return this.screenToDocumentPosition(C,T).column},this.screenToDocumentPosition=function(C,T,I){if(C<0)return{row:0,column:0};var $,U,F=0,P=0,W=0,z=0,X=this.$screenRowCache,K=this.$getRowCacheIndex(X,C),Q=X.length;if(Q&&K>=0){W=X[K],F=this.$docRowCache[K];var oe=C>X[Q-1]}else oe=!Q;for(var re=this.getLength()-1,G=this.getNextFoldLine(F),ie=G?G.start.row:1/0;W<=C&&!(W+(z=this.getRowLength(F))>C||F>=re);)W+=z,++F>ie&&(ie=(G=this.getNextFoldLine(F=G.end.row+1,G))?G.start.row:1/0),oe&&(this.$docRowCache.push(F),this.$screenRowCache.push(W));if(G&&G.start.row<=F)$=this.getFoldDisplayLine(G),F=G.start.row;else{if(W+z<=C||F>re)return{row:re,column:this.getLine(re).length};$=this.getLine(F),G=null}var Y=0,ee=Math.floor(C-W);if(this.$useWrapMode){var Z=this.$wrapData[F];Z&&(U=Z[ee],ee>0&&Z.length&&(Y=Z.indent,$=$.substring(P=Z[ee-1]||Z[Z.length-1])))}return void 0!==I&&this.$bidiHandler.isBidiRow(W+ee,F,ee)&&(T=this.$bidiHandler.offsetToCol(I)),P+=this.$getStringScreenWidth($,T-Y)[1],this.$useWrapMode&&P>=U&&(P=U-1),G?G.idxToPosition(P):{row:F,column:P}},this.documentToScreenPosition=function(C,T){if(void 0===T)var I=this.$clipPositionToDocument(C.row,C.column);else I=this.$clipPositionToDocument(C,T);var P,$=0,F=null;(P=this.getFoldAt(C=I.row,T=I.column,1))&&(C=P.start.row,T=P.start.column);var U,W=0,z=this.$docRowCache,X=this.$getRowCacheIndex(z,C),K=z.length;if(K&&X>=0){W=z[X],$=this.$screenRowCache[X];var Q=C>z[K-1]}else Q=!K;for(var oe=this.getNextFoldLine(W),re=oe?oe.start.row:1/0;W<C;){if(W>=re){if((U=oe.end.row+1)>C)break;re=(oe=this.getNextFoldLine(U,oe))?oe.start.row:1/0}else U=W+1;$+=this.getRowLength(W),W=U,Q&&(this.$docRowCache.push(W),this.$screenRowCache.push($))}var G="";oe&&W>=re?(G=this.getFoldDisplayLine(oe,C,T),F=oe.start.row):(G=this.getLine(C).substring(0,T),F=C);var ie=0;if(this.$useWrapMode){var Y=this.$wrapData[F];if(Y){for(var ee=0;G.length>=Y[ee];)$++,ee++;G=G.substring(Y[ee-1]||0,G.length),ie=ee>0?Y.indent:0}}return this.lineWidgets&&this.lineWidgets[W]&&this.lineWidgets[W].rowsAbove&&($+=this.lineWidgets[W].rowsAbove),{row:$,column:ie+this.$getStringScreenWidth(G)[0]}},this.documentToScreenColumn=function(C,T){return this.documentToScreenPosition(C,T).column},this.documentToScreenRow=function(C,T){return this.documentToScreenPosition(C,T).row},this.getScreenLength=function(){var C=0,T=null;if(this.$useWrapMode)for(var F=this.$wrapData.length,P=0,$=0,U=(T=this.$foldData[$++])?T.start.row:1/0;P<F;){var W=this.$wrapData[P];C+=W?W.length+1:1,++P>U&&(P=T.end.row+1,U=(T=this.$foldData[$++])?T.start.row:1/0)}else{C=this.getLength();var I=this.$foldData;for($=0;$<I.length;$++)C-=(T=I[$]).end.row-T.start.row}return this.lineWidgets&&(C+=this.$getWidgetScreenLength()),C},this.$setFontMetrics=function(C){!this.$enableVarChar||(this.$getStringScreenWidth=function(T,I,$){if(0===I)return[0,0];var F,P;for(I||(I=1/0),$=$||0,P=0;P<T.length&&!(($+="\t"===(F=T.charAt(P))?this.getScreenTabSize($):C.getCharacterWidth(F))>I);P++);return[$,P]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=M}.call(h.prototype),N("./edit_session/folding").Folding.call(h.prototype),N("./edit_session/bracket_match").BracketMatch.call(h.prototype),y.defineOptions(h.prototype,"session",{wrap:{set:function(_){if(_&&"off"!=_?"free"==_?_=!0:"printMargin"==_?_=-1:"string"==typeof _&&(_=parseInt(_,10)||!1):_=!1,this.$wrap!=_)if(this.$wrap=_,_){var E="number"==typeof _?_:null;this.setWrapLimitRange(E,E),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(_){(_="auto"==_?"text"!=this.$mode.type:"text"!=_)!=this.$wrapAsCode&&(this.$wrapAsCode=_,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(_){this.$useWorker=_,this.$stopWorker(),_&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(_){(_=parseInt(_))>0&&this.$tabSize!==_&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=_,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(_){this.setFoldStyle(_)},handlesSet:!0},overwrite:{set:function(_){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(_){this.doc.setNewLineMode(_)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(_){this.setMode(_)},get:function(){return this.$modeId},handlesSet:!0}}),H.EditSession=h}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(N,H,x){"use strict";var O=N("./lib/lang"),w=N("./lib/oop"),g=N("./range").Range,y=function(){this.$options={}};(function(){this.set=function(f){return w.mixin(this.$options,f),this},this.getOptions=function(){return O.copyObject(this.$options)},this.setOptions=function(f){this.$options=f},this.find=function(f){var s=this.$options,a=this.$matchIterator(f,s);if(!a)return!1;var u=null;return a.forEach(function(c,d,h,p){return u=new g(c,d,h,p),!(d==p&&s.start&&s.start.start&&0!=s.skipCurrent&&u.isEqual(s.start)&&(u=null,1))}),u},this.findAll=function(f){var s=this.$options;if(!s.needle)return[];this.$assembleRegExp(s);var a=s.range,u=a?f.getLines(a.start.row,a.end.row):f.doc.getAllLines(),c=[],d=s.re;if(s.$isMultiLine){var _,h=d.length,p=u.length-h;e:for(var E=d.offset||0;E<=p;E++){for(var D=0;D<h;D++)if(-1==u[E+D].search(d[D]))continue e;var b=u[E],R=u[E+h-1],k=b.length-b.match(d[0])[0].length,S=R.match(d[h-1])[0].length;_&&_.end.row===E&&_.end.column>k||(c.push(_=new g(E,k,E+h-1,S)),h>2&&(E=E+h-2))}}else for(var M=0;M<u.length;M++){var C=O.getMatchOffsets(u[M],d);for(D=0;D<C.length;D++){var T=C[D];c.push(new g(M,T.offset,M,T.offset+T.length))}}if(a){var I=a.start.column,$=a.start.column;for(M=0,D=c.length-1;M<D&&c[M].start.column<I&&c[M].start.row==a.start.row;)M++;for(;M<D&&c[D].end.column>$&&c[D].end.row==a.end.row;)D--;for(c=c.slice(M,D+1),M=0,D=c.length;M<D;M++)c[M].start.row+=a.start.row,c[M].end.row+=a.start.row}return c},this.replace=function(f,s){var a=this.$options,u=this.$assembleRegExp(a);if(a.$isMultiLine)return s;if(u){var c=u.exec(f);if(!c||c[0].length!=f.length)return null;if(s=f.replace(u,s),a.preserveCase){s=s.split("");for(var d=Math.min(f.length,f.length);d--;){var h=f[d];s[d]=h&&h.toLowerCase()!=h?s[d].toUpperCase():s[d].toLowerCase()}s=s.join("")}return s}},this.$assembleRegExp=function(f,s){if(f.needle instanceof RegExp)return f.re=f.needle;var a=f.needle;if(!f.needle)return f.re=!1;f.regExp||(a=O.escapeRegExp(a)),f.wholeWord&&(a=function v(f,s){function a(u){return/\w/.test(u)||s.regExp?"\\b":""}return a(f[0])+f+a(f[f.length-1])}(a,f));var u=f.caseSensitive?"gm":"gmi";if(f.$isMultiLine=!s&&/[\n\r]/.test(a),f.$isMultiLine)return f.re=this.$assembleMultilineRegExp(a,u);try{var c=new RegExp(a,u)}catch(d){c=!1}return f.re=c},this.$assembleMultilineRegExp=function(f,s){for(var a=f.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),u=[],c=0;c<a.length;c++)try{u.push(new RegExp(a[c],s))}catch(d){return!1}return u},this.$matchIterator=function(f,s){var a=this.$assembleRegExp(s);if(!a)return!1;var u=1==s.backwards,c=0!=s.skipCurrent,d=s.range,h=s.start;h||(h=d?d[u?"end":"start"]:f.selection.getRange()),h.start&&(h=h[c!=u?"end":"start"]);var p=d?d.start.row:0,_=d?d.end.row:f.getLength()-1;if(u)var E=function(k){var S=h.row;if(!b(S,h.column,k)){for(S--;S>=p;S--)if(b(S,Number.MAX_VALUE,k))return;if(0!=s.wrap)for(S=_,p=h.row;S>=p;S--)if(b(S,Number.MAX_VALUE,k))return}};else E=function(S){var M=h.row;if(!b(M,h.column,S)){for(M+=1;M<=_;M++)if(b(M,0,S))return;if(0!=s.wrap)for(M=p,_=h.row;M<=_;M++)if(b(M,0,S))return}};if(s.$isMultiLine)var D=a.length,b=function(k,S,M){var C=u?k-D+1:k;if(!(C<0||C+D>f.getLength())){var T=f.getLine(C),I=T.search(a[0]);if(!(!u&&I<S||-1===I)){for(var $=1;$<D;$++)if(-1==(T=f.getLine(C+$)).search(a[$]))return;var F=T.match(a[D-1])[0].length;if(!(u&&F>S)&&M(C,I,C+D-1,F))return!0}}};else b=u?function(S,M,C){var $,T=f.getLine(S),I=[],F=0;for(a.lastIndex=0;$=a.exec(T);){if(F=$.index,!(P=$[0].length)){if(F>=T.length)break;a.lastIndex=F+=1}if($.index+P>M)break;I.push($.index,P)}for(var U=I.length-1;U>=0;U-=2){var P,W=I[U-1];if(C(S,W,S,W+(P=I[U])))return!0}}:function(S,M,C){var I,$,T=f.getLine(S);for(a.lastIndex=M;$=a.exec(T);){var F=$[0].length;if(C(S,I=$.index,S,I+F))return!0;if(!F&&(a.lastIndex=I+=1,I>=T.length))return!1}};return{forEach:E}}}).call(y.prototype),H.Search=y}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(N,H,x){"use strict";var O=N("../lib/keys"),w=N("../lib/useragent"),g=O.KEY_MODS;function y(f,s){this.platform=s||(w.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(f),this.$singleCommand=!0}function v(f,s){y.call(this,f,s),this.$singleCommand=!1}v.prototype=y.prototype,function(){function f(s){return"object"==typeof s&&s.bindKey&&s.bindKey.position||(s.isDefault?-100:0)}this.addCommand=function(s){this.commands[s.name]&&this.removeCommand(s),this.commands[s.name]=s,s.bindKey&&this._buildKeyHash(s)},this.removeCommand=function(s,a){var u=s&&("string"==typeof s?s:s.name);s=this.commands[u],a||delete this.commands[u];var c=this.commandKeyBinding;for(var d in c){var h=c[d];if(h==s)delete c[d];else if(Array.isArray(h)){var p=h.indexOf(s);-1!=p&&(h.splice(p,1),1==h.length&&(c[d]=h[0]))}}},this.bindKey=function(s,a,u){if("object"==typeof s&&s&&(null==u&&(u=s.position),s=s[this.platform]),s){if("function"==typeof a)return this.addCommand({exec:a,bindKey:s,name:a.name||s});s.split("|").forEach(function(c){var d="";if(-1!=c.indexOf(" ")){var h=c.split(/\s+/);c=h.pop(),h.forEach(function(E){var D=this.parseKeys(E);this._addCommandToBinding(d+=(d?" ":"")+(g[D.hashId]+D.key),"chainKeys")},this),d+=" "}var p=this.parseKeys(c);this._addCommandToBinding(d+(g[p.hashId]+p.key),a,u)},this)}},this._addCommandToBinding=function(s,a,u){var d,c=this.commandKeyBinding;if(a)if(!c[s]||this.$singleCommand)c[s]=a;else{Array.isArray(c[s])?-1!=(d=c[s].indexOf(a))&&c[s].splice(d,1):c[s]=[c[s]],"number"!=typeof u&&(u=f(a));var h=c[s];for(d=0;d<h.length&&!(f(h[d])>u);d++);h.splice(d,0,a)}else delete c[s]},this.addCommands=function(s){s&&Object.keys(s).forEach(function(a){var u=s[a];if(u){if("string"==typeof u)return this.bindKey(u,a);"function"==typeof u&&(u={exec:u}),"object"==typeof u&&(u.name||(u.name=a),this.addCommand(u))}},this)},this.removeCommands=function(s){Object.keys(s).forEach(function(a){this.removeCommand(s[a])},this)},this.bindKeys=function(s){Object.keys(s).forEach(function(a){this.bindKey(a,s[a])},this)},this._buildKeyHash=function(s){this.bindKey(s.bindKey,s)},this.parseKeys=function(s){var a=s.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(_){return _}),u=a.pop(),c=O[u];if(O.FUNCTION_KEYS[c])u=O.FUNCTION_KEYS[c].toLowerCase();else{if(!a.length)return{key:u,hashId:-1};if(1==a.length&&"shift"==a[0])return{key:u.toUpperCase(),hashId:-1}}for(var d=0,h=a.length;h--;){var p=O.KEY_MODS[a[h]];if(null==p)return"undefined"!=typeof console&&console.error("invalid modifier "+a[h]+" in "+s),!1;d|=p}return{key:u,hashId:d}},this.findKeyCommand=function(a,u){return this.commandKeyBinding[g[a]+u]},this.handleKeyboard=function(s,a,u,c){if(!(c<0)){var d=g[a]+u,h=this.commandKeyBinding[d];return s.$keyChain&&(s.$keyChain+=" "+d,h=this.commandKeyBinding[s.$keyChain]||h),!h||"chainKeys"!=h&&"chainKeys"!=h[h.length-1]?(s.$keyChain&&(a&&4!=a||1!=u.length?(-1==a||c>0)&&(s.$keyChain=""):s.$keyChain=s.$keyChain.slice(0,-d.length-1)),{command:h}):(s.$keyChain=s.$keyChain||d,{command:"null"})}},this.getStatusText=function(s,a){return a.$keyChain||""}}.call(y.prototype),H.HashHandler=y,H.MultiHashHandler=v}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(N,H,x){"use strict";var O=N("../lib/oop"),w=N("../keyboard/hash_handler").MultiHashHandler,g=N("../lib/event_emitter").EventEmitter,y=function(f,s){w.call(this,s,f),this.byName=this.commands,this.setDefaultHandler("exec",function(a){return a.command.exec(a.editor,a.args||{})})};O.inherits(y,w),function(){O.implement(this,g),this.exec=function(v,f,s){if(Array.isArray(v)){for(var a=v.length;a--;)if(this.exec(v[a],f,s))return!0;return!1}if("string"==typeof v&&(v=this.commands[v]),!v||f&&f.$readOnly&&!v.readOnly||0!=this.$checkCommandState&&v.isAvailable&&!v.isAvailable(f))return!1;var u={editor:f,command:v,args:s};return u.returnValue=this._emit("exec",u),this._signal("afterExec",u),!1!==u.returnValue},this.toggleRecording=function(v){if(!this.$inReplay)return v&&v._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(f){this.macro.push([f.command,f.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(v){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(v);try{this.$inReplay=!0,this.macro.forEach(function(f){"string"==typeof f?this.exec(f,v):this.exec(f[0],v,f[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(v){return v.map(function(f){return"string"!=typeof f[0]&&(f[0]=f[0].name),f[1]||(f=f[0]),f})}}.call(y.prototype),H.CommandManager=y}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(N,H,x){"use strict";var O=N("../lib/lang"),w=N("../config"),g=N("../range").Range;function y(f,s){return{win:f,mac:s}}H.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:y("Ctrl-,","Command-,"),exec:function(s){w.loadModule("ace/ext/settings_menu",function(a){a.init(s),s.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:y("Alt-E","F4"),exec:function(s){w.loadModule("./ext/error_marker",function(a){a.showErrorMarker(s,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:y("Alt-Shift-E","Shift-F4"),exec:function(s){w.loadModule("./ext/error_marker",function(a){a.showErrorMarker(s,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:y("Ctrl-A","Command-A"),exec:function(s){s.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:y(null,"Ctrl-L"),exec:function(s){s.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:y("Ctrl-L","Command-L"),exec:function(s,a){"number"==typeof a&&!isNaN(a)&&s.gotoLine(a),s.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:y("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(s){s.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:y("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(s){s.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:y("F2","F2"),exec:function(s){s.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:y("Alt-F2","Alt-F2"),exec:function(s){s.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:y(null,"Ctrl-Command-Option-0"),exec:function(s){s.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:y(null,"Ctrl-Command-Option-0"),exec:function(s){s.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:y("Alt-0","Command-Option-0"),exec:function(s){s.session.foldAll(),s.session.unfold(s.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:y("Alt-Shift-0","Command-Option-Shift-0"),exec:function(s){s.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:y("Ctrl-K","Command-G"),exec:function(s){s.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:y("Ctrl-Shift-K","Command-Shift-G"),exec:function(s){s.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:y("Alt-K","Ctrl-G"),exec:function(s){s.selection.isEmpty()?s.selection.selectWord():s.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:y("Alt-Shift-K","Ctrl-Shift-G"),exec:function(s){s.selection.isEmpty()?s.selection.selectWord():s.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:y("Ctrl-F","Command-F"),exec:function(s){w.loadModule("ace/ext/searchbox",function(a){a.Search(s)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(s){s.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:y("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(s){s.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:y("Ctrl-Home","Command-Home|Command-Up"),exec:function(s){s.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:y("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(s){s.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:y("Up","Up|Ctrl-P"),exec:function(s,a){s.navigateUp(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:y("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(s){s.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:y("Ctrl-End","Command-End|Command-Down"),exec:function(s){s.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:y("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(s){s.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:y("Down","Down|Ctrl-N"),exec:function(s,a){s.navigateDown(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:y("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(s){s.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:y("Ctrl-Left","Option-Left"),exec:function(s){s.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:y("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(s){s.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:y("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(s){s.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:y("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(s){s.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:y("Left","Left|Ctrl-B"),exec:function(s,a){s.navigateLeft(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:y("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(s){s.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:y("Ctrl-Right","Option-Right"),exec:function(s){s.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:y("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(s){s.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:y("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(s){s.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:y("Shift-Right","Shift-Right"),exec:function(s){s.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:y("Right","Right|Ctrl-F"),exec:function(s,a){s.navigateRight(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(s){s.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:y(null,"Option-PageDown"),exec:function(s){s.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:y("PageDown","PageDown|Ctrl-V"),exec:function(s){s.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(s){s.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:y(null,"Option-PageUp"),exec:function(s){s.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(s){s.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:y("Ctrl-Up",null),exec:function(s){s.renderer.scrollBy(0,-2*s.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:y("Ctrl-Down",null),exec:function(s){s.renderer.scrollBy(0,2*s.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(s){s.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(s){s.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:y("Ctrl-Alt-E","Command-Option-E"),exec:function(s){s.commands.toggleRecording(s)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:y("Ctrl-Shift-E","Command-Shift-E"),exec:function(s){s.commands.replay(s)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:y("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(s){s.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:y("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(s){s.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:y("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(s){s.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:y(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(s){},readOnly:!0},{name:"cut",description:"Cut",exec:function(s){var u=s.$copyWithEmptySelection&&s.selection.isEmpty()?s.selection.getLineRange():s.selection.getRange();s._emit("cut",u),u.isEmpty()||s.session.remove(u),s.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(s,a){s.$handlePaste(a)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:y("Ctrl-D","Command-D"),exec:function(s){s.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:y("Ctrl-Shift-D","Command-Shift-D"),exec:function(s){s.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:y("Ctrl-Alt-S","Command-Alt-S"),exec:function(s){s.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:y("Ctrl-/","Command-/"),exec:function(s){s.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:y("Ctrl-Shift-/","Command-Shift-/"),exec:function(s){s.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:y("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(s){s.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:y("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(s){s.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:y("Ctrl-H","Command-Option-F"),exec:function(s){w.loadModule("ace/ext/searchbox",function(a){a.Search(s,!0)})}},{name:"undo",description:"Undo",bindKey:y("Ctrl-Z","Command-Z"),exec:function(s){s.undo()}},{name:"redo",description:"Redo",bindKey:y("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(s){s.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:y("Alt-Shift-Up","Command-Option-Up"),exec:function(s){s.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:y("Alt-Up","Option-Up"),exec:function(s){s.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:y("Alt-Shift-Down","Command-Option-Down"),exec:function(s){s.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:y("Alt-Down","Option-Down"),exec:function(s){s.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:y("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(s){s.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:y("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(s){s.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:y("Shift-Delete",null),exec:function(s){if(!s.selection.isEmpty())return!1;s.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:y("Alt-Backspace","Command-Backspace"),exec:function(s){s.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:y("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(s){s.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:y("Ctrl-Shift-Backspace",null),exec:function(s){var a=s.selection.getRange();a.start.column=0,s.session.remove(a)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:y("Ctrl-Shift-Delete",null),exec:function(s){var a=s.selection.getRange();a.end.column=Number.MAX_VALUE,s.session.remove(a)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:y("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(s){s.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:y("Ctrl-Delete","Alt-Delete"),exec:function(s){s.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:y("Shift-Tab","Shift-Tab"),exec:function(s){s.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:y("Tab","Tab"),exec:function(s){s.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:y("Ctrl-[","Ctrl-["),exec:function(s){s.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:y("Ctrl-]","Ctrl-]"),exec:function(s){s.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(s,a){s.insert(a)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(s,a){s.insert(O.stringRepeat(a.text||"",a.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:y(null,"Ctrl-O"),exec:function(s){s.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:y("Alt-Shift-X","Ctrl-T"),exec:function(s){s.transposeLetters()},multiSelectAction:function(s){s.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:y("Ctrl-U","Ctrl-U"),exec:function(s){s.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:y("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(s){s.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:y(null,null),exec:function(s){s.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:y("Ctrl-Shift-L","Command-Shift-L"),exec:function(s){var a=s.selection.getRange();a.start.column=a.end.column=0,a.end.row++,s.selection.setRange(a,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:y(null,null),exec:function(s){for(var a=s.selection.isBackwards(),u=a?s.selection.getSelectionLead():s.selection.getSelectionAnchor(),c=a?s.selection.getSelectionAnchor():s.selection.getSelectionLead(),d=s.session.doc.getLine(u.row).length,p=s.session.doc.getTextRange(s.selection.getRange()).replace(/\n\s*/," ").length,_=s.session.doc.getLine(u.row),E=u.row+1;E<=c.row+1;E++){var D=O.stringTrimLeft(O.stringTrimRight(s.session.doc.getLine(E)));0!==D.length&&(D=" "+D),_+=D}c.row+1<s.session.doc.getLength()-1&&(_+=s.session.doc.getNewLineCharacter()),s.clearSelection(),s.session.doc.replace(new g(u.row,0,c.row+2,0),_),p>0?(s.selection.moveCursorTo(u.row,u.column),s.selection.selectTo(u.row,u.column+p)):(d=s.session.doc.getLine(u.row).length>d?d+1:d,s.selection.moveCursorTo(u.row,d))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:y(null,null),exec:function(s){var a=s.session.doc.getLength()-1,u=s.session.doc.getLine(a).length,c=s.selection.rangeList.ranges,d=[];c.length<1&&(c=[s.selection.getRange()]);for(var h=0;h<c.length;h++)h==c.length-1&&(c[h].end.row===a&&c[h].end.column===u||d.push(new g(c[h].end.row,c[h].end.column,a,u))),0===h?0===c[h].start.row&&0===c[h].start.column||d.push(new g(0,0,c[h].start.row,c[h].start.column)):d.push(new g(c[h-1].end.row,c[h-1].end.column,c[h].start.row,c[h].start.column));for(s.exitMultiSelectMode(),s.clearSelection(),h=0;h<d.length;h++)s.selection.addRange(d[h],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(s){s.selection.clearSelection(),s.navigateLineEnd(),s.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(s){s.selection.clearSelection();var a=s.getCursorPosition();s.selection.moveTo(a.row-1,Number.MAX_VALUE),s.insert("\n"),0===a.row&&s.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:y("F1","F1"),exec:function(s){s.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:y(null,null),exec:function(s){s.prompt({$type:"modes"})},readOnly:!0}];for(var v=1;v<9;v++)H.commands.push({name:"foldToLevel"+v,description:"Fold To Level "+v,level:v,exec:function(s){s.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(N,H,x){"use strict";N("./lib/fixoldbrowsers");var O=N("./lib/oop"),w=N("./lib/dom"),g=N("./lib/lang"),y=N("./lib/useragent"),v=N("./keyboard/textinput").TextInput,f=N("./mouse/mouse_handler").MouseHandler,s=N("./mouse/fold_handler").FoldHandler,a=N("./keyboard/keybinding").KeyBinding,u=N("./edit_session").EditSession,c=N("./search").Search,d=N("./range").Range,h=N("./lib/event_emitter").EventEmitter,p=N("./commands/command_manager").CommandManager,_=N("./commands/default_commands").commands,E=N("./config"),D=N("./token_iterator").TokenIterator,b=N("./clipboard"),R=function S(M,C,T){this.$toDestroy=[];var I=M.getContainerElement();this.container=I,this.renderer=M,this.id="editor"+ ++S.$uid,this.commands=new p(y.isMac?"mac":"win",_),"object"==typeof document&&(this.textInput=new v(M.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new f(this),new s(this)),this.keyBinding=new a(this),this.$search=(new c).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=g.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function($,F){F._$emitInputEvent.schedule(31)}),this.setSession(C||T&&T.session||new u("")),E.resetOptions(this),T&&this.setOptions(T),E._signal("editor",this)};R.$uid=0,function(){O.implement(this,h),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=g.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(S){if(this.curOp){if(!S||this.curOp.command)return;this.prevOp=this.curOp}S||(this.previousCommand=null,S={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:S.command||{},args:S.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(S){if(this.curOp&&this.session){if(S&&!1===S.returnValue||!this.session)return this.curOp=null;if(1==S&&this.curOp.command&&"mouse"==this.curOp.command.name||(this._signal("beforeEndOperation"),!this.curOp))return;var M=this.curOp.command,C=M&&M.scrollIntoView;if(C){switch(C){case"center-animate":C="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var T=this.selection.getRange(),I=this.renderer.layerConfig;(T.start.row>=I.lastRow||T.end.row<=I.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==C&&this.renderer.animateScrolling(this.curOp.scrollTop)}var $=this.selection.toJSON();this.curOp.selectionAfter=$,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection($),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(S){if(this.$mergeUndoDeltas){var M=this.prevOp,C=this.$mergeableCommands,T=M.command&&S.command.name==M.command.name;if("insertstring"==S.command.name){var I=S.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),T=T&&this.mergeNextCommand&&(!/\s/.test(I)||/\s/.test(M.args)),this.mergeNextCommand=!0}else T=T&&-1!==C.indexOf(S.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(T=!1),T?this.session.mergeUndoDeltas=!0:-1!==C.indexOf(S.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(S,M){if(S&&"string"==typeof S&&"ace"!=S){this.$keybindingId=S;var C=this;E.loadModule(["keybinding",S],function(T){C.$keybindingId==S&&C.keyBinding.setKeyboardHandler(T&&T.handler),M&&M()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(S),M&&M()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(S){if(this.session!=S){this.curOp&&this.endOperation(),this.curOp={};var M=this.session;if(M){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var C=this.session.getSelection();C.off("changeCursor",this.$onCursorChange),C.off("changeSelection",this.$onSelectionChange)}this.session=S,S?(this.$onDocumentChange=this.onDocumentChange.bind(this),S.on("change",this.$onDocumentChange),this.renderer.setSession(S),this.$onChangeMode=this.onChangeMode.bind(this),S.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),S.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),S.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),S.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),S.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),S.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=S.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(S)),this._signal("changeSession",{session:S,oldSession:M}),this.curOp=null,M&&M._signal("changeEditor",{oldEditor:this}),S&&S._signal("changeEditor",{editor:this}),S&&S.bgTokenizer&&S.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(S,M){return this.session.doc.setValue(S),M?1==M?this.navigateFileEnd():-1==M&&this.navigateFileStart():this.selectAll(),S},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(S){this.renderer.onResize(S)},this.setTheme=function(S,M){this.renderer.setTheme(S,M)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(S){this.renderer.setStyle(S)},this.unsetStyle=function(S){this.renderer.unsetStyle(S)},this.getFontSize=function(){return this.getOption("fontSize")||w.computedStyle(this.container).fontSize},this.setFontSize=function(S){this.setOption("fontSize",S)},this.$highlightBrackets=function(){if(!this.$highlightPending){var S=this;this.$highlightPending=!0,setTimeout(function(){S.$highlightPending=!1;var M=S.session;if(M&&M.bgTokenizer){M.$bracketHighlight&&(M.$bracketHighlight.markerIds.forEach(function(I){M.removeMarker(I)}),M.$bracketHighlight=null);var C=M.getMatchingBracketRanges(S.getCursorPosition());if(!C&&M.$mode.getMatching&&(C=M.$mode.getMatching(S.session)),C){var T="ace_bracket";Array.isArray(C)?1==C.length&&(T="ace_error_bracket"):C=[C],2==C.length&&(0==d.comparePoints(C[0].end,C[1].start)?C=[d.fromPoints(C[0].start,C[1].end)]:0==d.comparePoints(C[0].start,C[1].end)&&(C=[d.fromPoints(C[1].start,C[0].end)])),M.$bracketHighlight={ranges:C,markerIds:C.map(function(I){return M.addMarker(I,T,"text")})}}}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var S=this;this.$highlightTagPending=!0,setTimeout(function(){S.$highlightTagPending=!1;var M=S.session;if(M&&M.bgTokenizer){var C=S.getCursorPosition(),T=new D(S.session,C.row,C.column),I=T.getCurrentToken();if(!I||!/\b(?:tag-open|tag-name)/.test(I.type))return M.removeMarker(M.$tagHighlight),void(M.$tagHighlight=null);if(-1===I.type.indexOf("tag-open")||(I=T.stepForward())){var $=I.value,F=I.value,P=0,U=T.stepBackward();if("<"===U.value)do{U=I,(I=T.stepForward())&&(-1!==I.type.indexOf("tag-name")?$===(F=I.value)&&("<"===U.value?P++:"</"===U.value&&P--):$===F&&"/>"===I.value&&P--)}while(I&&P>=0);else{do{if(I=U,U=T.stepBackward(),I)if(-1!==I.type.indexOf("tag-name"))$===I.value&&("<"===U.value?P++:"</"===U.value&&P--);else if("/>"===I.value){for(var W=0,z=U;z;){if(-1!==z.type.indexOf("tag-name")&&z.value===$){P--;break}if("<"===z.value)break;z=T.stepBackward(),W++}for(var X=0;X<W;X++)T.stepForward()}}while(U&&P<=0);T.stepForward()}if(!I)return M.removeMarker(M.$tagHighlight),void(M.$tagHighlight=null);var K=T.getCurrentTokenRow(),Q=T.getCurrentTokenColumn(),oe=new d(K,Q,K,Q+I.value.length),re=M.$backMarkers[M.$tagHighlight];M.$tagHighlight&&null!=re&&0!==oe.compareRange(re.range)&&(M.removeMarker(M.$tagHighlight),M.$tagHighlight=null),M.$tagHighlight||(M.$tagHighlight=M.addMarker(oe,"ace_bracket","text"))}}},50)}},this.focus=function(){var S=this;setTimeout(function(){S.isFocused()||S.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(S){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",S))},this.onBlur=function(S){!this.$isFocused||(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",S))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(S){this.renderer.updateLines(S.start.row,S.start.row==S.end.row?S.end.row:1/0,this.session.$useWrapMode),this._signal("change",S),this.$cursorChange()},this.onTokenizerUpdate=function(S){var M=S.data;this.renderer.updateLines(M.first,M.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var M,S=this.getSession();if(this.$highlightActiveLine&&(("line"!=this.$selectionStyle||!this.selection.isMultiLine())&&(M=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(M=!1),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(M=!1)),S.$highlightLineMarker&&!M)S.removeMarker(S.$highlightLineMarker.id),S.$highlightLineMarker=null;else if(!S.$highlightLineMarker&&M){var C=new d(M.row,M.column,M.row,1/0);C.id=S.addMarker(C,"ace_active-line","screenLine"),S.$highlightLineMarker=C}else M&&(S.$highlightLineMarker.start.row=M.row,S.$highlightLineMarker.end.row=M.row,S.$highlightLineMarker.start.column=M.column,S._signal("changeBackMarker"))},this.onSelectionChange=function(S){var M=this.session;if(M.$selectionMarker&&M.removeMarker(M.$selectionMarker),M.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var C=this.selection.getRange(),T=this.getSelectionStyle();M.$selectionMarker=M.addMarker(C,"ace_selection",T)}var I=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(I),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var S=this.session,M=this.getSelectionRange();if(!M.isEmpty()&&!M.isMultiLine()){var C=M.start.column,T=M.end.column,I=S.getLine(M.start.row),$=I.substring(C,T);if(!($.length>5e3)&&/[\w\d]/.test($)){var F=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:$}),P=I.substring(C-1,T+1);if(F.test(P))return F}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(S){this.renderer.updateText(),this._emit("changeMode",S)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var S=this.getSelectedText(),M=this.session.doc.getNewLineCharacter(),C=!1;if(!S&&this.$copyWithEmptySelection){C=!0;for(var T=this.selection.getAllRanges(),I=0;I<T.length;I++){var $=T[I];I&&T[I-1].start.row==$.start.row||(S+=this.session.getLine($.start.row)+M)}}var F={text:S};return this._signal("copy",F),b.lineMode=!!C&&F.text,F.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(S,M){this.commands.exec("paste",this,{text:S,event:M})},this.$handlePaste=function(S){"string"==typeof S&&(S={text:S}),this._signal("paste",S);var M=S.text,C=M===b.lineMode,T=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)C?T.insert({row:this.selection.lead.row,column:0},M):this.insert(M);else if(C)this.selection.rangeList.ranges.forEach(function(W){T.insert({row:W.start.row,column:0},M)});else{var I=M.split(/\r\n|\r|\n/),$=this.selection.rangeList.ranges;if(I.length!=$.length||!(2!=I.length||I[0]&&I[1]))return this.commands.exec("insertstring",this,M);for(var P=$.length;P--;){var U=$[P];U.isEmpty()||T.remove(U),T.insert(U.start,I[P])}}},this.execCommand=function(S,M){return this.commands.exec(S,this,M)},this.insert=function(S,M){var C=this.session,T=C.getMode(),I=this.getCursorPosition();if(this.getBehavioursEnabled()&&!M){var $=T.transformAction(C.getState(I.row),"insertion",this,C,S);$&&(S!==$.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),S=$.text)}if("\t"==S&&(S=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==S.indexOf("\n")&&((F=new d.fromPoints(I,I)).end.column+=S.length,this.session.remove(F));else{var F=this.getSelectionRange();I=this.session.remove(F),this.clearSelection()}if("\n"==S||"\r\n"==S){var z=C.getLine(I.row);if(I.column>z.search(/\S|$/)){var P=z.substr(I.column).search(/\S|$/);C.doc.removeInLine(I.row,I.column,I.column+P)}}this.clearSelection();var U=I.column,W=C.getState(I.row),X=(z=C.getLine(I.row),T.checkOutdent(W,z,S));if(C.insert(I,S),$&&$.selection&&this.selection.setSelectionRange(2==$.selection.length?new d(I.row,U+$.selection[0],I.row,U+$.selection[1]):new d(I.row+$.selection[0],$.selection[1],I.row+$.selection[2],$.selection[3])),this.$enableAutoIndent){if(C.getDocument().isNewLine(S)){var K=T.getNextLineIndent(W,z.slice(0,I.column),C.getTabString());C.insert({row:I.row+1,column:0},K)}X&&T.autoOutdent(W,C,I.row)}},this.autoIndent=function(){var C,T,S=this.session,M=S.getMode();if(this.selection.isEmpty())C=0,T=S.doc.getLength()-1;else{var I=this.getSelectionRange();C=I.start.row,T=I.end.row}for(var U,W,z,$="",F="",P="",X=S.getTabString(),K=C;K<=T;K++)K>0&&($=S.getState(K-1),F=S.getLine(K-1),P=M.getNextLineIndent($,F,X)),U=S.getLine(K),P!==(W=M.$getIndent(U))&&(W.length>0&&(z=new d(K,0,K,W.length),S.remove(z)),P.length>0&&S.insert({row:K,column:0},P)),M.autoOutdent($,S,K)},this.onTextInput=function(S,M){if(!M)return this.keyBinding.onTextInput(S);this.startOperation({command:{name:"insertstring"}});var C=this.applyComposition.bind(this,S,M);this.selection.rangeCount?this.forEachSelection(C):C(),this.endOperation()},this.applyComposition=function(S,M){var C;(M.extendLeft||M.extendRight)&&((C=this.selection.getRange()).start.column-=M.extendLeft,C.end.column+=M.extendRight,C.start.column<0&&(C.start.row--,C.start.column+=this.session.getLine(C.start.row).length+1),this.selection.setRange(C),!S&&!C.isEmpty()&&this.remove()),(S||!this.selection.isEmpty())&&this.insert(S,!0),(M.restoreStart||M.restoreEnd)&&((C=this.selection.getRange()).start.column-=M.restoreStart,C.end.column-=M.restoreEnd,this.selection.setRange(C))},this.onCommandKey=function(S,M,C){return this.keyBinding.onCommandKey(S,M,C)},this.setOverwrite=function(S){this.session.setOverwrite(S)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(S){this.setOption("scrollSpeed",S)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(S){this.setOption("dragDelay",S)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(S){this.setOption("selectionStyle",S)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(S){this.setOption("highlightActiveLine",S)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(S){this.setOption("highlightGutterLine",S)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(S){this.setOption("highlightSelectedWord",S)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(S){this.renderer.setAnimatedScroll(S)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(S){this.renderer.setShowInvisibles(S)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(S){this.renderer.setDisplayIndentGuides(S)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(S){this.renderer.setShowPrintMargin(S)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(S){this.renderer.setPrintMarginColumn(S)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(S){this.setOption("readOnly",S)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(S){this.setOption("behavioursEnabled",S)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(S){this.setOption("wrapBehavioursEnabled",S)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(S){this.setOption("showFoldWidgets",S)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(S){this.setOption("fadeFoldWidgets",S)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(S){this.selection.isEmpty()&&("left"==S?this.selection.selectLeft():this.selection.selectRight());var M=this.getSelectionRange();if(this.getBehavioursEnabled()){var C=this.session,T=C.getState(M.start.row),I=C.getMode().transformAction(T,"deletion",this,C,M);if(0===M.end.column){var $=C.getTextRange(M);if("\n"==$[$.length-1]){var F=C.getLine(M.end.row);/^\s+$/.test(F)&&(M.end.column=F.length)}}I&&(M=I)}this.session.remove(M),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var S=this.getSelectionRange();S.start.column==S.end.column&&S.start.row==S.end.row&&(S.end.column=0,S.end.row++),this.session.remove(S),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var S=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(S)},this.transposeLetters=function(){if(this.selection.isEmpty()){var S=this.getCursorPosition(),M=S.column;if(0!==M){var T,I,C=this.session.getLine(S.row);M<C.length?(T=C.charAt(M)+C.charAt(M-1),I=new d(S.row,M-1,S.row,M+1)):(T=C.charAt(M-1)+C.charAt(M-2),I=new d(S.row,M-2,S.row,M)),this.session.replace(I,T),this.session.selection.moveToPosition(I.end)}}},this.toLowerCase=function(){var S=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),C=this.session.getTextRange(M);this.session.replace(M,C.toLowerCase()),this.selection.setSelectionRange(S)},this.toUpperCase=function(){var S=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),C=this.session.getTextRange(M);this.session.replace(M,C.toUpperCase()),this.selection.setSelectionRange(S)},this.indent=function(){var S=this.session,M=this.getSelectionRange();if(!(M.start.row<M.end.row)){if(M.start.column<M.end.column){var T=S.getTextRange(M);if(!/^\s+$/.test(T))return C=this.$getSelectedRows(),void S.indentRows(C.first,C.last,"\t")}var I=S.getLine(M.start.row),$=M.start,F=S.getTabSize(),P=S.documentToScreenColumn($.row,$.column);if(this.session.getUseSoftTabs())var W=g.stringRepeat(" ",U=F-P%F);else{for(var U=P%F;" "==I[M.start.column-1]&&U;)M.start.column--,U--;this.selection.setSelectionRange(M),W="\t"}return this.insert(W)}var C=this.$getSelectedRows();S.indentRows(C.first,C.last,"\t")},this.blockIndent=function(){var S=this.$getSelectedRows();this.session.indentRows(S.first,S.last,"\t")},this.blockOutdent=function(){var S=this.session.getSelection();this.session.outdentRows(S.getRange())},this.sortLines=function(){for(var S=this.$getSelectedRows(),M=this.session,C=[],T=S.first;T<=S.last;T++)C.push(M.getLine(T));C.sort(function(F,P){return F.toLowerCase()<P.toLowerCase()?-1:F.toLowerCase()>P.toLowerCase()?1:0});var I=new d(0,0,0,0);for(T=S.first;T<=S.last;T++){var $=M.getLine(T);I.start.row=T,I.end.row=T,I.end.column=$.length,M.replace(I,C[T-S.first])}},this.toggleCommentLines=function(){var S=this.session.getState(this.getCursorPosition().row),M=this.$getSelectedRows();this.session.getMode().toggleCommentLines(S,this.session,M.first,M.last)},this.toggleBlockComment=function(){var S=this.getCursorPosition(),M=this.session.getState(S.row),C=this.getSelectionRange();this.session.getMode().toggleBlockComment(M,this.session,C,S)},this.getNumberAt=function(S,M){var C=/[\-]?[0-9]+(?:\.[0-9]+)?/g;C.lastIndex=0;for(var T=this.session.getLine(S);C.lastIndex<M;){var I=C.exec(T);if(I.index<=M&&I.index+I[0].length>=M)return{value:I[0],start:I.index,end:I.index+I[0].length}}return null},this.modifyNumber=function(S){var M=this.selection.getCursor().row,C=this.selection.getCursor().column,T=new d(M,C-1,M,C),I=this.session.getTextRange(T);if(!isNaN(parseFloat(I))&&isFinite(I)){var $=this.getNumberAt(M,C);if($){var F=$.value.indexOf(".")>=0?$.start+$.value.indexOf(".")+1:$.end,P=$.start+$.value.length-F,U=parseFloat($.value);U*=Math.pow(10,P),U+=S*=F!==$.end&&C<F?Math.pow(10,$.end-C-1):Math.pow(10,$.end-C);var W=(U/=Math.pow(10,P)).toFixed(P),z=new d(M,$.start,M,$.end);this.session.replace(z,W),this.moveCursorTo(M,Math.max($.start+1,C+W.length-$.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var S=this.selection.getCursor().row,M=this.selection.getCursor().column;this.selection.selectWord();var C=this.getSelectedText(),T=this.selection.getWordRange().start.column,I=C.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),$=M-T-1;$<0&&($=0);var F=0,P=0,U=this;C.match(/[A-Za-z0-9_]+/)&&I.forEach(function(ie,Y){P=F+ie.length,$>=F&&$<=P&&(C=ie,U.selection.clearSelection(),U.moveCursorTo(S,F+T),U.selection.selectTo(S,P+T)),F=P});for(var z,W=this.$toggleWordPairs,X=0;X<W.length;X++)for(var K=W[X],Q=0;Q<=1;Q++){var oe=+!Q,re=C.match(new RegExp("^\\s?_?("+g.escapeRegExp(K[Q])+")\\s?$","i"));re&&C.match(new RegExp("([_]|^|\\s)("+g.escapeRegExp(re[1])+")($|\\s)","g"))&&(z=C.replace(new RegExp(g.escapeRegExp(K[Q]),"i"),function(ie){var Y=K[oe];return ie.toUpperCase()==ie?Y=Y.toUpperCase():ie.charAt(0).toUpperCase()==ie.charAt(0)&&(Y=Y.substr(0,0)+K[oe].charAt(0).toUpperCase()+Y.substr(1)),Y}),this.insert(z),z="")}},this.removeLines=function(){var S=this.$getSelectedRows();this.session.removeFullLines(S.first,S.last),this.clearSelection()},this.duplicateSelection=function(){var S=this.selection,M=this.session,C=S.getRange(),T=S.isBackwards();if(C.isEmpty()){var I=C.start.row;M.duplicateLines(I,I)}else{var $=T?C.start:C.end,F=M.insert($,M.getTextRange(C),!1);C.start=$,C.end=F,S.setSelectionRange(C,T)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(S,M,C){return this.session.moveText(S,M,C)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(S,M){var C,T,I=this.selection;if(!I.inMultiSelectMode||this.inVirtualSelectionMode){var $=I.toOrientedRange();C=this.$getSelectedRows($),T=this.session.$moveLines(C.first,C.last,M?0:S),M&&-1==S&&(T=0),$.moveBy(T,0),I.fromOrientedRange($)}else{var F=I.rangeList.ranges;I.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var P=0,U=0,W=F.length,z=0;z<W;z++){var X=z;F[z].moveBy(P,0);for(var K=(C=this.$getSelectedRows(F[z])).first,Q=C.last;++z<W;){U&&F[z].moveBy(U,0);var oe=this.$getSelectedRows(F[z]);if(M&&oe.first!=Q)break;if(!M&&oe.first>Q+1)break;Q=oe.last}for(z--,P=this.session.$moveLines(K,Q,M?0:S),M&&-1==S&&(X=z+1);X<=z;)F[X].moveBy(P,0),X++;M||(P=0),U+=P}I.fromOrientedRange(I.ranges[0]),I.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(S){return S=(S||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(S.start.row),last:this.session.getRowFoldEnd(S.end.row)}},this.onCompositionStart=function(S){this.renderer.showComposition(S)},this.onCompositionUpdate=function(S){this.renderer.setCompositionText(S)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(S){return S>=this.getFirstVisibleRow()&&S<=this.getLastVisibleRow()},this.isRowFullyVisible=function(S){return S>=this.renderer.getFirstFullyVisibleRow()&&S<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(S,M){var C=this.renderer,T=this.renderer.layerConfig,I=S*Math.floor(T.height/T.lineHeight);!0===M?this.selection.$moveSelection(function(){this.moveCursorBy(I,0)}):!1===M&&(this.selection.moveCursorBy(I,0),this.selection.clearSelection());var $=C.scrollTop;C.scrollBy(0,I*T.lineHeight),null!=M&&C.scrollCursorIntoView(null,.5),C.animateScrolling($)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(S){this.renderer.scrollToRow(S)},this.scrollToLine=function(S,M,C,T){this.renderer.scrollToLine(S,M,C,T)},this.centerSelection=function(){var S=this.getSelectionRange(),M={row:Math.floor(S.start.row+(S.end.row-S.start.row)/2),column:Math.floor(S.start.column+(S.end.column-S.start.column)/2)};this.renderer.alignCursor(M,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(S,M){this.selection.moveCursorTo(S,M)},this.moveCursorToPosition=function(S){this.selection.moveCursorToPosition(S)},this.jumpToMatching=function(S,M){var C=this.getCursorPosition(),T=new D(this.session,C.row,C.column),I=T.getCurrentToken(),$=I||T.stepForward();if($){var F,z,P=!1,U={},W=C.column-$.start,X={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if($.value.match(/[{}()\[\]]/g)){for(;W<$.value.length&&!P;W++)if(X[$.value[W]])switch(z=X[$.value[W]]+"."+$.type.replace("rparen","lparen"),isNaN(U[z])&&(U[z]=0),$.value[W]){case"(":case"[":case"{":U[z]++;break;case")":case"]":case"}":U[z]--,-1===U[z]&&(F="bracket",P=!0)}}else-1!==$.type.indexOf("tag-name")&&(isNaN(U[$.value])&&(U[$.value]=0),"<"===I.value?U[$.value]++:"</"===I.value&&U[$.value]--,-1===U[$.value]&&(F="tag",P=!0));P||(I=$,$=T.stepForward(),W=0)}while($&&!P);if(F){var K,Q;if("bracket"===F)(K=this.session.getBracketRange(C))||(Q=(K=new d(T.getCurrentTokenRow(),T.getCurrentTokenColumn()+W-1,T.getCurrentTokenRow(),T.getCurrentTokenColumn()+W-1)).start,(M||Q.row===C.row&&Math.abs(Q.column-C.column)<2)&&(K=this.session.getBracketRange(Q)));else if("tag"===F){if(!$||-1===$.type.indexOf("tag-name"))return;var oe=$.value;if(0===(K=new d(T.getCurrentTokenRow(),T.getCurrentTokenColumn()-2,T.getCurrentTokenRow(),T.getCurrentTokenColumn()-2)).compare(C.row,C.column)){P=!1;do{$=I,(I=T.stepBackward())&&(-1!==I.type.indexOf("tag-close")&&K.setEnd(T.getCurrentTokenRow(),T.getCurrentTokenColumn()+1),$.value===oe&&-1!==$.type.indexOf("tag-name")&&("<"===I.value?U[oe]++:"</"===I.value&&U[oe]--,0===U[oe]&&(P=!0)))}while(I&&!P)}$&&$.type.indexOf("tag-name")&&(Q=K.start).row==C.row&&Math.abs(Q.column-C.column)<2&&(Q=K.end)}(Q=K&&K.cursor||Q)&&(S?K&&M?this.selection.setRange(K):K&&K.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Q.row,Q.column):this.selection.moveTo(Q.row,Q.column))}}},this.gotoLine=function(S,M,C){this.selection.clearSelection(),this.session.unfold({row:S-1,column:M||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(S-1,M||0),this.isRowFullyVisible(S-1)||this.scrollToLine(S-1,!0,C)},this.navigateTo=function(S,M){this.selection.moveTo(S,M)},this.navigateUp=function(S){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var M=this.selection.anchor.getPosition();return this.moveCursorToPosition(M)}this.selection.clearSelection(),this.selection.moveCursorBy(-S||-1,0)},this.navigateDown=function(S){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var M=this.selection.anchor.getPosition();return this.moveCursorToPosition(M)}this.selection.clearSelection(),this.selection.moveCursorBy(S||1,0)},this.navigateLeft=function(S){if(this.selection.isEmpty())for(S=S||1;S--;)this.selection.moveCursorLeft();else{var M=this.getSelectionRange().start;this.moveCursorToPosition(M)}this.clearSelection()},this.navigateRight=function(S){if(this.selection.isEmpty())for(S=S||1;S--;)this.selection.moveCursorRight();else{var M=this.getSelectionRange().end;this.moveCursorToPosition(M)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(S,M){M&&this.$search.set(M);var C=this.$search.find(this.session),T=0;return C&&(this.$tryReplace(C,S)&&(T=1),this.selection.setSelectionRange(C),this.renderer.scrollSelectionIntoView(C.start,C.end)),T},this.replaceAll=function(S,M){M&&this.$search.set(M);var C=this.$search.findAll(this.session),T=0;if(!C.length)return T;var I=this.getSelectionRange();this.selection.moveTo(0,0);for(var $=C.length-1;$>=0;--$)this.$tryReplace(C[$],S)&&T++;return this.selection.setSelectionRange(I),T},this.$tryReplace=function(S,M){var C=this.session.getTextRange(S);return null!==(M=this.$search.replace(C,M))?(S.end=this.session.replace(S,M),S):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(S,M,C){M||(M={}),"string"==typeof S||S instanceof RegExp?M.needle=S:"object"==typeof S&&O.mixin(M,S);var T=this.selection.getRange();null==M.needle&&((S=this.session.getTextRange(T)||this.$search.$options.needle)||(T=this.session.getWordRange(T.start.row,T.start.column),S=this.session.getTextRange(T)),this.$search.set({needle:S})),this.$search.set(M),M.start||this.$search.set({start:T});var I=this.$search.find(this.session);return M.preventScroll?I:I?(this.revealRange(I,C),I):(M.backwards?T.start=T.end:T.end=T.start,void this.selection.setRange(T))},this.findNext=function(S,M){this.find({skipCurrent:!0,backwards:!1},S,M)},this.findPrevious=function(S,M){this.find(S,{skipCurrent:!0,backwards:!0},M)},this.revealRange=function(S,M){this.session.unfold(S),this.selection.setSelectionRange(S);var C=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(S.start,S.end,.5),!1!==M&&this.renderer.animateScrolling(C)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(S){S.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(S){if(S){var M,C=this,T=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var I=this.$scrollAnchor;I.style.cssText="position:absolute",this.container.insertBefore(I,this.container.firstChild);var $=this.on("changeSelection",function(){T=!0}),F=this.renderer.on("beforeRender",function(){T&&(M=C.renderer.container.getBoundingClientRect())}),P=this.renderer.on("afterRender",function(){if(T&&M&&(C.isFocused()||C.searchBox&&C.searchBox.isFocused())){var U=C.renderer,W=U.$cursorLayer.$pixelPos,z=U.layerConfig,X=W.top-z.offset;null!=(T=W.top>=0&&X+M.top<0||!(W.top<z.height&&W.top+M.top+z.lineHeight>window.innerHeight)&&null)&&(I.style.top=X+"px",I.style.left=W.left+"px",I.style.height=z.lineHeight+"px",I.scrollIntoView(T)),T=M=null}});this.setAutoScrollEditorIntoView=function(U){U||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",$),this.renderer.off("afterRender",P),this.renderer.off("beforeRender",F))}}},this.$resetCursorStyle=function(){var S=this.$cursorStyle||"ace",M=this.renderer.$cursorLayer;!M||(M.setSmoothBlinking(/smooth/.test(S)),M.isBlinking=!this.$readOnly&&"wide"!=S,w.setCssClass(M.element,"ace_slim-cursors",/slim/.test(S)))},this.prompt=function(S,M,C){var T=this;E.loadModule("./ext/prompt",function(I){I.prompt(T,S,M,C)})}}.call(R.prototype),E.defineOptions(R.prototype,"editor",{selectionStyle:{set:function(M){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:M})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(M){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(M){this.textInput.setReadOnly(M),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(M){this.textInput.setCopyWithEmptySelection(M)},initialValue:!1},cursorStyle:{set:function(M){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(M){this.setAutoScrollEditorIntoView(M)}},keyboardHandler:{set:function(M){this.setKeyboardHandler(M)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(M){this.session.setValue(M)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(M){this.setSession(M)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(M){this.renderer.$gutterLayer.setShowLineNumbers(M),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),M&&this.$relativeLineNumbers?k.attach(this):k.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(M){this.$showLineNumbers&&M?k.attach(this):k.detach(this)}},placeholder:{set:function(M){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var C=this.session&&(this.renderer.$composition||this.getValue());if(C&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),w.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(C||this.renderer.placeholderNode)!C&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),w.addCssClass(this.container,"ace_hasPlaceholder");var T=w.createElement("div");T.className="ace_placeholder",T.textContent=this.$placeholder||"",this.renderer.placeholderNode=T,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var k={getText:function(M,C){return(Math.abs(M.selection.lead.row-C)||C+1+(C<9?"\xb7":""))+""},getWidth:function(M,C,T){return Math.max(C.toString().length,(T.lastRow+1).toString().length,2)*T.characterWidth},update:function(M,C){C.renderer.$loop.schedule(C.renderer.CHANGE_GUTTER)},attach:function(M){M.renderer.$gutterLayer.$renderer=this,M.on("changeSelection",this.update),this.update(null,M)},detach:function(M){M.renderer.$gutterLayer.$renderer==this&&(M.renderer.$gutterLayer.$renderer=null),M.off("changeSelection",this.update),this.update(null,M)}};H.Editor=R}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(N,H,x){"use strict";var O=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(k){this.$session=k},this.add=function(k,S,M){this.$fromUndo||k!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),(!1===S||!this.lastDeltas)&&(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),k.id=this.$rev=++this.$maxRev),("remove"==k.action||"insert"==k.action)&&(this.$lastDelta=k),this.lastDeltas.push(k))},this.addSelection=function(k,S){this.selections.push({value:k,rev:S||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(k,S){null==S&&(S=this.$rev+1);for(var M=this.$undoStack,C=M.length;C--;){var T=M[C][0];if(T.id<=k)break;T.id<S&&(T.ignore=!0)}this.lastDeltas=null},this.getSelection=function(k,S){for(var M=this.selections,C=M.length;C--;){var T=M[C];if(T.rev<k)return S&&(T=M[C+1]),T}},this.getRevision=function(){return this.$rev},this.getDeltas=function(k,S){null==S&&(S=this.$rev+1);for(var M=this.$undoStack,C=null,T=0,I=M.length;I--;){var $=M[I][0];if($.id<S&&!C&&(C=I+1),$.id<=k){T=I+1;break}}return M.slice(T,C)},this.getChangedRanges=function(k,S){null==S&&(S=this.$rev+1)},this.getChangedLines=function(k,S){null==S&&(S=this.$rev+1)},this.undo=function(k,S){this.lastDeltas=null;var M=this.$undoStack;if(function w(k,S){for(var M=S;M--;){var C=k[M];if(C&&!C[0].ignore){for(;M<S-1;){var T=h(k[M],k[M+1]);k[M]=T[0],k[M+1]=T[1],M++}return!0}}}(M,M.length)){k||(k=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var C=M.pop(),T=null;return C&&(T=k.undoChanges(C,S),this.$redoStack.push(C),this.$syncRev()),this.$fromUndo=!1,T}},this.redo=function(k,S){if(this.lastDeltas=null,k||(k=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var M=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function R(k,S){for(var M=0;M<S.length;M++)for(var C=S[M],T=0;T<C.length;T++)b(k,C[T])})(this.$redoStack,M),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(I){I[0].id=++this.$maxRev},this)}var C=this.$redoStack.pop(),T=null;return C&&(T=k.redoChanges(C,S),this.$undoStack.push(C),this.$syncRev()),this.$fromUndo=!1,T},this.$syncRev=function(){var k=this.$undoStack,S=k[k.length-1],M=S&&S[0].id||0;this.$redoStackBaseRev=M,this.$rev=M},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(k){null==k&&(k=this.$rev),this.mark=k},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(k){return k?u(k):u(this.$undoStack)+"\n---\n"+u(this.$redoStack)}}).call(O.prototype);var g=N("./range").Range,y=g.comparePoints;function s(k){return{row:k.row,column:k.column}}function u(k){if(k=k||this,Array.isArray(k))return k.map(u).join("\n");var S="";return k.action?(S="insert"==k.action?"+":"-",S+="["+k.lines+"]"):k.value&&(S=Array.isArray(k.value)?k.value.map(c).join("\n"):c(k.value)),k.start&&(S+=c(k)),(k.id||k.rev)&&(S+="\t("+(k.id||k.rev)+")"),S}function c(k){return k.start.row+":"+k.start.column+"=>"+k.end.row+":"+k.end.column}function d(k,S){var M="insert"==k.action,C="insert"==S.action;if(M&&C)if(y(S.start,k.end)>=0)_(S,k,-1);else{if(!(y(S.start,k.start)<=0))return null;_(k,S,1)}else if(M&&!C)if(y(S.start,k.end)>=0)_(S,k,-1);else{if(!(y(S.end,k.start)<=0))return null;_(k,S,-1)}else if(!M&&C)if(y(S.start,k.start)>=0)_(S,k,1);else{if(!(y(S.start,k.start)<=0))return null;_(k,S,1)}else if(!M&&!C)if(y(S.start,k.start)>=0)_(S,k,1);else{if(!(y(S.end,k.start)<=0))return null;_(k,S,-1)}return[S,k]}function h(k,S){for(var M=k.length;M--;)for(var C=0;C<S.length;C++)if(!d(k[M],S[C])){for(;M<k.length;){for(;C--;)d(S[C],k[M]);C=S.length,M++}return[k,S]}return k.selectionBefore=S.selectionBefore=k.selectionAfter=S.selectionAfter=null,[S,k]}function p(k,S){var M="insert"==k.action,C="insert"==S.action;if(M&&C)y(k.start,S.start)<0?_(S,k,1):_(k,S,1);else if(M&&!C)y(k.start,S.end)>=0?_(k,S,-1):(y(k.start,S.start)<=0||_(k,g.fromPoints(S.start,k.start),-1),_(S,k,1));else if(!M&&C)y(S.start,k.end)>=0?_(S,k,-1):(y(S.start,k.start)<=0||_(S,g.fromPoints(k.start,S.start),-1),_(k,S,1));else if(!M&&!C)if(y(S.start,k.end)>=0)_(S,k,-1);else{var T,I;if(!(y(S.end,k.start)<=0))return y(k.start,S.start)<0&&(T=k,k=D(k,S.start)),y(k.end,S.end)>0&&(I=D(k,S.end)),E(S.end,k.start,k.end,-1),I&&!T&&(k.lines=I.lines,k.start=I.start,k.end=I.end,I=k),[S,T,I].filter(Boolean);_(k,S,-1)}return[S,k]}function _(k,S,M){E(k.start,S.start,S.end,M),E(k.end,S.start,S.end,M)}function E(k,S,M,C){k.row==(1==C?S:M).row&&(k.column+=C*(M.column-S.column)),k.row+=C*(M.row-S.row)}function D(k,S){var M=k.lines,C=k.end;k.end=s(S);var T=k.end.row-k.start.row,I=M.splice(T,M.length),$=T?S.column:S.column-k.start.column;return M.push(I[0].substring(0,$)),I[0]=I[0].substr($),{start:s(S),end:C,lines:I,action:k.action}}function b(k,S){S=function a(k){return{start:s(k.start),end:s(k.end),action:k.action,lines:k.lines.slice()}}(S);for(var M=k.length;M--;){for(var C=k[M],T=0;T<C.length;T++){var $=p(C[T],S);S=$[0],2!=$.length&&($[2]?(C.splice(T+1,1,$[1],$[2]),T++):$[1]||(C.splice(T,1),T--))}C.length||k.splice(M,1)}return k}H.UndoManager=O}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(N,H,x){"use strict";var O=N("../lib/dom"),w=function(y,v){this.element=y,this.canvasHeight=v||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(g){O.translate(this.element,0,-g.firstRowScreen*g.lineHeight%this.canvasHeight-g.offset*this.$offsetCoefficient)},this.pageChanged=function(g,y){return Math.floor(g.firstRowScreen*g.lineHeight/this.canvasHeight)!==Math.floor(y.firstRowScreen*y.lineHeight/this.canvasHeight)},this.computeLineTop=function(g,y,v){var s=Math.floor(y.firstRowScreen*y.lineHeight/this.canvasHeight);return v.documentToScreenRow(g,0)*y.lineHeight-s*this.canvasHeight},this.computeLineHeight=function(g,y,v){return y.lineHeight*v.getRowLineCount(g)},this.getLength=function(){return this.cells.length},this.get=function(g){return this.cells[g]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(g){if(Array.isArray(g)){this.cells.push.apply(this.cells,g);for(var y=O.createFragment(this.element),v=0;v<g.length;v++)y.appendChild(g[v].element);this.element.appendChild(y)}else this.cells.push(g),this.element.appendChild(g.element)},this.unshift=function(g){if(Array.isArray(g)){this.cells.unshift.apply(this.cells,g);for(var y=O.createFragment(this.element),v=0;v<g.length;v++)y.appendChild(g[v].element);this.element.firstChild?this.element.insertBefore(y,this.element.firstChild):this.element.appendChild(y)}else this.cells.unshift(g),this.element.insertAdjacentElement("afterbegin",g.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(g){!g||(g.element.remove(),this.cellCache.push(g))},this.createCell=function(g,y,v,f){var s=this.cellCache.pop();if(!s){var a=O.createElement("div");f&&f(a),this.element.appendChild(a),s={element:a,text:"",row:g}}return s.row=g,s}}).call(w.prototype),H.Lines=w}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(N,H,x){"use strict";var O=N("../lib/dom"),w=N("../lib/oop"),g=N("../lib/lang"),y=N("../lib/event_emitter").EventEmitter,v=N("./lines").Lines,f=function(u){this.element=O.createElement("div"),this.element.className="ace_layer ace_gutter-layer",u.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new v(this.element),this.$lines.$offsetCoefficient=1};function s(a){var u=document.createTextNode("");a.appendChild(u);var c=O.createElement("span");return a.appendChild(c),a}(function(){w.implement(this,y),this.setSession=function(a){this.session&&this.session.off("change",this.$updateAnnotations),this.session=a,a&&a.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(a,u){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(a,u)},this.removeGutterDecoration=function(a,u){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(a,u)},this.setAnnotations=function(a){this.$annotations=[];for(var u=0;u<a.length;u++){var c=a[u],d=c.row,h=this.$annotations[d];h||(h=this.$annotations[d]={text:[]});var p=c.text;p=p?g.escapeHTML(p):c.html||"",-1===h.text.indexOf(p)&&h.text.push(p);var _=c.type;"error"==_?h.className=" ace_error":"warning"==_&&" ace_error"!=h.className?h.className=" ace_warning":"info"==_&&!h.className&&(h.className=" ace_info")}},this.$updateAnnotations=function(a){if(this.$annotations.length){var u=a.start.row,c=a.end.row-u;if(0!==c)if("remove"==a.action)this.$annotations.splice(u,c+1,null);else{var d=new Array(c+1);d.unshift(u,1),this.$annotations.splice.apply(this.$annotations,d)}}},this.update=function(a){this.config=a;var u=this.session,c=a.firstRow,d=Math.min(a.lastRow+a.gutterOffset,u.getLength()-1);this.oldLastRow=d,this.config=a,this.$lines.moveContainer(a),this.$updateCursorRow();for(var h=u.getNextFoldLine(c),p=h?h.start.row:1/0,_=null,E=-1,D=c;;){if(D>p&&(p=(h=u.getNextFoldLine(D=h.end.row+1,h))?h.start.row:1/0),D>d){for(;this.$lines.getLength()>E+1;)this.$lines.pop();break}(_=this.$lines.get(++E))?_.row=D:(_=this.$lines.createCell(D,a,this.session,s),this.$lines.push(_)),this.$renderCell(_,a,h,D),D++}this._signal("afterRender"),this.$updateGutterWidth(a)},this.$updateGutterWidth=function(a){var u=this.session,c=u.gutterRenderer||this.$renderer,d=u.$firstLineNumber,h=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||u.$useWrapMode)&&(h=u.getLength()+d-1);var p=c?c.getWidth(u,h,a):h.toString().length*a.characterWidth,_=this.$padding||this.$computePadding();(p+=_.left+_.right)!==this.gutterWidth&&!isNaN(p)&&(this.gutterWidth=p,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",p))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var a=this.session.selection.getCursor();this.$cursorRow!==a.row&&(this.$cursorRow=a.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var a=this.session.selection.cursor.row;if(this.$cursorRow=a,!this.$cursorCell||this.$cursorCell.row!=a){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var u=this.$lines.cells;this.$cursorCell=null;for(var c=0;c<u.length;c++){var d=u[c];if(d.row>=this.$cursorRow){if(d.row>this.$cursorRow){var h=this.session.getFoldLine(this.$cursorRow);if(!(c>0&&h&&h.start.row==u[c-1].row))break;d=u[c-1]}d.element.className="ace_gutter-active-line "+d.element.className,this.$cursorCell=d;break}}}}},this.scrollLines=function(a){var u=this.config;if(this.config=a,this.$updateCursorRow(),this.$lines.pageChanged(u,a))return this.update(a);this.$lines.moveContainer(a);var c=Math.min(a.lastRow+a.gutterOffset,this.session.getLength()-1),d=this.oldLastRow;if(this.oldLastRow=c,!u||d<a.firstRow)return this.update(a);if(c<u.firstRow)return this.update(a);if(u.firstRow<a.firstRow)for(var h=this.session.getFoldedRowCount(u.firstRow,a.firstRow-1);h>0;h--)this.$lines.shift();if(d>c)for(h=this.session.getFoldedRowCount(c+1,d);h>0;h--)this.$lines.pop();a.firstRow<u.firstRow&&this.$lines.unshift(this.$renderLines(a,a.firstRow,u.firstRow-1)),c>d&&this.$lines.push(this.$renderLines(a,d+1,c)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(a)},this.$renderLines=function(a,u,c){for(var d=[],h=u,p=this.session.getNextFoldLine(h),_=p?p.start.row:1/0;h>_&&(_=(p=this.session.getNextFoldLine(h=p.end.row+1,p))?p.start.row:1/0),!(h>c);){var E=this.$lines.createCell(h,a,this.session,s);this.$renderCell(E,a,p,h),d.push(E),h++}return d},this.$renderCell=function(a,u,c,d){var h=a.element,p=this.session,_=h.childNodes[0],E=h.childNodes[1],D=p.$firstLineNumber,b=p.$breakpoints,R=p.$decorations,k=p.gutterRenderer||this.$renderer,S=this.$showFoldWidgets&&p.foldWidgets,M=c?c.start.row:Number.MAX_VALUE,C="ace_gutter-cell ";if(this.$highlightGutterLine&&(d==this.$cursorRow||c&&d<this.$cursorRow&&d>=M&&this.$cursorRow<=c.end.row)&&(C+="ace_gutter-active-line ",this.$cursorCell!=a&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=a)),b[d]&&(C+=b[d]),R[d]&&(C+=R[d]),this.$annotations[d]&&(C+=this.$annotations[d].className),h.className!=C&&(h.className=C),S){var T=S[d];null==T&&(T=S[d]=p.getFoldWidget(d))}T?(C="ace_fold-widget ace_"+T,E.className!=(C+="start"==T&&d==M&&d<c.end.row?" ace_closed":" ace_open")&&(E.className=C),O.setStyle(E.style,"height",u.lineHeight+"px"),O.setStyle(E.style,"display","inline-block")):E&&O.setStyle(E.style,"display","none");var $=(k?k.getText(p,d):d+D).toString();return $!==_.data&&(_.data=$),O.setStyle(a.element.style,"height",this.$lines.computeLineHeight(d,u,p)+"px"),O.setStyle(a.element.style,"top",this.$lines.computeLineTop(d,u,p)+"px"),a.text=$,a},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(a){this.$highlightGutterLine=a},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(a){this.$renderer=!a&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(a){a?O.addCssClass(this.element,"ace_folding-enabled"):O.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=a,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var a=O.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(a.borderLeftWidth)||0)+(parseInt(a.paddingLeft)||0)+1,this.$padding.right=(parseInt(a.borderRightWidth)||0)+(parseInt(a.paddingRight)||0),this.$padding},this.getRegion=function(a){var u=this.$padding||this.$computePadding(),c=this.element.getBoundingClientRect();return a.x<u.left+c.left?"markers":this.$showFoldWidgets&&a.x>c.right-u.right?"foldWidgets":void 0}}).call(f.prototype),H.Gutter=f}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(N,H,x){"use strict";var O=N("../range").Range,w=N("../lib/dom"),g=function(v){this.element=w.createElement("div"),this.element.className="ace_layer ace_marker-layer",v.appendChild(this.element)};(function(){function y(v,f,s,a){return(v?1:0)|(f?2:0)|(s?4:0)|(a?8:0)}this.$padding=0,this.setPadding=function(v){this.$padding=v},this.setSession=function(v){this.session=v},this.setMarkers=function(v){this.markers=v},this.elt=function(v,f){var s=-1!=this.i&&this.element.childNodes[this.i];s?this.i++:(s=document.createElement("div"),this.element.appendChild(s),this.i=-1),s.style.cssText=f,s.className=v},this.update=function(v){if(v){var f;for(var s in this.config=v,this.i=0,this.markers){var a=this.markers[s];if(a.range){var u=a.range.clipRows(v.firstRow,v.lastRow);if(!u.isEmpty())if(u=u.toScreenRange(this.session),a.renderer){var c=this.$getTop(u.start.row,v);a.renderer(f,u,this.$padding+u.start.column*v.characterWidth,c,v)}else"fullLine"==a.type?this.drawFullLineMarker(f,u,a.clazz,v):"screenLine"==a.type?this.drawScreenLineMarker(f,u,a.clazz,v):u.isMultiLine()?"text"==a.type?this.drawTextMarker(f,u,a.clazz,v):this.drawMultiLineMarker(f,u,a.clazz,v):this.drawSingleLineMarker(f,u,a.clazz+" ace_start ace_br15",v)}else a.update(f,this,this.session,v)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(v,f){return(v-f.firstRowScreen)*f.lineHeight},this.drawTextMarker=function(v,f,s,a,u){for(var c=this.session,d=f.start.row,h=f.end.row,p=d,_=0,E=0,D=c.getScreenLastRowColumn(p),b=new O(p,f.start.column,p,E);p<=h;p++)b.start.row=b.end.row=p,b.start.column=p==d?f.start.column:c.getRowWrapIndent(p),b.end.column=D,_=E,E=D,D=p+1<h?c.getScreenLastRowColumn(p+1):p==h?0:f.end.column,this.drawSingleLineMarker(v,b,s+(p==d?" ace_start":"")+" ace_br"+y(p==d||p==d+1&&f.start.column,_<E,E>D,p==h),a,p==h?0:1,u)},this.drawMultiLineMarker=function(v,f,s,a,u){var _,c=this.$padding,d=a.lineHeight,h=this.$getTop(f.start.row,a),p=c+f.start.column*a.characterWidth;if(u=u||"",this.session.$bidiHandler.isBidiRow(f.start.row)?((_=f.clone()).end.row=_.start.row,_.end.column=this.session.getLine(_.start.row).length,this.drawBidiSingleLineMarker(v,_,s+" ace_br1 ace_start",a,null,u)):this.elt(s+" ace_br1 ace_start","height:"+d+"px;right:0;top:"+h+"px;left:"+p+"px;"+(u||"")),this.session.$bidiHandler.isBidiRow(f.end.row)?((_=f.clone()).start.row=_.end.row,_.start.column=0,this.drawBidiSingleLineMarker(v,_,s+" ace_br12",a,null,u)):(h=this.$getTop(f.end.row,a),this.elt(s+" ace_br12","height:"+d+"px;width:"+f.end.column*a.characterWidth+"px;top:"+h+"px;left:"+c+"px;"+(u||""))),!((d=(f.end.row-f.start.row-1)*a.lineHeight)<=0)){h=this.$getTop(f.start.row+1,a);var D=(f.start.column?1:0)|(f.end.column?0:8);this.elt(s+(D?" ace_br"+D:""),"height:"+d+"px;right:0;top:"+h+"px;left:"+c+"px;"+(u||""))}},this.drawSingleLineMarker=function(v,f,s,a,u,c){if(this.session.$bidiHandler.isBidiRow(f.start.row))return this.drawBidiSingleLineMarker(v,f,s,a,u,c);var d=a.lineHeight,h=(f.end.column+(u||0)-f.start.column)*a.characterWidth,p=this.$getTop(f.start.row,a);this.elt(s,"height:"+d+"px;width:"+h+"px;top:"+p+"px;left:"+(this.$padding+f.start.column*a.characterWidth)+"px;"+(c||""))},this.drawBidiSingleLineMarker=function(v,f,s,a,u,c){var d=a.lineHeight,h=this.$getTop(f.start.row,a),p=this.$padding;this.session.$bidiHandler.getSelections(f.start.column,f.end.column).forEach(function(E){this.elt(s,"height:"+d+"px;width:"+E.width+(u||0)+"px;top:"+h+"px;left:"+(p+E.left)+"px;"+(c||""))},this)},this.drawFullLineMarker=function(v,f,s,a,u){var c=this.$getTop(f.start.row,a),d=a.lineHeight;f.start.row!=f.end.row&&(d+=this.$getTop(f.end.row,a)-c),this.elt(s,"height:"+d+"px;top:"+c+"px;left:0;right:0;"+(u||""))},this.drawScreenLineMarker=function(v,f,s,a,u){var c=this.$getTop(f.start.row,a);this.elt(s,"height:"+a.lineHeight+"px;top:"+c+"px;left:0;right:0;"+(u||""))}}).call(g.prototype),H.Marker=g}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(N,H,x){"use strict";var O=N("../lib/oop"),w=N("../lib/dom"),g=N("../lib/lang"),y=N("./lines").Lines,v=N("../lib/event_emitter").EventEmitter,f=function(a){this.dom=w,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",a.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new y(this.element)};(function(){O.implement(this,v),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var s=this.session.doc,u="\n"==s.getNewLineCharacter()&&"windows"!=s.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=u)return this.EOL_CHAR=u,!0},this.setPadding=function(s){this.$padding=s,this.element.style.margin="0 "+s+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(s){this.$fontMetrics=s,this.$fontMetrics.on("changeCharacterSize",function(a){this._signal("changeCharacterSize",a)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(s){this.session=s,s&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(s){return this.showInvisibles!=s&&(this.showInvisibles=s,"string"==typeof s?(this.showSpaces=/tab/i.test(s),this.showTabs=/space/i.test(s),this.showEOL=/eol/i.test(s)):this.showSpaces=this.showTabs=this.showEOL=s,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(s){return this.displayIndentGuides!=s&&(this.displayIndentGuides=s,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var s=this.session.getTabSize();this.tabSize=s;for(var a=this.$tabStrings=[0],u=1;u<s+1;u++)this.showTabs?((c=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",c.textContent=g.stringRepeat(this.TAB_CHAR,u),a.push(c)):a.push(this.dom.createTextNode(g.stringRepeat(" ",u),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var c,d="ace_indent-guide",h=this.showSpaces?" ace_invisible ace_invisible_space":"",p=g.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),_=this.showTabs?" ace_invisible ace_invisible_tab":"",E=this.showTabs?g.stringRepeat(this.TAB_CHAR,this.tabSize):p;(c=this.dom.createElement("span")).className=d+h,c.textContent=p,this.$tabStrings[" "]=c,(c=this.dom.createElement("span")).className=d+_,c.textContent=E,this.$tabStrings["\t"]=c}},this.updateLines=function(s,a,u){if(this.config.lastRow!=s.lastRow||this.config.firstRow!=s.firstRow)return this.update(s);this.config=s;for(var c=Math.max(a,s.firstRow),d=Math.min(u,s.lastRow),h=this.element.childNodes,p=0,E=s.firstRow;E<c;E++){if(D=this.session.getFoldLine(E)){if(D.containsRow(c)){c=D.start.row;break}E=D.end.row}p++}for(var D,_=!1,b=(D=this.session.getNextFoldLine(E=c))?D.start.row:1/0;E>b&&(b=(D=this.session.getNextFoldLine(E=D.end.row+1,D))?D.start.row:1/0),!(E>d);){var R=h[p++];if(R){this.dom.removeChildren(R),this.$renderLine(R,E,E==b&&D),_&&(R.style.top=this.$lines.computeLineTop(E,s,this.session)+"px");var k=s.lineHeight*this.session.getRowLength(E)+"px";R.style.height!=k&&(_=!0,R.style.height=k)}E++}if(_)for(;p<this.$lines.cells.length;){var S=this.$lines.cells[p++];S.element.style.top=this.$lines.computeLineTop(S.row,s,this.session)+"px"}},this.scrollLines=function(s){var a=this.config;if(this.config=s,this.$lines.pageChanged(a,s))return this.update(s);this.$lines.moveContainer(s);var u=s.lastRow;if(!a||(a?a.lastRow:-1)<s.firstRow)return this.update(s);if(u<a.firstRow)return this.update(s);if(!a||a.lastRow<s.firstRow)return this.update(s);if(s.lastRow<a.firstRow)return this.update(s);if(a.firstRow<s.firstRow)for(var d=this.session.getFoldedRowCount(a.firstRow,s.firstRow-1);d>0;d--)this.$lines.shift();if(a.lastRow>s.lastRow)for(d=this.session.getFoldedRowCount(s.lastRow+1,a.lastRow);d>0;d--)this.$lines.pop();s.firstRow<a.firstRow&&this.$lines.unshift(this.$renderLinesFragment(s,s.firstRow,a.firstRow-1)),s.lastRow>a.lastRow&&this.$lines.push(this.$renderLinesFragment(s,a.lastRow+1,s.lastRow))},this.$renderLinesFragment=function(s,a,u){for(var c=[],d=a,h=this.session.getNextFoldLine(d),p=h?h.start.row:1/0;d>p&&(p=(h=this.session.getNextFoldLine(d=h.end.row+1,h))?h.start.row:1/0),!(d>u);){var _=this.$lines.createCell(d,s,this.session),E=_.element;this.dom.removeChildren(E),w.setStyle(E.style,"height",this.$lines.computeLineHeight(d,s,this.session)+"px"),w.setStyle(E.style,"top",this.$lines.computeLineTop(d,s,this.session)+"px"),this.$renderLine(E,d,d==p&&h),E.className=this.$useLineGroups()?"ace_line_group":"ace_line",c.push(_),d++}return c},this.update=function(s){this.$lines.moveContainer(s),this.config=s;for(var a=s.firstRow,u=s.lastRow,c=this.$lines;c.getLength();)c.pop();c.push(this.$renderLinesFragment(s,a,u))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(s,a,u,c){for(var _,d=this,h=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,p=this.dom.createFragment(this.element),E=0;_=h.exec(c);){var D=_[1],b=_[2],R=_[3],k=_[4],S=_[5];if(d.showSpaces||!b){var M=E!=_.index?c.slice(E,_.index):"";if(E=_.index+_[0].length,M&&p.appendChild(this.dom.createTextNode(M,this.element)),D){var C=d.session.getScreenTabSize(a+_.index);p.appendChild(d.$tabStrings[C].cloneNode(!0)),a+=C-1}else b?d.showSpaces?((T=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",T.textContent=g.stringRepeat(d.SPACE_CHAR,b.length),p.appendChild(T)):p.appendChild(this.com.createTextNode(b,this.element)):R?((T=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",T.textContent=g.stringRepeat(d.SPACE_CHAR,R.length),p.appendChild(T)):k?(a+=1,(T=this.dom.createElement("span")).style.width=2*d.config.characterWidth+"px",T.className=d.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",T.textContent=d.showSpaces?d.SPACE_CHAR:k,p.appendChild(T)):S&&(a+=1,(T=this.dom.createElement("span")).style.width=2*d.config.characterWidth+"px",T.className="ace_cjk",T.textContent=S,p.appendChild(T))}}if(p.appendChild(this.dom.createTextNode(E?c.slice(E):c,this.element)),this.$textToken[u.type])s.appendChild(p);else{var I="ace_"+u.type.replace(/\./g," ace_"),T=this.dom.createElement("span");"fold"==u.type&&(T.style.width=u.value.length*this.config.characterWidth+"px"),T.className=I,T.appendChild(p),s.appendChild(T)}return a+c.length},this.renderIndentGuide=function(s,a,u){var c=a.search(this.$indentGuideRe);if(c<=0||c>=u)return a;if(" "==a[0]){for(var d=(c-=c%this.tabSize)/this.tabSize,h=0;h<d;h++)s.appendChild(this.$tabStrings[" "].cloneNode(!0));return a.substr(c)}if("\t"==a[0]){for(h=0;h<c;h++)s.appendChild(this.$tabStrings["\t"].cloneNode(!0));return a.substr(c)}return a},this.$createLineElement=function(s){var a=this.dom.createElement("div");return a.className="ace_line",a.style.height=this.config.lineHeight+"px",a},this.$renderWrappedLine=function(s,a,u){var c=0,d=0,h=u[0],p=0,_=this.$createLineElement();s.appendChild(_);for(var E=0;E<a.length;E++){var D=a[E],b=D.value;if(0==E&&this.displayIndentGuides){if(c=b.length,!(b=this.renderIndentGuide(_,b,h)))continue;c-=b.length}if(c+b.length<h)p=this.$renderToken(_,p,D,b),c+=b.length;else{for(;c+b.length>=h;)p=this.$renderToken(_,p,D,b.substring(0,h-c)),b=b.substring(h-c),c=h,_=this.$createLineElement(),s.appendChild(_),_.appendChild(this.dom.createTextNode(g.stringRepeat("\xa0",u.indent),this.element)),p=0,h=u[++d]||Number.MAX_VALUE;0!=b.length&&(c+=b.length,p=this.$renderToken(_,p,D,b))}}u[u.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(_,p,null,"",!0)},this.$renderSimpleLine=function(s,a){var u=0,c=a[0],d=c.value;this.displayIndentGuides&&(d=this.renderIndentGuide(s,d)),d&&(u=this.$renderToken(s,u,c,d));for(var h=1;h<a.length;h++){if(u+(d=(c=a[h]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(s,u,c,d);u=this.$renderToken(s,u,c,d)}},this.$renderOverflowMessage=function(s,a,u,c,d){u&&this.$renderToken(s,a,u,c.slice(0,this.MAX_LINE_LENGTH-a));var h=this.dom.createElement("span");h.className="ace_inline_button ace_keyword ace_toggle_wrap",h.textContent=d?"<hide>":"<click to see more...>",s.appendChild(h)},this.$renderLine=function(s,a,u){if(!u&&0!=u&&(u=this.session.getFoldLine(a)),u)var c=this.$getFoldLineTokens(a,u);else c=this.session.getTokens(a);var d=s;if(c.length){var h=this.session.getRowSplitData(a);h&&h.length?(this.$renderWrappedLine(s,c,h),d=s.lastChild):(d=s,this.$useLineGroups()&&(d=this.$createLineElement(),s.appendChild(d)),this.$renderSimpleLine(d,c))}else this.$useLineGroups()&&(d=this.$createLineElement(),s.appendChild(d));if(this.showEOL&&d){u&&(a=u.end.row);var p=this.dom.createElement("span");p.className="ace_invisible ace_invisible_eol",p.textContent=a==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,d.appendChild(p)}},this.$getFoldLineTokens=function(s,a){var u=this.session,c=[],h=u.getTokens(s);return a.walk(function(p,_,E,D,b){null!=p?c.push({type:"fold",value:p}):(b&&(h=u.getTokens(_)),h.length&&function d(p,_,E){for(var D=0,b=0;b+p[D].value.length<_;)if(b+=p[D].value.length,++D==p.length)return;for(b!=_&&((R=p[D].value.substring(_-b)).length>E-_&&(R=R.substring(0,E-_)),c.push({type:p[D].type,value:R}),b=_+R.length,D+=1);b<E&&D<p.length;){var R;c.push((R=p[D].value).length+b>E?{type:p[D].type,value:R.substring(0,E-b)}:p[D]),b+=R.length,D+=1}}(h,D,E))},a.end.row,this.session.getLine(a.end.row).length),c},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(f.prototype),H.Text=f}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(N,H,x){"use strict";var O=N("../lib/dom"),w=function(y){this.element=O.createElement("div"),this.element.className="ace_layer ace_cursor-layer",y.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),O.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(g){for(var y=this.cursors,v=y.length;v--;)O.setStyle(y[v].style,"opacity",g?"":"0")},this.$startCssAnimation=function(){for(var g=this.cursors,y=g.length;y--;)g[y].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&O.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,O.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(g){this.$padding=g},this.setSession=function(g){this.session=g},this.setBlinking=function(g){g!=this.isBlinking&&(this.isBlinking=g,this.restartTimer())},this.setBlinkInterval=function(g){g!=this.blinkInterval&&(this.blinkInterval=g,this.restartTimer())},this.setSmoothBlinking=function(g){g!=this.smoothBlinking&&(this.smoothBlinking=g,O.setCssClass(this.element,"ace_smooth-blinking",g),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var g=O.createElement("div");return g.className="ace_cursor",this.element.appendChild(g),this.cursors.push(g),g},this.removeCursor=function(){if(this.cursors.length>1){var g=this.cursors.pop();return g.parentNode.removeChild(g),g}},this.hideCursor=function(){this.isVisible=!1,O.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,O.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var g=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,O.removeCssClass(this.element,"ace_smooth-blinking")),g(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&O.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),O.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var y=function(){this.timeoutId=setTimeout(function(){g(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){g(!0),y()},this.blinkInterval),y()}else this.$stopCssAnimation()},this.getPixelPosition=function(g,y){if(!this.config||!this.session)return{left:0,top:0};g||(g=this.session.selection.getCursor());var v=this.session.documentToScreenPosition(g);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(v.row,g.row)?this.session.$bidiHandler.getPosLeft(v.column):v.column*this.config.characterWidth),top:(v.row-(y?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(g,y){return g.top>=0&&g.top<y.maxHeight},this.update=function(g){this.config=g;var y=this.session.$selectionMarkers,v=0,f=0;(void 0===y||0===y.length)&&(y=[{cursor:null}]),v=0;for(var s=y.length;v<s;v++){var a=this.getPixelPosition(y[v].cursor,!0);if(!((a.top>g.height+g.offset||a.top<0)&&v>1)){var u=this.cursors[f++]||this.addCursor(),c=u.style;this.drawCursor?this.drawCursor(u,a,g,y[v],this.session):this.isCursorInView(a,g)?(O.setStyle(c,"display","block"),O.translate(u,a.left,a.top),O.setStyle(c,"width",Math.round(g.characterWidth)+"px"),O.setStyle(c,"height",g.lineHeight+"px")):O.setStyle(c,"display","none")}}for(;this.cursors.length>f;)this.removeCursor();var d=this.session.getOverwrite();this.$setOverwrite(d),this.$pixelPos=a,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(g){g!=this.overwrite&&(this.overwrite=g,g?O.addCssClass(this.element,"ace_overwrite-cursors"):O.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(w.prototype),H.Cursor=w}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(N,H,x){"use strict";var O=N("./lib/oop"),w=N("./lib/dom"),g=N("./lib/event"),y=N("./lib/event_emitter").EventEmitter,v=32768,f=function(c){this.element=w.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=w.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),c.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,g.addListener(this.element,"scroll",this.onScroll.bind(this)),g.addListener(this.element,"mousedown",g.preventDefault)};(function(){O.implement(this,y),this.setVisible=function(u){this.element.style.display=u?"":"none",this.isVisible=u,this.coeff=1}}).call(f.prototype);var s=function(c,d){f.call(this,c),this.scrollTop=0,this.scrollHeight=0,d.$scrollbarWidth=this.width=w.scrollbarWidth(c.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};O.inherits(s,f),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var u=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-u)/(this.coeff-u)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(u){this.element.style.height=u+"px"},this.setInnerHeight=this.setScrollHeight=function(u){this.scrollHeight=u,u>v?(this.coeff=v/u,u=v):1!=this.coeff&&(this.coeff=1),this.inner.style.height=u+"px"},this.setScrollTop=function(u){this.scrollTop!=u&&(this.skipEvent=!0,this.scrollTop=u,this.element.scrollTop=u*this.coeff)}}.call(s.prototype);var a=function(c,d){f.call(this,c),this.scrollLeft=0,this.height=d.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};O.inherits(a,f),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(u){this.element.style.width=u+"px"},this.setInnerWidth=function(u){this.inner.style.width=u+"px"},this.setScrollWidth=function(u){this.inner.style.width=u+"px"},this.setScrollLeft=function(u){this.scrollLeft!=u&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=u)}}.call(a.prototype),H.ScrollBar=s,H.ScrollBarV=s,H.ScrollBarH=a,H.VScrollBar=s,H.HScrollBar=a}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(N,H,x){"use strict";var O=N("./lib/event"),w=function(y,v){this.onRender=y,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=v||window;var f=this;this._flush=function(s){f.pending=!1;var a=f.changes;if(a&&(O.blockIdle(100),f.changes=0,f.onRender(a)),f.changes){if(f.$recursionLimit--<0)return;f.schedule()}else f.$recursionLimit=2}};(function(){this.schedule=function(g){this.changes=this.changes|g,this.changes&&!this.pending&&(O.nextFrame(this._flush),this.pending=!0)},this.clear=function(g){var y=this.changes;return this.changes=0,y}}).call(w.prototype),H.RenderLoop=w}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(N,H,x){var O=N("../lib/oop"),w=N("../lib/dom"),g=N("../lib/lang"),y=N("../lib/event"),v=N("../lib/useragent"),f=N("../lib/event_emitter").EventEmitter,s=256,a="function"==typeof ResizeObserver,u=200,c=H.FontMetrics=function(d){this.el=w.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=w.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=w.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),d.appendChild(this.el),this.$measureNode.textContent=g.stringRepeat("X",s),this.$characterSize={width:0,height:0},a?this.$addObserver():this.checkForSizeChanges()};(function(){O.implement(this,f),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(d,h){d.width=d.height="auto",d.left=d.top="0px",d.visibility="hidden",d.position="absolute",d.whiteSpace="pre",v.isIE<8?d["font-family"]="inherit":d.font="inherit",d.overflow=h?"hidden":"visible"},this.checkForSizeChanges=function(d){if(void 0===d&&(d=this.$measureSizes()),d&&(this.$characterSize.width!==d.width||this.$characterSize.height!==d.height)){this.$measureNode.style.fontWeight="bold";var h=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=d,this.charSizes=Object.create(null),this.allowBoldFonts=h&&h.width===d.width&&h.height===d.height,this._emit("changeCharacterSize",{data:d})}},this.$addObserver=function(){var d=this;this.$observer=new window.ResizeObserver(function(h){d.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var d=this;return this.$pollSizeChangesTimer=y.onIdle(function h(){d.checkForSizeChanges(),y.onIdle(h,500)},500)},this.setPolling=function(d){d?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(d){var h={height:(d||this.$measureNode).clientHeight,width:(d||this.$measureNode).clientWidth/s};return 0===h.width||0===h.height?null:h},this.$measureCharWidth=function(d){return this.$main.textContent=g.stringRepeat(d,s),this.$main.getBoundingClientRect().width/s},this.getCharacterWidth=function(d){var h=this.charSizes[d];return void 0===h&&(h=this.charSizes[d]=this.$measureCharWidth(d)/this.$characterSize.width),h},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function d(h){return h&&h.parentElement?(window.getComputedStyle(h).zoom||1)*d(h.parentElement):1},this.$initTransformMeasureNodes=function(){var d=function(p,_){return["div",{style:"position: absolute;top:"+p+"px;left:"+_+"px;"}]};this.els=w.buildDom([d(0,0),d(u,0),d(0,u),d(u,u)],this.el)},this.transformCoordinates=function(d,h){function _(X,K,Q){var oe=X[1]*K[0]-X[0]*K[1];return[(-K[1]*Q[0]+K[0]*Q[1])/oe,(+X[1]*Q[0]-X[0]*Q[1])/oe]}function E(X,K){return[X[0]-K[0],X[1]-K[1]]}function D(X,K){return[X[0]+K[0],X[1]+K[1]]}function b(X,K){return[X*K[0],X*K[1]]}function R(X){var K=X.getBoundingClientRect();return[K.left,K.top]}d&&(d=b(1/this.$getZoom(this.el),d)),this.els||this.$initTransformMeasureNodes();var k=R(this.els[0]),S=R(this.els[1]),M=R(this.els[2]),C=R(this.els[3]),T=_(E(C,S),E(C,M),E(D(S,M),D(C,k))),I=b(1+T[0],E(S,k)),$=b(1+T[1],E(M,k));if(h){var F=h,P=T[0]*F[0]/u+T[1]*F[1]/u+1,U=D(b(F[0],I),b(F[1],$));return D(b(1/P/u,U),k)}var W=E(d,k),z=_(E(I,b(T[0],W)),E($,b(T[1],W)),W);return b(u,z)}}).call(c.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(N,H,x){"use strict";var O=N("./lib/oop"),w=N("./lib/dom"),g=N("./config"),y=N("./layer/gutter").Gutter,v=N("./layer/marker").Marker,f=N("./layer/text").Text,s=N("./layer/cursor").Cursor,a=N("./scrollbar").HScrollBar,u=N("./scrollbar").VScrollBar,c=N("./renderloop").RenderLoop,d=N("./layer/font_metrics").FontMetrics,h=N("./lib/event_emitter").EventEmitter,p='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',_=N("./lib/useragent"),E=_.isIE;w.importCssString(p,"ace_editor.css",!1);var D=function(R,k){var S=this;this.container=R||w.createElement("div"),w.addCssClass(this.container,"ace_editor"),w.HI_DPI&&w.addCssClass(this.container,"ace_hidpi"),this.setTheme(k),null==g.get("useStrictCSP")&&g.set("useStrictCSP",!1),this.$gutter=w.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=w.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=w.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new y(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new v(this.content);var M=this.$textLayer=new f(this.content);this.canvas=M.element,this.$markerFront=new v(this.content),this.$cursorLayer=new s(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new a(this.container,this),this.scrollBarV.on("scroll",function(C){S.$scrollAnimation||S.session.setScrollTop(C.data-S.scrollMargin.top)}),this.scrollBarH.on("scroll",function(C){S.$scrollAnimation||S.session.setScrollLeft(C.data-S.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new d(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(C){S.updateCharacterSize(),S.onResize(!0,S.gutterWidth,S.$size.width,S.$size.height),S._signal("changeCharacterSize",C)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!_.isIOS,this.$loop=new c(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),g.resetOptions(this),g._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,O.implement(this,h),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),w.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(b){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=b,b&&this.scrollMargin.top&&b.getScrollTop()<=0&&b.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(b),this.$markerBack.setSession(b),this.$markerFront.setSession(b),this.$gutterLayer.setSession(b),this.$textLayer.setSession(b),b&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(b,R,k){if(void 0===R&&(R=1/0),this.$changedLines?(this.$changedLines.firstRow>b&&(this.$changedLines.firstRow=b),this.$changedLines.lastRow<R&&(this.$changedLines.lastRow=R)):this.$changedLines={firstRow:b,lastRow:R},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!k)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(b){b?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(b,R,k,S){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=b?1:0;var M=this.container;S||(S=M.clientHeight||M.scrollHeight),k||(k=M.clientWidth||M.scrollWidth);var C=this.$updateCachedSize(b,R,k,S);if(!this.$size.scrollerHeight||!k&&!S)return this.resizing=0;b&&(this.$gutterLayer.$padding=null),b?this.$renderChanges(C|this.$changes,!0):this.$loop.schedule(C|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(b,R,k,S){var M=0,C=this.$size,T={width:C.width,height:C.height,scrollerHeight:C.scrollerHeight,scrollerWidth:C.scrollerWidth};if((S-=this.$extraHeight||0)&&(b||C.height!=S)&&(C.height=S,M|=this.CHANGE_SIZE,C.scrollerHeight=C.height,this.$horizScroll&&(C.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",M|=this.CHANGE_SCROLL),k&&(b||C.width!=k)){M|=this.CHANGE_SIZE,C.width=k,null==R&&(R=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=R,w.setStyle(this.scrollBarH.element.style,"left",R+"px"),w.setStyle(this.scroller.style,"left",R+this.margin.left+"px"),C.scrollerWidth=Math.max(0,k-R-this.scrollBarV.getWidth()-this.margin.h),w.setStyle(this.$gutter.style,"left",this.margin.left+"px");var I=this.scrollBarV.getWidth()+"px";w.setStyle(this.scrollBarH.element.style,"right",I),w.setStyle(this.scroller.style,"right",I),w.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||b)&&(M|=this.CHANGE_FULL)}return C.$dirty=!k||!S,M&&this._signal("resize",T),M},this.onGutterResize=function(b){var R=this.$showGutter?b:0;R!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,R,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var R=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(R,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(b){this.setOption("animatedScroll",b)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(b){this.setOption("showInvisibles",b),this.session.$bidiHandler.setShowInvisibles(b)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(b){this.setOption("displayIndentGuides",b)},this.setShowPrintMargin=function(b){this.setOption("showPrintMargin",b)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(b){this.setOption("printMarginColumn",b)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(b){return this.setOption("showGutter",b)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(b){this.setOption("fadeFoldWidgets",b)},this.setHighlightGutterLine=function(b){this.setOption("highlightGutterLine",b)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var b=w.createElement("div");b.className="ace_layer ace_print-margin-layer",this.$printMarginEl=w.createElement("div"),this.$printMarginEl.className="ace_print-margin",b.appendChild(this.$printMarginEl),this.content.insertBefore(b,this.content.firstChild)}var R=this.$printMarginEl.style;R.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",R.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var b=this.textarea.style,R=this.$composition;if(!this.$keepTextAreaAtCursor&&!R)return void w.translate(this.textarea,-100,0);var k=this.$cursorLayer.$pixelPos;if(k){R&&R.markerRange&&(k=this.$cursorLayer.getPixelPosition(R.markerRange.start,!0));var S=this.layerConfig,M=k.top,C=k.left,T=R&&R.useTextareaForIME?this.lineHeight:E?0:1;if((M-=S.offset)<0||M>S.height-T)return void w.translate(this.textarea,0,0);var I=1,$=this.$size.height-T;R?R.useTextareaForIME?I=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0]:M+=this.lineHeight+2:M+=this.lineHeight,(C-=this.scrollLeft)>this.$size.scrollerWidth-I&&(C=this.$size.scrollerWidth-I),C+=this.gutterWidth+this.margin.left,w.setStyle(b,"height",T+"px"),w.setStyle(b,"width",I+"px"),w.translate(this.textarea,Math.min(C,this.$size.scrollerWidth-I),Math.min(M,$))}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var b=this.layerConfig,R=b.lastRow;return this.session.documentToScreenRow(R,0)*b.lineHeight-this.session.getScrollTop()>b.height-b.lineHeight?R-1:R},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(b){this.$padding=b,this.$textLayer.setPadding(b),this.$cursorLayer.setPadding(b),this.$markerFront.setPadding(b),this.$markerBack.setPadding(b),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(b,R,k,S){var M=this.scrollMargin;M.top=0|b,M.bottom=0|R,M.right=0|S,M.left=0|k,M.v=M.top+M.bottom,M.h=M.left+M.right,M.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-M.top),this.updateFull()},this.setMargin=function(b,R,k,S){var M=this.margin;M.top=0|b,M.bottom=0|R,M.right=0|S,M.left=0|k,M.v=M.top+M.bottom,M.h=M.left+M.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(b){this.setOption("hScrollBarAlwaysVisible",b)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(b){this.setOption("vScrollBarAlwaysVisible",b)},this.$updateScrollBarV=function(){var b=this.layerConfig.maxHeight,R=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(b-=(R-this.lineHeight)*this.$scrollPastEnd)-R&&(b=this.scrollTop+R,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(b+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(b,R){if(this.$changes&&(b|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(b||R)){if(this.$size.$dirty)return this.$changes|=b,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",b),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var k=this.layerConfig;if(b&this.CHANGE_FULL||b&this.CHANGE_SIZE||b&this.CHANGE_TEXT||b&this.CHANGE_LINES||b&this.CHANGE_SCROLL||b&this.CHANGE_H_SCROLL){if(b|=this.$computeLayerConfig()|this.$loop.clear(),k.firstRow!=this.layerConfig.firstRow&&k.firstRowScreen==this.layerConfig.firstRowScreen){var S=this.scrollTop+(k.firstRow-this.layerConfig.firstRow)*this.lineHeight;S>0&&(this.scrollTop=S,b|=this.CHANGE_SCROLL,b|=this.$computeLayerConfig()|this.$loop.clear())}k=this.layerConfig,this.$updateScrollBarV(),b&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),w.translate(this.content,-this.scrollLeft,-k.offset);var C=k.minHeight+"px";w.setStyle(this.content.style,"width",k.width+2*this.$padding+"px"),w.setStyle(this.content.style,"height",C)}return b&this.CHANGE_H_SCROLL&&(w.translate(this.content,-this.scrollLeft,-k.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),b&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(k),this.$showGutter&&this.$gutterLayer.update(k),this.$markerBack.update(k),this.$markerFront.update(k),this.$cursorLayer.update(k),this.$moveTextAreaToCursor(),void this._signal("afterRender",b)):b&this.CHANGE_SCROLL?(this.$changedLines=null,b&this.CHANGE_TEXT||b&this.CHANGE_LINES?this.$textLayer.update(k):this.$textLayer.scrollLines(k),this.$showGutter&&(b&this.CHANGE_GUTTER||b&this.CHANGE_LINES?this.$gutterLayer.update(k):this.$gutterLayer.scrollLines(k)),this.$markerBack.update(k),this.$markerFront.update(k),this.$cursorLayer.update(k),this.$moveTextAreaToCursor(),void this._signal("afterRender",b)):(b&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(k),this.$showGutter&&this.$gutterLayer.update(k)):b&this.CHANGE_LINES?(this.$updateLines()||b&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(k):b&this.CHANGE_TEXT||b&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(k):b&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(k),b&this.CHANGE_CURSOR&&(this.$cursorLayer.update(k),this.$moveTextAreaToCursor()),b&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(k),b&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(k),void this._signal("afterRender",b))}this.$changes|=b},this.$autosize=function(){var b=this.session.getScreenLength()*this.lineHeight,R=this.$maxLines*this.lineHeight,k=Math.min(R,Math.max((this.$minLines||1)*this.lineHeight,b))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(k+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&k>this.$maxPixelHeight&&(k=this.$maxPixelHeight);var M=!(k<=2*this.lineHeight)&&b>R;if(k!=this.desiredHeight||this.$size.height!=this.desiredHeight||M!=this.$vScroll){M!=this.$vScroll&&(this.$vScroll=M,this.scrollBarV.setVisible(M));var C=this.container.clientWidth;this.container.style.height=k+"px",this.$updateCachedSize(!0,this.$gutterWidth,C,k),this.desiredHeight=k,this._signal("autosize")}},this.$computeLayerConfig=function(){var b=this.session,R=this.$size,k=R.height<=2*this.lineHeight,M=this.session.getScreenLength()*this.lineHeight,C=this.$getLongestLine(),T=!k&&(this.$hScrollBarAlwaysVisible||R.scrollerWidth-C-2*this.$padding<0),I=this.$horizScroll!==T;I&&(this.$horizScroll=T,this.scrollBarH.setVisible(T));var $=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var F=R.scrollerHeight+this.lineHeight,P=!this.$maxLines&&this.$scrollPastEnd?(R.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;M+=P;var U=this.scrollMargin;this.session.setScrollTop(Math.max(-U.top,Math.min(this.scrollTop,M-R.scrollerHeight+U.bottom))),this.session.setScrollLeft(Math.max(-U.left,Math.min(this.scrollLeft,C+2*this.$padding-R.scrollerWidth+U.right)));var W=!k&&(this.$vScrollBarAlwaysVisible||R.scrollerHeight-M+P<0||this.scrollTop>U.top),z=$!==W;z&&(this.$vScroll=W,this.scrollBarV.setVisible(W));var re,G,X=this.scrollTop%this.lineHeight,K=Math.ceil(F/this.lineHeight)-1,Q=Math.max(0,Math.round((this.scrollTop-X)/this.lineHeight)),oe=Q+K,ie=this.lineHeight;Q=b.screenToDocumentRow(Q,0);var Y=b.getFoldLine(Q);Y&&(Q=Y.start.row),re=b.documentToScreenRow(Q,0),G=b.getRowLength(Q)*ie,oe=Math.min(b.screenToDocumentRow(oe,0),b.getLength()-1),F=R.scrollerHeight+b.getRowLength(oe)*ie+G,X=this.scrollTop-re*ie;var ee=0;return(this.layerConfig.width!=C||I)&&(ee=this.CHANGE_H_SCROLL),(I||z)&&(ee|=this.$updateCachedSize(!0,this.gutterWidth,R.width,R.height),this._signal("scrollbarVisibilityChanged"),z&&(C=this.$getLongestLine())),this.layerConfig={width:C,padding:this.$padding,firstRow:Q,firstRowScreen:re,lastRow:oe,lineHeight:ie,characterWidth:this.characterWidth,minHeight:F,maxHeight:M,offset:X,gutterOffset:ie?Math.max(0,Math.ceil((X+R.height-R.scrollerHeight)/ie)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(C-this.$padding),ee},this.$updateLines=function(){if(this.$changedLines){var b=this.$changedLines.firstRow,R=this.$changedLines.lastRow;this.$changedLines=null;var k=this.layerConfig;if(!(b>k.lastRow+1||R<k.firstRow))return R===1/0?(this.$showGutter&&this.$gutterLayer.update(k),void this.$textLayer.update(k)):(this.$textLayer.updateLines(k,b,R),!0)}},this.$getLongestLine=function(){var b=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(b+=1),this.$textLayer&&b>this.$textLayer.MAX_LINE_LENGTH&&(b=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(b*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(b,R){this.$gutterLayer.addGutterDecoration(b,R)},this.removeGutterDecoration=function(b,R){this.$gutterLayer.removeGutterDecoration(b,R)},this.updateBreakpoints=function(b){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(b){this.$gutterLayer.setAnnotations(b),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(b,R,k){this.scrollCursorIntoView(b,k),this.scrollCursorIntoView(R,k)},this.scrollCursorIntoView=function(b,R,k){if(0!==this.$size.scrollerHeight){var S=this.$cursorLayer.getPixelPosition(b),M=S.left,C=S.top,T=k&&k.top||0,I=k&&k.bottom||0,$=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;$+T>C?(R&&$+T>C+this.lineHeight&&(C-=R*this.$size.scrollerHeight),0===C&&(C=-this.scrollMargin.top),this.session.setScrollTop(C)):$+this.$size.scrollerHeight-I<C+this.lineHeight&&(R&&$+this.$size.scrollerHeight-I<C-this.lineHeight&&(C+=R*this.$size.scrollerHeight),this.session.setScrollTop(C+this.lineHeight+I-this.$size.scrollerHeight));var F=this.scrollLeft;F>M?(M<this.$padding+2*this.layerConfig.characterWidth&&(M=-this.scrollMargin.left),this.session.setScrollLeft(M)):F+this.$size.scrollerWidth<M+this.characterWidth?this.session.setScrollLeft(Math.round(M+this.characterWidth-this.$size.scrollerWidth)):F<=this.$padding&&M-F<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(b){this.session.setScrollTop(b*this.lineHeight)},this.alignCursor=function(b,R){"number"==typeof b&&(b={row:b,column:0});var M=this.$cursorLayer.getPixelPosition(b).top-(this.$size.scrollerHeight-this.lineHeight)*(R||0);return this.session.setScrollTop(M),M},this.STEPS=8,this.$calcSteps=function(b,R){var $,k=0,S=this.STEPS,M=[];for(k=0;k<S;++k)M.push(($=b,(R-b)*(Math.pow(k/this.STEPS-1,3)+1)+$));return M},this.scrollToLine=function(b,R,k,S){var C=this.$cursorLayer.getPixelPosition({row:b,column:0}).top;R&&(C-=this.$size.scrollerHeight/2);var T=this.scrollTop;this.session.setScrollTop(C),!1!==k&&this.animateScrolling(T,S)},this.animateScrolling=function(b,R){var k=this.scrollTop;if(this.$animatedScroll){var S=this;if(b!=k){if(this.$scrollAnimation){var M=this.$scrollAnimation.steps;if(M.length&&(b=M[0])==k)return}var C=S.$calcSteps(b,k);this.$scrollAnimation={from:b,to:k,steps:C},clearInterval(this.$timer),S.session.setScrollTop(C.shift()),S.session.$scrollTop=k,this.$timer=setInterval(function(){if(!S.session)return clearInterval(S.$timer);C.length?(S.session.setScrollTop(C.shift()),S.session.$scrollTop=k):null!=k?(S.session.$scrollTop=-1,S.session.setScrollTop(k),k=null):(S.$timer=clearInterval(S.$timer),S.$scrollAnimation=null,R&&R())},10)}}},this.scrollToY=function(b){this.scrollTop!==b&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=b)},this.scrollToX=function(b){this.scrollLeft!==b&&(this.scrollLeft=b),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(b,R){this.session.setScrollTop(R),this.session.setScrollLeft(b)},this.scrollBy=function(b,R){R&&this.session.setScrollTop(this.session.getScrollTop()+R),b&&this.session.setScrollLeft(this.session.getScrollLeft()+b)},this.isScrollableBy=function(b,R){if(R<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||R>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||b<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||b>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(b,R){var k;if(this.$hasCssTransforms){k={top:0,left:0};var S=this.$fontMetrics.transformCoordinates([b,R]);b=S[1]-this.gutterWidth-this.margin.left,R=S[0]}else k=this.scroller.getBoundingClientRect();var M=b+this.scrollLeft-k.left-this.$padding,C=M/this.characterWidth,T=Math.floor((R+this.scrollTop-k.top)/this.lineHeight),I=this.$blockCursor?Math.floor(C):Math.round(C);return{row:T,column:I,side:C-I>0?1:-1,offsetX:M}},this.screenToTextCoordinates=function(b,R){var k;if(this.$hasCssTransforms){k={top:0,left:0};var S=this.$fontMetrics.transformCoordinates([b,R]);b=S[1]-this.gutterWidth-this.margin.left,R=S[0]}else k=this.scroller.getBoundingClientRect();var M=b+this.scrollLeft-k.left-this.$padding,C=M/this.characterWidth,T=this.$blockCursor?Math.floor(C):Math.round(C),I=Math.floor((R+this.scrollTop-k.top)/this.lineHeight);return this.session.screenToDocumentPosition(I,Math.max(T,0),M)},this.textToScreenCoordinates=function(b,R){var k=this.scroller.getBoundingClientRect(),S=this.session.documentToScreenPosition(b,R),M=this.$padding+(this.session.$bidiHandler.isBidiRow(S.row,b)?this.session.$bidiHandler.getPosLeft(S.column):Math.round(S.column*this.characterWidth));return{pageX:k.left+M-this.scrollLeft,pageY:k.top+S.row*this.lineHeight-this.scrollTop}},this.visualizeFocus=function(){w.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){w.removeCssClass(this.container,"ace_focus")},this.showComposition=function(b){this.$composition=b,b.cssText||(b.cssText=this.textarea.style.cssText),null==b.useTextareaForIME&&(b.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(w.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):b.markerId=this.session.addMarker(b.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(b){var R=this.session.selection.cursor;this.addToken(b,"composition_placeholder",R.row,R.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),w.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var b=this.session.selection.cursor;this.removeExtraToken(b.row,b.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(b,R,k,S){var M=this.session;M.bgTokenizer.lines[k]=null;var C={type:R,value:b},T=M.getTokens(k);if(null==S)T.push(C);else for(var I=0,$=0;$<T.length;$++){var F=T[$];if(S<=(I+=F.value.length)){var P=F.value.length-(I-S),U=F.value.slice(0,P),W=F.value.slice(P);T.splice($,1,{type:F.type,value:U},C,{type:F.type,value:W});break}}this.updateLines(k,k)},this.removeExtraToken=function(b,R){this.updateLines(b,b)},this.setTheme=function(b,R){var k=this;function M(C){if(k.$themeId!=b)return R&&R();if(!C||!C.cssClass)throw new Error("couldn't load module "+b+" or it didn't call define");C.$id&&(k.$themeId=C.$id),w.importCssString(C.cssText,C.cssClass,k.container),k.theme&&w.removeCssClass(k.container,k.theme.cssClass);var T="padding"in C?C.padding:"padding"in(k.theme||{})?4:k.$padding;k.$padding&&T!=k.$padding&&k.setPadding(T),k.$theme=C.cssClass,k.theme=C,w.addCssClass(k.container,C.cssClass),w.setCssClass(k.container,"ace_dark",C.isDark),k.$size&&(k.$size.width=0,k.$updateSizeAsync()),k._dispatchEvent("themeLoaded",{theme:C}),R&&R()}this.$themeId=b,k._dispatchEvent("themeChange",{theme:b}),b&&"string"!=typeof b?M(b):g.loadModule(["theme",b||this.$options.theme.initialValue],M)},this.getTheme=function(){return this.$themeId},this.setStyle=function(b,R){w.setCssClass(this.container,b,!1!==R)},this.unsetStyle=function(b){w.removeCssClass(this.container,b)},this.setCursorStyle=function(b){w.setStyle(this.scroller.style,"cursor",b)},this.setMouseCursor=function(b){w.setStyle(this.scroller.style,"cursor",b)},this.attachToShadowRoot=function(){w.importCssString(p,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(D.prototype),g.defineOptions(D.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(R){this.$textLayer.setShowInvisibles(R)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(R){"number"==typeof R&&(this.$printMarginColumn=R),this.$showPrintMargin=!!R,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(R){this.$gutter.style.display=R?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(R){w.setCssClass(this.$gutter,"ace_fade-fold-widgets",R)},initialValue:!1},showFoldWidgets:{set:function(R){this.$gutterLayer.setShowFoldWidgets(R),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(R){this.$textLayer.setDisplayIndentGuides(R)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(R){this.$gutterLayer.setHighlightGutterLine(R),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(R){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(R){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(R){"number"==typeof R&&(R+="px"),this.container.style.fontSize=R,this.updateFontSize()},initialValue:12},fontFamily:{set:function(R){this.container.style.fontFamily=R,this.updateFontSize()}},maxLines:{set:function(R){this.updateFull()}},minLines:{set:function(R){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(R){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(R){this.$scrollPastEnd!=(R=+R||0)&&(this.$scrollPastEnd=R,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(R){this.$gutterLayer.$fixedWidth=!!R,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(R){this.setTheme(R)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!_.isMobile&&!_.isIE}}),H.VirtualRenderer=D}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(N,H,x){"use strict";var O=N("../lib/oop"),w=N("../lib/net"),g=N("../lib/event_emitter").EventEmitter,y=N("../config");function f(u){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(y.get("loadWorkerFromBlob")){var c=function v(u){var c="importScripts('"+w.qualifyURL(u)+"');";try{return new Blob([c],{type:"application/javascript"})}catch(p){var h=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return h.append(c),h.getBlob("application/javascript")}}(u),h=(window.URL||window.webkitURL).createObjectURL(c);return new Worker(h)}return new Worker(u)}var s=function(c){c.postMessage||(c=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=c,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){O.implement(this,g),this.$createWorkerFromOldConfig=function(u,c,d,h,p){if(N.nameToUrl&&!N.toUrl&&(N.toUrl=N.nameToUrl),y.get("packaged")||!N.toUrl)h=h||y.moduleUrl(c,"worker");else{var _=this.$normalizePath;h=h||_(N.toUrl("ace/worker/worker.js",null,"_"));var E={};u.forEach(function(D){E[D]=_(N.toUrl(D,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=f(h),p&&this.send("importScripts",p),this.$worker.postMessage({init:!0,tlns:E,module:c,classname:d}),this.$worker},this.onMessage=function(u){var c=u.data;switch(c.type){case"event":this._signal(c.name,{data:c.data});break;case"call":var d=this.callbacks[c.id];d&&(d(c.data),delete this.callbacks[c.id]);break;case"error":this.reportError(c.data);break;case"log":window.console&&console.log&&console.log.apply(console,c.data)}},this.reportError=function(u){window.console&&console.error&&console.error(u)},this.$normalizePath=function(u){return w.qualifyURL(u)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(u,c){this.$worker.postMessage({command:u,args:c})},this.call=function(u,c,d){if(d){var h=this.callbackId++;this.callbacks[h]=d,c.push(h)}this.send(u,c)},this.emit=function(u,c){try{c.data&&c.data.err&&(c.data.err={message:c.data.err.message,stack:c.data.err.stack,code:c.data.err.code}),this.$worker.postMessage({event:u,data:{data:c.data}})}catch(d){console.error(d.stack)}},this.attachToDocument=function(u){this.$doc&&this.terminate(),this.$doc=u,this.call("setValue",[u.getValue()]),u.on("change",this.changeListener)},this.changeListener=function(u){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(u.start,"insert"==u.action?u.lines:u.end)},this.$sendDeltaQueue=function(){var u=this.deltaQueue;!u||(this.deltaQueue=null,u.length>50&&u.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:u}))}}).call(s.prototype),H.UIWorkerClient=function(c,d,h){var p=null,_=!1,E=Object.create(g),D=[],b=new s({messageBuffer:D,terminate:function(){},postMessage:function(S){D.push(S),p&&(_?setTimeout(R):R())}});b.setEmitSync=function(k){_=k};var R=function(){var S=D.shift();S.command?p[S.command].apply(p,S.args):S.event&&E._signal(S.event,S.data)};return E.postMessage=function(k){b.onMessage({data:k})},E.callback=function(k,S){this.postMessage({type:"call",id:S,data:k})},E.emit=function(k,S){this.postMessage({type:"event",name:k,data:S})},y.loadModule(["worker",d],function(k){for(p=new k[h](E);D.length;)R()}),b},H.WorkerClient=s,H.createWorker=f}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(N,H,x){"use strict";var O=N("./range").Range,w=N("./lib/event_emitter").EventEmitter,g=N("./lib/oop"),y=function(f,s,a,u,c,d){var h=this;this.length=s,this.session=f,this.doc=f.getDocument(),this.mainClass=c,this.othersClass=d,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=u,this.$onCursorChange=function(){setTimeout(function(){h.onCursorChange()})},this.$pos=a;var p=f.getUndoManager().$undoStack||f.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=p.length,this.setup(),f.selection.on("changeCursor",this.$onCursorChange)};(function(){g.implement(this,w),this.setup=function(){var v=this,f=this.doc,s=this.session;this.selectionBefore=s.selection.toJSON(),s.selection.inMultiSelectMode&&s.selection.toSingleRange(),this.pos=f.createAnchor(this.$pos.row,this.$pos.column);var a=this.pos;a.$insertRight=!0,a.detach(),a.markerId=s.addMarker(new O(a.row,a.column,a.row,a.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(u){var c=f.createAnchor(u.row,u.column);c.$insertRight=!0,c.detach(),v.others.push(c)}),s.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var v=this.session,f=this;this.othersActive=!0,this.others.forEach(function(s){s.markerId=v.addMarker(new O(s.row,s.column,s.row,s.column+f.length),f.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var v=0;v<this.others.length;v++)this.session.removeMarker(this.others[v].markerId)}},this.onUpdate=function(v){if(this.$updating)return this.updateAnchors(v);var f=v;if(f.start.row===f.end.row&&f.start.row===this.pos.row){this.$updating=!0;var s="insert"===v.action?f.end.column-f.start.column:f.start.column-f.end.column,a=f.start.column>=this.pos.column&&f.start.column<=this.pos.column+this.length+1,u=f.start.column-this.pos.column;if(this.updateAnchors(v),a&&(this.length+=s),a&&!this.session.$fromUndo)if("insert"===v.action)for(var c=this.others.length-1;c>=0;c--)this.doc.insertMergedLines(h={row:(d=this.others[c]).row,column:d.column+u},v.lines);else if("remove"===v.action)for(c=this.others.length-1;c>=0;c--){var d,h;this.doc.remove(new O((h={row:(d=this.others[c]).row,column:d.column+u}).row,h.column,h.row,h.column-s))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(v){this.pos.onChange(v);for(var f=this.others.length;f--;)this.others[f].onChange(v);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var v=this,f=this.session,s=function(c,d){f.removeMarker(c.markerId),c.markerId=f.addMarker(new O(c.row,c.column,c.row,c.column+v.length),d,null,!1)};s(this.pos,this.mainClass);for(var a=this.others.length;a--;)s(this.others[a],this.othersClass)}},this.onCursorChange=function(v){if(!this.$updating&&this.session){var f=this.session.selection.getCursor();f.row===this.pos.row&&f.column>=this.pos.column&&f.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",v)):(this.hideOtherMarkers(),this._emit("cursorLeave",v))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var v=this.session.getUndoManager(),f=(v.$undoStack||v.$undostack).length-this.$undoStackDepth,s=0;s<f;s++)v.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(y.prototype),H.PlaceHolder=y}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(N,H,x){var O=N("../lib/event"),w=N("../lib/useragent");function g(v,f){return v.row==f.row&&v.column==f.column}H.onMouseDown=function y(v){var f=v.domEvent,s=f.altKey,a=f.shiftKey,u=f.ctrlKey,c=v.getAccelKey(),d=v.getButton();if(u&&w.isMac&&(d=f.button),v.editor.inMultiSelectMode&&2==d)v.editor.textInput.onContextMenu(v.domEvent);else if(u||s||c){if(0===d){var I,h=v.editor,p=h.selection,_=h.inMultiSelectMode,E=v.getDocumentPosition(),D=p.getCursor(),b=v.inSelection()||p.isEmpty()&&g(E,D),R=v.x,k=v.y,M=h.session,C=h.renderer.pixelToScreenCoordinates(R,k),T=C;if(h.$mouseHandler.$enableJumpToDef)u&&s||c&&s?I=a?"block":"add":s&&h.$blockSelectEnabled&&(I="block");else if(c&&!s){if(I="add",!_&&a)return}else s&&h.$blockSelectEnabled&&(I="block");if(I&&w.isMac&&f.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==I){if(!_&&b)return;if(!_){var $=p.toOrientedRange();h.addSelectionMarker($)}var F=p.rangeList.rangeAtPoint(E);h.inVirtualSelectionMode=!0,a&&(F=null,h.removeSelectionMarker($=p.ranges[0]||$)),h.once("mouseup",function(){var Q=p.toOrientedRange();F&&Q.isEmpty()&&g(F.cursor,Q.cursor)?p.substractPoint(Q.cursor):(a?p.substractPoint($.cursor):$&&(h.removeSelectionMarker($),p.addRange($)),p.addRange(Q)),h.inVirtualSelectionMode=!1})}else if("block"==I){v.stop(),h.inVirtualSelectionMode=!0;var P,U=[],W=function(){var oe=h.renderer.pixelToScreenCoordinates(R,k),re=M.screenToDocumentPosition(oe.row,oe.column,oe.offsetX);g(T,oe)&&g(re,p.lead)||(T=oe,h.selection.moveToPosition(re),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(U),U=p.rectangularRangeBlock(T,C),h.$mouseHandler.$clickSelection&&1==U.length&&U[0].isEmpty()&&(U[0]=h.$mouseHandler.$clickSelection.clone()),U.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};_&&!c?p.toSingleRange():!_&&c&&(P=p.toOrientedRange(),h.addSelectionMarker(P)),a?C=M.documentToScreenPosition(p.lead):p.moveToPosition(E),T={row:-1,column:-1};var X=W;O.capture(h.container,function(oe){R=oe.clientX,k=oe.clientY},function(oe){W(),clearInterval(K),h.removeSelectionMarkers(U),U.length||(U=[p.toOrientedRange()]),P&&(h.removeSelectionMarker(P),p.toSingleRange(P));for(var re=0;re<U.length;re++)p.addRange(U[re]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null});var K=setInterval(function(){X()},20);return v.preventDefault()}}}else 0===d&&v.editor.inMultiSelectMode&&v.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(N,H,x){H.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(g){g.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(g){g.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(g){g.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(g){g.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(g){g.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(g){g.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(g){g.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(g){g.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(g){g.multiSelect.rangeCount>1?g.multiSelect.joinSelections():g.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(g){g.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(g){g.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(g){g.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],H.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(g){g.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(g){return g&&g.inMultiSelectMode}}];var O=N("../keyboard/hash_handler").HashHandler;H.keyboardHandler=new O(H.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(N,H,x){var O=N("./range_list").RangeList,w=N("./range").Range,g=N("./selection").Selection,y=N("./mouse/multi_select_handler").onMouseDown,v=N("./lib/event"),f=N("./lib/lang"),s=N("./commands/multi_select_commands");H.commands=s.defaultCommands.concat(s.multiSelectCommands);var u=new(0,N("./search").Search),d=N("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(d.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(D,b){if(D){if(!this.inMultiSelectMode&&0===this.rangeCount){var R=this.toOrientedRange();if(this.rangeList.add(R),this.rangeList.add(D),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),b||this.fromOrientedRange(D);this.rangeList.removeAll(),this.rangeList.add(R),this.$onAddRange(R)}D.cursor||(D.cursor=D.end);var k=this.rangeList.add(D);return this.$onAddRange(D),k.length&&this.$onRemoveRange(k),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),b||this.fromOrientedRange(D)}},this.toSingleRange=function(D){D=D||this.ranges[0];var b=this.rangeList.removeAll();b.length&&this.$onRemoveRange(b),D&&this.fromOrientedRange(D)},this.substractPoint=function(D){var b=this.rangeList.substractPoint(D);if(b)return this.$onRemoveRange(b),b[0]},this.mergeOverlappingRanges=function(){var D=this.rangeList.merge();D.length&&this.$onRemoveRange(D)},this.$onAddRange=function(D){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(D),this._signal("addRange",{range:D})},this.$onRemoveRange=function(D){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var b=this.rangeList.ranges.pop();D.push(b),this.rangeCount=0}for(var R=D.length;R--;){var k=this.ranges.indexOf(D[R]);this.ranges.splice(k,1)}this._signal("removeRange",{ranges:D}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(b=b||this.ranges[0])&&!b.isEqual(this.getRange())&&this.fromOrientedRange(b)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new O,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var D=this.ranges.length?this.ranges:[this.getRange()],b=[],R=0;R<D.length;R++){var k=D[R],S=k.start.row,M=k.end.row;if(S===M)b.push(k.clone());else{for(b.push(new w(S,k.start.column,S,this.session.getLine(S).length));++S<M;)b.push(this.getLineRange(S,!0));b.push(new w(M,0,M,k.end.column))}0==R&&!this.isBackwards()&&(b=b.reverse())}for(this.toSingleRange(),R=b.length;R--;)this.addRange(b[R])},this.joinSelections=function(){var D=this.rangeList.ranges,b=D[D.length-1],R=w.fromPoints(D[0].start,b.end);this.toSingleRange(),this.setSelectionRange(R,b.cursor==b.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var D=this.rangeList.ranges,b=D[D.length-1],R=w.fromPoints(D[0].start,b.end);this.toSingleRange(),this.setSelectionRange(R,b.cursor==b.start)}else{var k=this.session.documentToScreenPosition(this.cursor),S=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(k,S).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(D,b,R){var k=[],S=D.column<b.column;if(S)var M=D.column,C=b.column,T=D.offsetX,I=b.offsetX;else M=b.column,C=D.column,T=b.offsetX,I=D.offsetX;var $=D.row<b.row;if($)var F=D.row,P=b.row;else F=b.row,P=D.row;M<0&&(M=0),F<0&&(F=0),F==P&&(R=!0);for(var U,W=F;W<=P;W++){var z=w.fromPoints(this.session.screenToDocumentPosition(W,M,T),this.session.screenToDocumentPosition(W,C,I));if(z.isEmpty()){if(U&&p(z.end,U))break;U=z.end}z.cursor=S?z.start:z.end,k.push(z)}if($&&k.reverse(),!R){for(var X=k.length-1;k[X].isEmpty()&&X>0;)X--;if(X>0)for(var K=0;k[K].isEmpty();)K++;for(var Q=X;Q>=K;Q--)k[Q].isEmpty()&&k.splice(Q,1)}return k}}.call(g.prototype);var h=N("./editor").Editor;function p(D,b){return D.row==b.row&&D.column==b.column}function _(D){D.$multiselectOnSessionChange||(D.$onAddRange=D.$onAddRange.bind(D),D.$onRemoveRange=D.$onRemoveRange.bind(D),D.$onMultiSelect=D.$onMultiSelect.bind(D),D.$onSingleSelect=D.$onSingleSelect.bind(D),D.$multiselectOnSessionChange=H.onSessionChange.bind(D),D.$checkMultiselectChange=D.$checkMultiselectChange.bind(D),D.$multiselectOnSessionChange(D),D.on("changeSession",D.$multiselectOnSessionChange),D.on("mousedown",y),D.commands.addCommands(s.defaultCommands),function E(D){if(D.textInput){var b=D.textInput.getElement(),R=!1;v.addListener(b,"keydown",function(S){D.$blockSelectEnabled&&18==S.keyCode&&!(S.ctrlKey||S.shiftKey||S.metaKey)?R||(D.renderer.setMouseCursor("crosshair"),R=!0):R&&k()},D),v.addListener(b,"keyup",k,D),v.addListener(b,"blur",k,D)}function k(S){R&&(D.renderer.setMouseCursor(""),R=!1)}}(D))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(D){D.cursor||(D.cursor=D.end);var b=this.getSelectionStyle();return D.marker=this.session.addMarker(D,"ace_selection",b),this.session.$selectionMarkers.push(D),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,D},this.removeSelectionMarker=function(D){if(D.marker){this.session.removeMarker(D.marker);var b=this.session.$selectionMarkers.indexOf(D);-1!=b&&this.session.$selectionMarkers.splice(b,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(D){for(var b=this.session.$selectionMarkers,R=D.length;R--;){var k=D[R];if(k.marker){this.session.removeMarker(k.marker);var S=b.indexOf(k);-1!=S&&b.splice(S,1)}}this.session.selectionMarkerCount=b.length},this.$onAddRange=function(D){this.addSelectionMarker(D.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(D){this.removeSelectionMarkers(D.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(D){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(s.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(D){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(s.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(D){var b=D.command,R=D.editor;if(R.multiSelect){if(b.multiSelectAction)"forEach"==b.multiSelectAction?k=R.forEachSelection(b,D.args):"forEachLine"==b.multiSelectAction?k=R.forEachSelection(b,D.args,!0):"single"==b.multiSelectAction?(R.exitMultiSelectMode(),k=b.exec(R,D.args||{})):k=b.multiSelectAction(R,D.args||{});else{var k=b.exec(R,D.args||{});R.multiSelect.addRange(R.multiSelect.toOrientedRange()),R.multiSelect.mergeOverlappingRanges()}return k}},this.forEachSelection=function(D,b,R){if(!this.inVirtualSelectionMode){var $,S=1==R||R&&R.$byLines,M=this.session,C=this.selection,I=(R&&R.keepOrder?C:C.rangeList).ranges;if(!I.length)return D.exec?D.exec(this,b||{}):D(this,b||{});var F=C._eventRegistry;C._eventRegistry={};var P=new g(M);this.inVirtualSelectionMode=!0;for(var U=I.length;U--;){if(S)for(;U>0&&I[U].start.row==I[U-1].end.row;)U--;P.fromOrientedRange(I[U]),P.index=U,this.selection=M.selection=P;var W=D.exec?D.exec(this,b||{}):D(this,b||{});!$&&void 0!==W&&($=W),P.toOrientedRange(I[U])}P.detach(),this.selection=M.selection=C,this.inVirtualSelectionMode=!1,C._eventRegistry=F,C.mergeOverlappingRanges(),C.ranges[0]&&C.fromOrientedRange(C.ranges[0]);var z=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),z&&z.from==z.to&&this.renderer.animateScrolling(z.from),$}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var D="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var b=this.multiSelect.rangeList.ranges,R=[],k=0;k<b.length;k++)R.push(this.session.getTextRange(b[k]));var S=this.session.getDocument().getNewLineCharacter();(D=R.join(S)).length==(R.length-1)*S.length&&(D="")}else this.selection.isEmpty()||(D=this.session.getTextRange(this.getSelectionRange()));return D},this.$checkMultiselectChange=function(D,b){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var R=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&b==this.multiSelect.anchor)return;var k=b==this.multiSelect.anchor?R.cursor==R.start?R.end:R.start:R.cursor;k.row!=b.row||this.session.$clipPositionToDocument(k.row,k.column).column!=b.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(D,b,R){if((b=b||{}).needle=D||b.needle,null==b.needle){var k=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();b.needle=this.session.getTextRange(k)}this.$search.set(b);var S=this.$search.findAll(this.session);if(!S.length)return 0;var M=this.multiSelect;R||M.toSingleRange(S[0]);for(var C=S.length;C--;)M.addRange(S[C],!0);return k&&M.rangeList.rangeAtPoint(k.start)&&M.addRange(k,!0),S.length},this.selectMoreLines=function(D,b){var R=this.selection.toOrientedRange(),k=R.cursor==R.end,S=this.session.documentToScreenPosition(R.cursor);this.selection.$desiredColumn&&(S.column=this.selection.$desiredColumn);var I,M=this.session.screenToDocumentPosition(S.row+D,S.column);if(R.isEmpty())var T=M;else{var C=this.session.documentToScreenPosition(k?R.end:R.start);T=this.session.screenToDocumentPosition(C.row+D,C.column)}if(k?(I=w.fromPoints(M,T)).cursor=I.start:(I=w.fromPoints(T,M)).cursor=I.end,I.desiredColumn=S.column,this.selection.inMultiSelectMode){if(b)var $=R.cursor}else this.selection.addRange(R);this.selection.addRange(I),$&&this.selection.substractPoint($)},this.transposeSelections=function(D){for(var b=this.session,R=b.multiSelect,k=R.ranges,S=k.length;S--;)if((M=k[S]).isEmpty()){var C=b.getWordRange(M.start.row,M.start.column);M.start.row=C.start.row,M.start.column=C.start.column,M.end.row=C.end.row,M.end.column=C.end.column}R.mergeOverlappingRanges();var T=[];for(S=k.length;S--;)T.unshift(b.getTextRange(M=k[S]));for(D<0?T.unshift(T.pop()):T.push(T.shift()),S=k.length;S--;){var M;C=(M=k[S]).clone(),b.replace(M,T[S]),M.start.row=C.start.row,M.start.column=C.start.column}R.fromOrientedRange(R.ranges[0])},this.selectMore=function(D,b,R){var k=this.session,M=k.multiSelect.toOrientedRange();if(!M.isEmpty()||((M=k.getWordRange(M.start.row,M.start.column)).cursor=-1==D?M.start:M.end,this.multiSelect.addRange(M),!R)){var C=k.getTextRange(M),T=function c(D,b,R){return u.$options.wrap=!0,u.$options.needle=b,u.$options.backwards=-1==R,u.find(D)}(k,C,D);T&&(T.cursor=-1==D?T.start:T.end,this.session.unfold(T),this.multiSelect.addRange(T),this.renderer.scrollCursorIntoView(null,.5)),b&&this.multiSelect.substractPoint(M.cursor)}},this.alignCursors=function(){var D=this.session,b=D.multiSelect,R=b.ranges,k=-1,S=R.filter(function(X){if(X.cursor.row==k)return!0;k=X.cursor.row});if(R.length&&S.length!=R.length-1){S.forEach(function(X){b.substractPoint(X.cursor)});var U=0,W=1/0,z=R.map(function(X){var K=X.cursor,oe=D.getLine(K.row).substr(K.column).search(/\S/g);return-1==oe&&(oe=0),K.column>U&&(U=K.column),oe<W&&(W=oe),oe});R.forEach(function(X,K){var Q=X.cursor,oe=U-Q.column,re=z[K]-W;oe>re?D.insert(Q,f.stringRepeat(" ",oe-re)):D.remove(new w(Q.row,Q.column,Q.row,Q.column-oe+re)),X.start.column=X.end.column=U,X.start.row=X.end.row=Q.row,X.cursor=X.end}),b.fromOrientedRange(R[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var M=this.selection.getRange(),C=M.start.row,T=M.end.row,I=C==T;if(I){var F,$=this.session.getLength();do{F=this.session.getLine(T)}while(/[=:]/.test(F)&&++T<$);do{F=this.session.getLine(C)}while(/[=:]/.test(F)&&--C>0);C<0&&(C=0),T>=$&&(T=$-1)}var P=this.session.removeFullLines(C,T);P=this.$reAlignText(P,I),this.session.insert({row:C,column:0},P.join("\n")+"\n"),I||(M.start.column=0,M.end.column=P[P.length-1].length),this.selection.setRange(M)}},this.$reAlignText=function(D,b){var S,M,C,R=!0,k=!0;return D.map(function(P){var U=P.match(/(\s*)(.*?)(\s*)([=:].*)/);return U?null==S?(S=U[1].length,M=U[2].length,C=U[3].length,U):(S+M+C!=U[1].length+U[2].length+U[3].length&&(k=!1),S!=U[1].length&&(R=!1),S>U[1].length&&(S=U[1].length),M<U[2].length&&(M=U[2].length),C>U[3].length&&(C=U[3].length),U):[P]}).map(b?I:R?k?function $(P){return P[2]?T(S+M-P[2].length)+P[2]+T(C)+P[4].replace(/^([=:])\s+/,"$1 "):P[0]}:I:function F(P){return P[2]?T(S)+P[2]+T(C)+P[4].replace(/^([=:])\s+/,"$1 "):P[0]});function T(P){return f.stringRepeat(" ",P)}function I(P){return P[2]?T(S)+P[2]+T(M-P[2].length+C)+P[4].replace(/^([=:])\s+/,"$1 "):P[0]}}}).call(h.prototype),H.onSessionChange=function(D){var b=D.session;b&&!b.multiSelect&&(b.$selectionMarkers=[],b.selection.$initRangeList(),b.multiSelect=b.selection),this.multiSelect=b&&b.multiSelect;var R=D.oldSession;R&&(R.multiSelect.off("addRange",this.$onAddRange),R.multiSelect.off("removeRange",this.$onRemoveRange),R.multiSelect.off("multiSelect",this.$onMultiSelect),R.multiSelect.off("singleSelect",this.$onSingleSelect),R.multiSelect.lead.off("change",this.$checkMultiselectChange),R.multiSelect.anchor.off("change",this.$checkMultiselectChange)),b&&(b.multiSelect.on("addRange",this.$onAddRange),b.multiSelect.on("removeRange",this.$onRemoveRange),b.multiSelect.on("multiSelect",this.$onMultiSelect),b.multiSelect.on("singleSelect",this.$onSingleSelect),b.multiSelect.lead.on("change",this.$checkMultiselectChange),b.multiSelect.anchor.on("change",this.$checkMultiselectChange)),b&&this.inMultiSelectMode!=b.selection.inMultiSelectMode&&(b.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},H.MultiSelect=_,N("./config").defineOptions(h.prototype,"editor",{enableMultiselect:{set:function(b){_(this),b?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",y)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",y))},value:!0},enableBlockSelect:{set:function(b){this.$blockSelectEnabled=b},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(N,H,x){"use strict";var O=N("../../range").Range,w=H.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(g,y,v){var f=g.getLine(v);return this.foldingStartMarker.test(f)?"start":"markbeginend"==y&&this.foldingStopMarker&&this.foldingStopMarker.test(f)?"end":""},this.getFoldWidgetRange=function(g,y,v){return null},this.indentationBlock=function(g,y,v){var f=/\S/,s=g.getLine(y),a=s.search(f);if(-1!=a){for(var u=v||s.length,c=g.getLength(),d=y,h=y;++y<c;){var p=g.getLine(y).search(f);if(-1!=p){if(p<=a){var _=g.getTokenAt(y,0);if(!_||"string"!==_.type)break}h=y}}if(h>d){var E=g.getLine(h).length;return new O(d,u,h,E)}}},this.openingBracketBlock=function(g,y,v,f,s){var a={row:v,column:f+1},u=g.$findClosingBracket(y,a,s);if(u){var c=g.foldWidgets[u.row];return null==c&&(c=g.getFoldWidget(u.row)),"start"==c&&u.row>a.row&&(u.row--,u.column=g.getLine(u.row).length),O.fromPoints(a,u)}},this.closingBracketBlock=function(g,y,v,f,s){var a={row:v,column:f},u=g.$findOpeningBracket(y,a);if(u)return u.column++,a.column--,O.fromPoints(u,a)}}).call(w.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(N,H,x){"use strict";H.isDark=!1,H.cssClass="ace-tm",H.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',H.$id="ace/theme/textmate",N("../lib/dom").importCssString(H.cssText,H.cssClass,!1)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(N,H,x){"use strict";var O=N("./lib/dom");function w(g){this.session=g,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(g){var y;return y=this.lineWidgets&&this.lineWidgets[g]&&this.lineWidgets[g].rowCount||0,this.$useWrapMode&&this.$wrapData[g]?this.$wrapData[g].length+1+y:1+y},this.$getWidgetScreenLength=function(){var g=0;return this.lineWidgets.forEach(function(y){y&&y.rowCount&&!y.hidden&&(g+=y.rowCount)}),g},this.$onChangeEditor=function(g){this.attach(g.editor)},this.attach=function(g){g&&g.widgetManager&&g.widgetManager!=this&&g.widgetManager.detach(),this.editor!=g&&(this.detach(),this.editor=g,g&&(g.widgetManager=this,g.renderer.on("beforeRender",this.measureWidgets),g.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(g){var y=this.editor;if(y){this.editor=null,y.widgetManager=null,y.renderer.off("beforeRender",this.measureWidgets),y.renderer.off("afterRender",this.renderWidgets);var v=this.session.lineWidgets;v&&v.forEach(function(f){f&&f.el&&f.el.parentNode&&(f._inDocument=!1,f.el.parentNode.removeChild(f.el))})}},this.updateOnFold=function(g,y){var v=y.lineWidgets;if(v&&g.action){for(var f=g.data,s=f.start.row,a=f.end.row,u="add"==g.action,c=s+1;c<a;c++)v[c]&&(v[c].hidden=u);v[a]&&(u?v[s]?v[a].hidden=u:v[s]=v[a]:(v[s]==v[a]&&(v[s]=void 0),v[a].hidden=u))}},this.updateOnChange=function(g){var y=this.session.lineWidgets;if(y){var v=g.start.row,f=g.end.row-v;if(0!==f)if("remove"==g.action){var s=y.splice(v+1,f);!y[v]&&s[s.length-1]&&(y[v]=s.pop()),s.forEach(function(u){u&&this.removeLineWidget(u)},this),this.$updateRows()}else{var a=new Array(f);y[v]&&null!=y[v].column&&g.start.column>y[v].column&&v++,a.unshift(v,0),y.splice.apply(y,a),this.$updateRows()}}},this.$updateRows=function(){var g=this.session.lineWidgets;if(g){var y=!0;g.forEach(function(v,f){if(v)for(y=!1,v.row=f;v.$oldWidget;)v.$oldWidget.row=f,v=v.$oldWidget}),y&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(g){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var y=this.session.lineWidgets[g.row];return y&&(g.$oldWidget=y,y.el&&y.el.parentNode&&(y.el.parentNode.removeChild(y.el),y._inDocument=!1)),this.session.lineWidgets[g.row]=g,g},this.addLineWidget=function(g){if(this.$registerLineWidget(g),g.session=this.session,!this.editor)return g;var y=this.editor.renderer;g.html&&!g.el&&(g.el=O.createElement("div"),g.el.innerHTML=g.html),g.el&&(O.addCssClass(g.el,"ace_lineWidgetContainer"),g.el.style.position="absolute",g.el.style.zIndex=5,y.container.appendChild(g.el),g._inDocument=!0,g.coverGutter||(g.el.style.zIndex=3),null==g.pixelHeight&&(g.pixelHeight=g.el.offsetHeight)),null==g.rowCount&&(g.rowCount=g.pixelHeight/y.layerConfig.lineHeight);var v=this.session.getFoldAt(g.row,0);if(g.$fold=v,v){var f=this.session.lineWidgets;g.row!=v.end.row||f[v.start.row]?g.hidden=!0:f[v.start.row]=g}return this.session._emit("changeFold",{data:{start:{row:g.row}}}),this.$updateRows(),this.renderWidgets(null,y),this.onWidgetChanged(g),g},this.removeLineWidget=function(g){if(g._inDocument=!1,g.session=null,g.el&&g.el.parentNode&&g.el.parentNode.removeChild(g.el),g.editor&&g.editor.destroy)try{g.editor.destroy()}catch(v){}if(this.session.lineWidgets){var y=this.session.lineWidgets[g.row];if(y==g)this.session.lineWidgets[g.row]=g.$oldWidget,g.$oldWidget&&this.onWidgetChanged(g.$oldWidget);else for(;y;){if(y.$oldWidget==g){y.$oldWidget=g.$oldWidget;break}y=y.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:g.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(g){for(var y=this.session.lineWidgets,v=y&&y[g],f=[];v;)f.push(v),v=v.$oldWidget;return f},this.onWidgetChanged=function(g){this.session._changedWidgets.push(g),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(g,y){var v=this.session._changedWidgets,f=y.layerConfig;if(v&&v.length){for(var s=1/0,a=0;a<v.length;a++){var u=v[a];if(u&&u.el&&u.session==this.session){if(!u._inDocument){if(this.session.lineWidgets[u.row]!=u)continue;u._inDocument=!0,y.container.appendChild(u.el)}u.h=u.el.offsetHeight,u.fixedWidth||(u.w=u.el.offsetWidth,u.screenWidth=Math.ceil(u.w/f.characterWidth));var c=u.h/f.lineHeight;u.coverLine&&(c-=this.session.getRowLineCount(u.row))<0&&(c=0),u.rowCount!=c&&(u.rowCount=c,u.row<s&&(s=u.row))}}s!=1/0&&(this.session._emit("changeFold",{data:{start:{row:s}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(g,y){var v=y.layerConfig,f=this.session.lineWidgets;if(f){for(var s=Math.min(this.firstRow,v.firstRow),a=Math.max(this.lastRow,v.lastRow,f.length);s>0&&!f[s];)s--;this.firstRow=v.firstRow,this.lastRow=v.lastRow,y.$cursorLayer.config=v;for(var u=s;u<=a;u++){var c=f[u];if(c&&c.el){if(c.hidden){c.el.style.top=-100-(c.pixelHeight||0)+"px";continue}c._inDocument||(c._inDocument=!0,y.container.appendChild(c.el));var d=y.$cursorLayer.getPixelPosition({row:u,column:0},!0).top;c.coverLine||(d+=v.lineHeight*this.session.getRowLineCount(c.row)),c.el.style.top=d-v.offset+"px";var h=c.coverGutter?0:y.gutterWidth;c.fixedWidth||(h-=y.scrollLeft),c.el.style.left=h+"px",c.fullWidth&&c.screenWidth&&(c.el.style.minWidth=v.width+2*v.padding+"px"),c.el.style.right=c.fixedWidth?y.scrollBar.getWidth()+"px":""}}}}}).call(w.prototype),H.LineWidgets=w}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(N,H,x){"use strict";var O=N("../line_widgets").LineWidgets,w=N("../lib/dom"),g=N("../range").Range;H.showErrorMarker=function(f,s){var a=f.session;a.widgetManager||(a.widgetManager=new O(a),a.widgetManager.attach(f));var u=f.getCursorPosition(),c=u.row,d=a.widgetManager.getWidgetsAtRow(c).filter(function(S){return"errorMarker"==S.type})[0];d?d.destroy():c-=s;var p,h=function v(f,s,a){var u=f.getAnnotations().sort(g.comparePoints);if(u.length){var c=function y(f,s,a){for(var u=0,c=f.length-1;u<=c;){var d=u+c>>1,h=a(s,f[d]);if(h>0)u=d+1;else{if(!(h<0))return d;c=d-1}}return-(u+1)}(u,{row:s,column:-1},g.comparePoints);c<0&&(c=-c-1),c>=u.length?c=a>0?0:u.length-1:0===c&&a<0&&(c=u.length-1);var d=u[c];if(d&&a){if(d.row===s){do{d=u[c+=a]}while(d&&d.row===s);if(!d)return u.slice()}var h=[];s=d.row;do{h[a<0?"unshift":"push"](d),d=u[c+=a]}while(d&&d.row==s);return h.length&&h}}}(a,c,s);if(h){var _=h[0];u.column=(_.pos&&"number"!=typeof _.column?_.pos.sc:_.column)||0,u.row=_.row,p=f.renderer.$gutterLayer.$annotations[u.row]}else{if(d)return;p={text:["Looks good!"],className:"ace_ok"}}f.session.unfold(u.row),f.selection.moveToPosition(u);var E={row:u.row,fixedWidth:!0,coverGutter:!0,el:w.createElement("div"),type:"errorMarker"},D=E.el.appendChild(w.createElement("div")),b=E.el.appendChild(w.createElement("div"));b.className="error_widget_arrow "+p.className;var R=f.renderer.$cursorLayer.getPixelPosition(u).left;b.style.left=R+f.renderer.gutterWidth-5+"px",E.el.className="error_widget_wrapper",D.className="error_widget "+p.className,D.innerHTML=p.text.join("<br>"),D.appendChild(w.createElement("div"));var k=function(M,C,T){if(0===C&&("esc"===T||"return"===T))return E.destroy(),{command:"null"}};E.destroy=function(){f.$mouseHandler.isMousePressed||(f.keyBinding.removeKeyboardHandler(k),a.widgetManager.removeLineWidget(E),f.off("changeSelection",E.destroy),f.off("changeSession",E.destroy),f.off("mouseup",E.destroy),f.off("change",E.destroy))},f.keyBinding.addKeyboardHandler(k),f.on("changeSelection",E.destroy),f.on("changeSession",E.destroy),f.on("mouseup",E.destroy),f.on("change",E.destroy),f.session.widgetManager.addLineWidget(E),E.el.onmousedown=f.focus.bind(f),f.renderer.scrollCursorIntoView(null,.5,{bottom:E.el.offsetHeight})},w.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(N,H,x){"use strict";N("./lib/fixoldbrowsers");var O=N("./lib/dom"),w=N("./lib/event"),g=N("./range").Range,y=N("./editor").Editor,v=N("./edit_session").EditSession,f=N("./undomanager").UndoManager,s=N("./virtual_renderer").VirtualRenderer;N("./worker/worker_client"),N("./keyboard/hash_handler"),N("./placeholder"),N("./multi_select"),N("./mode/folding/fold_mode"),N("./theme/textmate"),N("./ext/error_marker"),H.config=N("./config"),H.require=N,H.define=ne.amdD,H.edit=function(a,u){if("string"==typeof a){var c=a;if(!(a=document.getElementById(c)))throw new Error("ace.edit can't find div #"+c)}if(a&&a.env&&a.env.editor instanceof y)return a.env.editor;var d="";if(a&&/input|textarea/i.test(a.tagName)){var h=a;d=h.value,a=O.createElement("pre"),h.parentNode.replaceChild(a,h)}else a&&(d=a.textContent,a.innerHTML="");var p=H.createEditSession(d),_=new y(new s(a),p,u),E={document:p,editor:_,onResize:_.resize.bind(_,null)};return h&&(E.textarea=h),w.addListener(window,"resize",E.onResize),_.on("destroy",function(){w.removeListener(window,"resize",E.onResize),E.editor.container.env=null}),_.container.env=_.env=E,_},H.createEditSession=function(a,u){var c=new v(a,u);return c.setUndoManager(new f),c},H.Range=g,H.Editor=y,H.EditSession=v,H.UndoManager=f,H.VirtualRenderer=s,H.version=H.config.version}),ace.require(["ace/ace"],function(N){for(var H in N&&(N.config.init(!0),N.define=ace.define),window.ace||(window.ace=N),N)N.hasOwnProperty(H)&&(window.ace[H]=N[H]);window.ace.default=window.ace,ge&&(ge.exports=window.ace)})},8498:function(ge){function ne(){}ge.exports=function J(N,H,x){var O=!1;return x=x||ne,w.count=N,0===N?H():w;function w(g,y){if(w.count<=0)throw new Error("after called too many times");--w.count,g?(O=!0,H(g),H=x):0===w.count&&!O&&H(null,y)}}},9933:function(ge){ge.exports=function(J,ne,N){var H=J.byteLength;if(ne=ne||0,N=N||H,J.slice)return J.slice(ne,N);if(ne<0&&(ne+=H),N<0&&(N+=H),N>H&&(N=H),ne>=H||ne>=N||0===H)return new ArrayBuffer(0);for(var x=new Uint8Array(J),O=new Uint8Array(N-ne),w=ne,g=0;w<N;w++,g++)O[g]=x[w];return O.buffer}},2150:function(ge){function J(ne){this.ms=(ne=ne||{}).min||100,this.max=ne.max||1e4,this.factor=ne.factor||2,this.jitter=ne.jitter>0&&ne.jitter<=1?ne.jitter:0,this.attempts=0}ge.exports=J,J.prototype.duration=function(){var ne=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var N=Math.random(),H=Math.floor(N*this.jitter*ne);ne=0==(1&Math.floor(10*N))?ne-H:ne+H}return 0|Math.min(ne,this.max)},J.prototype.reset=function(){this.attempts=0},J.prototype.setMin=function(ne){this.ms=ne},J.prototype.setMax=function(ne){this.max=ne},J.prototype.setJitter=function(ne){this.jitter=ne}},390:function(ge,J){!function(ne){"use strict";J.encode=function(N){var x,H=new Uint8Array(N),O=H.length,w="";for(x=0;x<O;x+=3)w+=ne[H[x]>>2],w+=ne[(3&H[x])<<4|H[x+1]>>4],w+=ne[(15&H[x+1])<<2|H[x+2]>>6],w+=ne[63&H[x+2]];return O%3==2?w=w.substring(0,w.length-1)+"=":O%3==1&&(w=w.substring(0,w.length-2)+"=="),w},J.decode=function(N){var O,g,y,v,f,H=.75*N.length,x=N.length,w=0;"="===N[N.length-1]&&(H--,"="===N[N.length-2]&&H--);var s=new ArrayBuffer(H),a=new Uint8Array(s);for(O=0;O<x;O+=4)g=ne.indexOf(N[O]),y=ne.indexOf(N[O+1]),v=ne.indexOf(N[O+2]),f=ne.indexOf(N[O+3]),a[w++]=g<<2|y>>4,a[w++]=(15&y)<<4|v>>2,a[w++]=(3&v)<<6|63&f;return s}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},113:function(ge){var J=void 0!==J?J:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,ne=function(){try{return 2===new Blob(["hi"]).size}catch(y){return!1}}(),N=ne&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(y){return!1}}(),H=J&&J.prototype.append&&J.prototype.getBlob;function x(g){return g.map(function(y){if(y.buffer instanceof ArrayBuffer){var v=y.buffer;if(y.byteLength!==v.byteLength){var f=new Uint8Array(y.byteLength);f.set(new Uint8Array(v,y.byteOffset,y.byteLength)),v=f.buffer}return v}return y})}function O(g,y){y=y||{};var v=new J;return x(g).forEach(function(f){v.append(f)}),y.type?v.getBlob(y.type):v.getBlob()}function w(g,y){return new Blob(x(g),y||{})}"undefined"!=typeof Blob&&(O.prototype=Blob.prototype,w.prototype=Blob.prototype),ge.exports=ne?N?Blob:w:H?O:void 0},1213:function(ge){var J=[].slice;ge.exports=function(ne,N){if("string"==typeof N&&(N=ne[N]),"function"!=typeof N)throw new Error("bind() requires a function");var H=J.call(arguments,2);return function(){return N.apply(ne,H.concat(J.call(arguments)))}}},1264:function(ge){function J(N){if(N)return function ne(N){for(var H in J.prototype)N[H]=J.prototype[H];return N}(N)}ge.exports=J,J.prototype.on=J.prototype.addEventListener=function(N,H){return this._callbacks=this._callbacks||{},(this._callbacks["$"+N]=this._callbacks["$"+N]||[]).push(H),this},J.prototype.once=function(N,H){function x(){this.off(N,x),H.apply(this,arguments)}return x.fn=H,this.on(N,x),this},J.prototype.off=J.prototype.removeListener=J.prototype.removeAllListeners=J.prototype.removeEventListener=function(N,H){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var x=this._callbacks["$"+N];if(!x)return this;if(1==arguments.length)return delete this._callbacks["$"+N],this;for(var O,w=0;w<x.length;w++)if((O=x[w])===H||O.fn===H){x.splice(w,1);break}return 0===x.length&&delete this._callbacks["$"+N],this},J.prototype.emit=function(N){this._callbacks=this._callbacks||{};for(var H=new Array(arguments.length-1),x=this._callbacks["$"+N],O=1;O<arguments.length;O++)H[O-1]=arguments[O];if(x){O=0;for(var w=(x=x.slice(0)).length;O<w;++O)x[O].apply(this,H)}return this},J.prototype.listeners=function(N){return this._callbacks=this._callbacks||{},this._callbacks["$"+N]||[]},J.prototype.hasListeners=function(N){return!!this.listeners(N).length}},9471:function(ge){ge.exports=function(J,ne){var N=function(){};N.prototype=ne.prototype,J.prototype=new N,J.prototype.constructor=J}},851:function(ge){ge.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},7410:function(ge,J,ne){ge.exports=ne(3213),ge.exports.parser=ne(552)},3213:function(ge,J,ne){var N=ne(1497),H=ne(1264),x=ne(2534)("engine.io-client:socket"),O=ne(4068),w=ne(552),g=ne(1884),y=ne(3257);function v(s,a){if(!(this instanceof v))return new v(s,a);a=a||{},s&&"object"==typeof s&&(a=s,s=null),s?(s=g(s),a.hostname=s.host,a.secure="https"===s.protocol||"wss"===s.protocol,a.port=s.port,s.query&&(a.query=s.query)):a.host&&(a.hostname=g(a.host).host),this.secure=null!=a.secure?a.secure:"undefined"!=typeof location&&"https:"===location.protocol,a.hostname&&!a.port&&(a.port=this.secure?"443":"80"),this.agent=a.agent||!1,this.hostname=a.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=a.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=a.query||{},"string"==typeof this.query&&(this.query=y.decode(this.query)),this.upgrade=!1!==a.upgrade,this.path=(a.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!a.forceJSONP,this.jsonp=!1!==a.jsonp,this.forceBase64=!!a.forceBase64,this.enablesXDR=!!a.enablesXDR,this.withCredentials=!1!==a.withCredentials,this.timestampParam=a.timestampParam||"t",this.timestampRequests=a.timestampRequests,this.transports=a.transports||["polling","websocket"],this.transportOptions=a.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=a.policyPort||843,this.rememberUpgrade=a.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=a.onlyBinaryUpgrades,this.perMessageDeflate=!1!==a.perMessageDeflate&&(a.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=a.pfx||void 0,this.key=a.key||void 0,this.passphrase=a.passphrase||void 0,this.cert=a.cert||void 0,this.ca=a.ca||void 0,this.ciphers=a.ciphers||void 0,this.rejectUnauthorized=void 0===a.rejectUnauthorized||a.rejectUnauthorized,this.forceNode=!!a.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(a.extraHeaders&&Object.keys(a.extraHeaders).length>0&&(this.extraHeaders=a.extraHeaders),a.localAddress&&(this.localAddress=a.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}ge.exports=v,v.priorWebsocketSuccess=!1,H(v.prototype),v.protocol=w.protocol,v.Socket=v,v.Transport=ne(3330),v.transports=ne(1497),v.parser=ne(552),v.prototype.createTransport=function(s){x('creating transport "%s"',s);var a=function f(s){var a={};for(var u in s)s.hasOwnProperty(u)&&(a[u]=s[u]);return a}(this.query);a.EIO=w.protocol,a.transport=s;var u=this.transportOptions[s]||{};return this.id&&(a.sid=this.id),new N[s]({query:a,socket:this,agent:u.agent||this.agent,hostname:u.hostname||this.hostname,port:u.port||this.port,secure:u.secure||this.secure,path:u.path||this.path,forceJSONP:u.forceJSONP||this.forceJSONP,jsonp:u.jsonp||this.jsonp,forceBase64:u.forceBase64||this.forceBase64,enablesXDR:u.enablesXDR||this.enablesXDR,withCredentials:u.withCredentials||this.withCredentials,timestampRequests:u.timestampRequests||this.timestampRequests,timestampParam:u.timestampParam||this.timestampParam,policyPort:u.policyPort||this.policyPort,pfx:u.pfx||this.pfx,key:u.key||this.key,passphrase:u.passphrase||this.passphrase,cert:u.cert||this.cert,ca:u.ca||this.ca,ciphers:u.ciphers||this.ciphers,rejectUnauthorized:u.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:u.perMessageDeflate||this.perMessageDeflate,extraHeaders:u.extraHeaders||this.extraHeaders,forceNode:u.forceNode||this.forceNode,localAddress:u.localAddress||this.localAddress,requestTimeout:u.requestTimeout||this.requestTimeout,protocols:u.protocols||void 0,isReactNative:this.isReactNative})},v.prototype.open=function(){var s;if(this.rememberUpgrade&&v.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))s="websocket";else{if(0===this.transports.length){var a=this;return void setTimeout(function(){a.emit("error","No transports available")},0)}s=this.transports[0]}this.readyState="opening";try{s=this.createTransport(s)}catch(u){return this.transports.shift(),void this.open()}s.open(),this.setTransport(s)},v.prototype.setTransport=function(s){x("setting transport %s",s.name);var a=this;this.transport&&(x("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=s,s.on("drain",function(){a.onDrain()}).on("packet",function(u){a.onPacket(u)}).on("error",function(u){a.onError(u)}).on("close",function(){a.onClose("transport close")})},v.prototype.probe=function(s){x('probing transport "%s"',s);var a=this.createTransport(s,{probe:1}),u=!1,c=this;function d(){c.onlyBinaryUpgrades&&(u=u||!this.supportsBinary&&c.transport.supportsBinary),u||(x('probe transport "%s" opened',s),a.send([{type:"ping",data:"probe"}]),a.once("packet",function(k){if(!u)if("pong"===k.type&&"probe"===k.data){if(x('probe transport "%s" pong',s),c.upgrading=!0,c.emit("upgrading",a),!a)return;v.priorWebsocketSuccess="websocket"===a.name,x('pausing current transport "%s"',c.transport.name),c.transport.pause(function(){u||"closed"!==c.readyState&&(x("changing transport and sending upgrade packet"),b(),c.setTransport(a),a.send([{type:"upgrade"}]),c.emit("upgrade",a),a=null,c.upgrading=!1,c.flush())})}else{x('probe transport "%s" failed',s);var S=new Error("probe error");S.transport=a.name,c.emit("upgradeError",S)}}))}function h(){u||(u=!0,b(),a.close(),a=null)}function p(R){var k=new Error("probe error: "+R);k.transport=a.name,h(),x('probe transport "%s" failed because of error: %s',s,R),c.emit("upgradeError",k)}function _(){p("transport closed")}function E(){p("socket closed")}function D(R){a&&R.name!==a.name&&(x('"%s" works - aborting "%s"',R.name,a.name),h())}function b(){a.removeListener("open",d),a.removeListener("error",p),a.removeListener("close",_),c.removeListener("close",E),c.removeListener("upgrading",D)}v.priorWebsocketSuccess=!1,a.once("open",d),a.once("error",p),a.once("close",_),this.once("close",E),this.once("upgrading",D),a.open()},v.prototype.onOpen=function(){if(x("socket open"),this.readyState="open",v.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){x("starting upgrade probes");for(var s=0,a=this.upgrades.length;s<a;s++)this.probe(this.upgrades[s])}},v.prototype.onPacket=function(s){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(x('socket receive: type "%s", data "%s"',s.type,s.data),this.emit("packet",s),this.emit("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var a=new Error("server error");a.code=s.data,this.onError(a);break;case"message":this.emit("data",s.data),this.emit("message",s.data)}else x('packet received with socket readyState "%s"',this.readyState)},v.prototype.onHandshake=function(s){this.emit("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this.upgrades=this.filterUpgrades(s.upgrades),this.pingInterval=s.pingInterval,this.pingTimeout=s.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},v.prototype.onHeartbeat=function(s){clearTimeout(this.pingTimeoutTimer);var a=this;a.pingTimeoutTimer=setTimeout(function(){"closed"!==a.readyState&&a.onClose("ping timeout")},s||a.pingInterval+a.pingTimeout)},v.prototype.setPing=function(){var s=this;clearTimeout(s.pingIntervalTimer),s.pingIntervalTimer=setTimeout(function(){x("writing ping packet - expecting pong within %sms",s.pingTimeout),s.ping(),s.onHeartbeat(s.pingTimeout)},s.pingInterval)},v.prototype.ping=function(){var s=this;this.sendPacket("ping",function(){s.emit("ping")})},v.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},v.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(x("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},v.prototype.write=v.prototype.send=function(s,a,u){return this.sendPacket("message",s,a,u),this},v.prototype.sendPacket=function(s,a,u,c){if("function"==typeof a&&(c=a,a=void 0),"function"==typeof u&&(c=u,u=null),"closing"!==this.readyState&&"closed"!==this.readyState){(u=u||{}).compress=!1!==u.compress;var d={type:s,data:a,options:u};this.emit("packetCreate",d),this.writeBuffer.push(d),c&&this.once("flush",c),this.flush()}},v.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var s=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?c():a()}):this.upgrading?c():a()}function a(){s.onClose("forced close"),x("socket closing - telling transport to close"),s.transport.close()}function u(){s.removeListener("upgrade",u),s.removeListener("upgradeError",u),a()}function c(){s.once("upgrade",u),s.once("upgradeError",u)}return this},v.prototype.onError=function(s){x("socket error %j",s),v.priorWebsocketSuccess=!1,this.emit("error",s),this.onClose("transport error",s)},v.prototype.onClose=function(s,a){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(x('socket close with reason: "%s"',s),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",s,a),this.writeBuffer=[],this.prevBufferLen=0)},v.prototype.filterUpgrades=function(s){for(var a=[],u=0,c=s.length;u<c;u++)~O(this.transports,s[u])&&a.push(s[u]);return a}},3330:function(ge,J,ne){var N=ne(552),H=ne(1264);function x(O){this.path=O.path,this.hostname=O.hostname,this.port=O.port,this.secure=O.secure,this.query=O.query,this.timestampParam=O.timestampParam,this.timestampRequests=O.timestampRequests,this.readyState="",this.agent=O.agent||!1,this.socket=O.socket,this.enablesXDR=O.enablesXDR,this.withCredentials=O.withCredentials,this.pfx=O.pfx,this.key=O.key,this.passphrase=O.passphrase,this.cert=O.cert,this.ca=O.ca,this.ciphers=O.ciphers,this.rejectUnauthorized=O.rejectUnauthorized,this.forceNode=O.forceNode,this.isReactNative=O.isReactNative,this.extraHeaders=O.extraHeaders,this.localAddress=O.localAddress}ge.exports=x,H(x.prototype),x.prototype.onError=function(O,w){var g=new Error(O);return g.type="TransportError",g.description=w,this.emit("error",g),this},x.prototype.open=function(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this},x.prototype.close=function(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this},x.prototype.send=function(O){if("open"!==this.readyState)throw new Error("Transport not open");this.write(O)},x.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},x.prototype.onData=function(O){var w=N.decodePacket(O,this.socket.binaryType);this.onPacket(w)},x.prototype.onPacket=function(O){this.emit("packet",O)},x.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},1497:function(ge,J,ne){var N=ne(3035),H=ne(2889),x=ne(6029),O=ne(3909);J.polling=function w(g){var v=!1,f=!1,s=!1!==g.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,u=location.port;u||(u=a?443:80),v=g.hostname!==location.hostname||u!==g.port,f=g.secure!==a}if(g.xdomain=v,g.xscheme=f,"open"in new N(g)&&!g.forceJSONP)return new H(g);if(!s)throw new Error("JSONP disabled");return new x(g)},J.websocket=O},6029:function(ge,J,ne){var N=ne(3904),H=ne(9471),x=ne(851);ge.exports=v;var g,O=/\n/g,w=/\\n/g;function y(){}function v(f){N.call(this,f),this.query=this.query||{},g||(g=x.___eio=x.___eio||[]),this.index=g.length;var s=this;g.push(function(a){s.onData(a)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){s.script&&(s.script.onerror=y)},!1)}H(v,N),v.prototype.supportsBinary=!1,v.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),N.prototype.doClose.call(this)},v.prototype.doPoll=function(){var f=this,s=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),s.async=!0,s.src=this.uri(),s.onerror=function(c){f.onError("jsonp poll error",c)};var a=document.getElementsByTagName("script")[0];a?a.parentNode.insertBefore(s,a):(document.head||document.body).appendChild(s),this.script=s,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var c=document.createElement("iframe");document.body.appendChild(c),document.body.removeChild(c)},100)},v.prototype.doWrite=function(f,s){var a=this;if(!this.form){var h,u=document.createElement("form"),c=document.createElement("textarea"),d=this.iframeId="eio_iframe_"+this.index;u.className="socketio",u.style.position="absolute",u.style.top="-1000px",u.style.left="-1000px",u.target=d,u.method="POST",u.setAttribute("accept-charset","utf-8"),c.name="d",u.appendChild(c),document.body.appendChild(u),this.form=u,this.area=c}function p(){_(),s()}function _(){if(a.iframe)try{a.form.removeChild(a.iframe)}catch(D){a.onError("jsonp polling iframe removal error",D)}try{h=document.createElement('<iframe src="javascript:0" name="'+a.iframeId+'">')}catch(D){(h=document.createElement("iframe")).name=a.iframeId,h.src="javascript:0"}h.id=a.iframeId,a.form.appendChild(h),a.iframe=h}this.form.action=this.uri(),_(),f=f.replace(w,"\\\n"),this.area.value=f.replace(O,"\\n");try{this.form.submit()}catch(E){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===a.iframe.readyState&&p()}:this.iframe.onload=p}},2889:function(ge,J,ne){var N=ne(3035),H=ne(3904),x=ne(1264),O=ne(9471),w=ne(2534)("engine.io-client:polling-xhr"),g=ne(851);function y(){}function v(u){if(H.call(this,u),this.requestTimeout=u.requestTimeout,this.extraHeaders=u.extraHeaders,"undefined"!=typeof location){var c="https:"===location.protocol,d=location.port;d||(d=c?443:80),this.xd="undefined"!=typeof location&&u.hostname!==location.hostname||d!==u.port,this.xs=u.secure!==c}}function f(u){this.method=u.method||"GET",this.uri=u.uri,this.xd=!!u.xd,this.xs=!!u.xs,this.async=!1!==u.async,this.data=void 0!==u.data?u.data:null,this.agent=u.agent,this.isBinary=u.isBinary,this.supportsBinary=u.supportsBinary,this.enablesXDR=u.enablesXDR,this.withCredentials=u.withCredentials,this.requestTimeout=u.requestTimeout,this.pfx=u.pfx,this.key=u.key,this.passphrase=u.passphrase,this.cert=u.cert,this.ca=u.ca,this.ciphers=u.ciphers,this.rejectUnauthorized=u.rejectUnauthorized,this.extraHeaders=u.extraHeaders,this.create()}function a(){for(var u in f.requests)f.requests.hasOwnProperty(u)&&f.requests[u].abort()}ge.exports=v,ge.exports.Request=f,O(v,H),v.prototype.supportsBinary=!0,v.prototype.request=function(u){return(u=u||{}).uri=this.uri(),u.xd=this.xd,u.xs=this.xs,u.agent=this.agent||!1,u.supportsBinary=this.supportsBinary,u.enablesXDR=this.enablesXDR,u.withCredentials=this.withCredentials,u.pfx=this.pfx,u.key=this.key,u.passphrase=this.passphrase,u.cert=this.cert,u.ca=this.ca,u.ciphers=this.ciphers,u.rejectUnauthorized=this.rejectUnauthorized,u.requestTimeout=this.requestTimeout,u.extraHeaders=this.extraHeaders,new f(u)},v.prototype.doWrite=function(u,c){var h=this.request({method:"POST",data:u,isBinary:"string"!=typeof u&&void 0!==u}),p=this;h.on("success",c),h.on("error",function(_){p.onError("xhr post error",_)}),this.sendXhr=h},v.prototype.doPoll=function(){w("xhr poll");var u=this.request(),c=this;u.on("data",function(d){c.onData(d)}),u.on("error",function(d){c.onError("xhr poll error",d)}),this.pollXhr=u},x(f.prototype),f.prototype.create=function(){var u={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};u.pfx=this.pfx,u.key=this.key,u.passphrase=this.passphrase,u.cert=this.cert,u.ca=this.ca,u.ciphers=this.ciphers,u.rejectUnauthorized=this.rejectUnauthorized;var c=this.xhr=new N(u),d=this;try{w("xhr open %s: %s",this.method,this.uri),c.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var h in c.setDisableHeaderCheck&&c.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(h)&&c.setRequestHeader(h,this.extraHeaders[h])}catch(p){}if("POST"===this.method)try{c.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch(p){}try{c.setRequestHeader("Accept","*/*")}catch(p){}"withCredentials"in c&&(c.withCredentials=this.withCredentials),this.requestTimeout&&(c.timeout=this.requestTimeout),this.hasXDR()?(c.onload=function(){d.onLoad()},c.onerror=function(){d.onError(c.responseText)}):c.onreadystatechange=function(){if(2===c.readyState)try{var p=c.getResponseHeader("Content-Type");(d.supportsBinary&&"application/octet-stream"===p||"application/octet-stream; charset=UTF-8"===p)&&(c.responseType="arraybuffer")}catch(_){}4===c.readyState&&(200===c.status||1223===c.status?d.onLoad():setTimeout(function(){d.onError("number"==typeof c.status?c.status:0)},0))},w("xhr data %s",this.data),c.send(this.data)}catch(p){return void setTimeout(function(){d.onError(p)},0)}"undefined"!=typeof document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},f.prototype.onData=function(u){this.emit("data",u),this.onSuccess()},f.prototype.onError=function(u){this.emit("error",u),this.cleanup(!0)},f.prototype.cleanup=function(u){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=y:this.xhr.onreadystatechange=y,u)try{this.xhr.abort()}catch(c){}"undefined"!=typeof document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var u;try{var c;try{c=this.xhr.getResponseHeader("Content-Type")}catch(d){}u=("application/octet-stream"===c||"application/octet-stream; charset=UTF-8"===c)&&this.xhr.response||this.xhr.responseText}catch(d){this.onError(d)}null!=u&&this.onData(u)},f.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},f.requestsCount=0,f.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",a):"function"==typeof addEventListener&&addEventListener("onpagehide"in g?"pagehide":"unload",a,!1))},3904:function(ge,J,ne){var N=ne(3330),H=ne(3257),x=ne(552),O=ne(9471),w=ne(5379),g=ne(2534)("engine.io-client:polling");ge.exports=v;var y=null!=new(ne(3035))({xdomain:!1}).responseType;function v(f){(!y||f&&f.forceBase64)&&(this.supportsBinary=!1),N.call(this,f)}O(v,N),v.prototype.name="polling",v.prototype.doOpen=function(){this.poll()},v.prototype.pause=function(f){var s=this;function a(){g("paused"),s.readyState="paused",f()}if(this.readyState="pausing",this.polling||!this.writable){var u=0;this.polling&&(g("we are currently polling - waiting to pause"),u++,this.once("pollComplete",function(){g("pre-pause polling complete"),--u||a()})),this.writable||(g("we are currently writing - waiting to pause"),u++,this.once("drain",function(){g("pre-pause writing complete"),--u||a()}))}else a()},v.prototype.poll=function(){g("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},v.prototype.onData=function(f){var s=this;g("polling got data %s",f),x.decodePayload(f,this.socket.binaryType,function(c,d,h){if("opening"===s.readyState&&"open"===c.type&&s.onOpen(),"close"===c.type)return s.onClose(),!1;s.onPacket(c)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():g('ignoring poll - transport state "%s"',this.readyState))},v.prototype.doClose=function(){var f=this;function s(){g("writing close packet"),f.write([{type:"close"}])}"open"===this.readyState?(g("transport open - closing"),s()):(g("transport not open - deferring close"),this.once("open",s))},v.prototype.write=function(f){var s=this;this.writable=!1;var a=function(){s.writable=!0,s.emit("drain")};x.encodePayload(f,this.supportsBinary,function(u){s.doWrite(u,a)})},v.prototype.uri=function(){var f=this.query||{},s=this.secure?"https":"http",a="";return!1!==this.timestampRequests&&(f[this.timestampParam]=w()),!this.supportsBinary&&!f.sid&&(f.b64=1),f=H.encode(f),this.port&&("https"===s&&443!==Number(this.port)||"http"===s&&80!==Number(this.port))&&(a=":"+this.port),f.length&&(f="?"+f),s+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+a+this.path+f}},3909:function(ge,J,ne){var y,v,N=ne(3330),H=ne(552),x=ne(3257),O=ne(9471),w=ne(5379),g=ne(2534)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?y=WebSocket:"undefined"!=typeof self&&(y=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{v=ne(7020)}catch(a){}var f=y||v;function s(a){a&&a.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=a.perMessageDeflate,this.usingBrowserWebSocket=y&&!a.forceNode,this.protocols=a.protocols,this.usingBrowserWebSocket||(f=v),N.call(this,a)}ge.exports=s,O(s,N),s.prototype.name="websocket",s.prototype.supportsBinary=!0,s.prototype.doOpen=function(){if(this.check()){var a=this.uri(),u=this.protocols,c={};this.isReactNative||(c.agent=this.agent,c.perMessageDeflate=this.perMessageDeflate,c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(c.headers=this.extraHeaders),this.localAddress&&(c.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?u?new f(a,u):new f(a):new f(a,u,c)}catch(d){return this.emit("error",d)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},s.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()},this.ws.onclose=function(){a.onClose()},this.ws.onmessage=function(u){a.onData(u.data)},this.ws.onerror=function(u){a.onError("websocket error",u)}},s.prototype.write=function(a){var u=this;this.writable=!1;for(var c=a.length,d=0,h=c;d<h;d++)!function(_){H.encodePacket(_,u.supportsBinary,function(E){if(!u.usingBrowserWebSocket){var D={};_.options&&(D.compress=_.options.compress),u.perMessageDeflate&&("string"==typeof E?Buffer.byteLength(E):E.length)<u.perMessageDeflate.threshold&&(D.compress=!1)}try{u.usingBrowserWebSocket?u.ws.send(E):u.ws.send(E,D)}catch(R){g("websocket closed before onclose event")}--c||(u.emit("flush"),setTimeout(function(){u.writable=!0,u.emit("drain")},0))})}(a[d])},s.prototype.onClose=function(){N.prototype.onClose.call(this)},s.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},s.prototype.uri=function(){var a=this.query||{},u=this.secure?"wss":"ws",c="";return this.port&&("wss"===u&&443!==Number(this.port)||"ws"===u&&80!==Number(this.port))&&(c=":"+this.port),this.timestampRequests&&(a[this.timestampParam]=w()),this.supportsBinary||(a.b64=1),(a=x.encode(a)).length&&(a="?"+a),u+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+c+this.path+a},s.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===s.prototype.name)}},3035:function(ge,J,ne){var N=ne(764),H=ne(851);ge.exports=function(x){var O=x.xdomain,w=x.xscheme,g=x.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!O||N))return new XMLHttpRequest}catch(y){}try{if("undefined"!=typeof XDomainRequest&&!w&&g)return new XDomainRequest}catch(y){}if(!O)try{return new(H[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(y){}}},2534:function(ge,J,ne){function w(){var y;try{y=J.storage.debug}catch(v){}return!y&&"undefined"!=typeof process&&"env"in process&&(y=process.env.DEBUG),y}(J=ge.exports=ne(4071)).log=function x(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},J.formatArgs=function H(y){var v=this.useColors;if(y[0]=(v?"%c":"")+this.namespace+(v?" %c":" ")+y[0]+(v?"%c ":" ")+"+"+J.humanize(this.diff),v){var f="color: "+this.color;y.splice(1,0,f,"color: inherit");var s=0,a=0;y[0].replace(/%[a-zA-Z%]/g,function(u){"%%"!==u&&(s++,"%c"===u&&(a=s))}),y.splice(a,0,f)}},J.save=function O(y){try{null==y?J.storage.removeItem("debug"):J.storage.debug=y}catch(v){}},J.load=w,J.useColors=function N(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},J.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function g(){try{return window.localStorage}catch(y){}}(),J.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],J.formatters.j=function(y){try{return JSON.stringify(y)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}},J.enable(w())},4071:function(ge,J,ne){function H(v){var f;function s(){if(s.enabled){var a=s,u=+new Date,c=u-(f||u);a.diff=c,a.prev=f,a.curr=u,f=u;for(var d=new Array(arguments.length),h=0;h<d.length;h++)d[h]=arguments[h];d[0]=J.coerce(d[0]),"string"!=typeof d[0]&&d.unshift("%O");var p=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,function(E,D){if("%%"===E)return E;p++;var b=J.formatters[D];return"function"==typeof b&&(E=b.call(a,d[p]),d.splice(p,1),p--),E}),J.formatArgs.call(a,d);var _=s.log||J.log||console.log.bind(console);_.apply(a,d)}}return s.namespace=v,s.enabled=J.enabled(v),s.useColors=J.useColors(),s.color=function N(v){var s,f=0;for(s in v)f=(f<<5)-f+v.charCodeAt(s),f|=0;return J.colors[Math.abs(f)%J.colors.length]}(v),s.destroy=x,"function"==typeof J.init&&J.init(s),J.instances.push(s),s}function x(){var v=J.instances.indexOf(this);return-1!==v&&(J.instances.splice(v,1),!0)}(J=ge.exports=H.debug=H.default=H).coerce=function y(v){return v instanceof Error?v.stack||v.message:v},J.disable=function w(){J.enable("")},J.enable=function O(v){J.save(v),J.names=[],J.skips=[];var f,s=("string"==typeof v?v:"").split(/[\s,]+/),a=s.length;for(f=0;f<a;f++)!s[f]||("-"===(v=s[f].replace(/\*/g,".*?"))[0]?J.skips.push(new RegExp("^"+v.substr(1)+"$")):J.names.push(new RegExp("^"+v+"$")));for(f=0;f<J.instances.length;f++){var u=J.instances[f];u.enabled=J.enabled(u.namespace)}},J.enabled=function g(v){if("*"===v[v.length-1])return!0;var f,s;for(f=0,s=J.skips.length;f<s;f++)if(J.skips[f].test(v))return!1;for(f=0,s=J.names.length;f<s;f++)if(J.names[f].test(v))return!0;return!1},J.humanize=ne(20),J.instances=[],J.names=[],J.skips=[],J.formatters={}},552:function(ge,J,ne){var g,N=ne(1710),H=ne(988),x=ne(9933),O=ne(8498),w=ne(8870);"undefined"!=typeof ArrayBuffer&&(g=ne(390));var y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),v="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),f=y||v;J.protocol=3;var s=J.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=N(s),u={type:"error",data:"parser error"},c=ne(113);function D(b,R,k){for(var S=new Array(b.length),M=O(b.length,k),C=function($,F,P){R(F,function(U,W){S[$]=W,P(U,S)})},T=0;T<b.length;T++)C(T,b[T],M)}J.encodePacket=function(b,R,k,S){"function"==typeof R&&(S=R,R=!1),"function"==typeof k&&(S=k,k=null);var M=void 0===b.data?void 0:b.data.buffer||b.data;if("undefined"!=typeof ArrayBuffer&&M instanceof ArrayBuffer)return function h(b,R,k){if(!R)return J.encodeBase64Packet(b,k);var S=b.data,M=new Uint8Array(S),C=new Uint8Array(1+S.byteLength);C[0]=s[b.type];for(var T=0;T<M.length;T++)C[T+1]=M[T];return k(C.buffer)}(b,R,S);if(void 0!==c&&M instanceof c)return function _(b,R,k){if(!R)return J.encodeBase64Packet(b,k);if(f)return function p(b,R,k){if(!R)return J.encodeBase64Packet(b,k);var S=new FileReader;return S.onload=function(){J.encodePacket({type:b.type,data:S.result},R,!0,k)},S.readAsArrayBuffer(b.data)}(b,R,k);var S=new Uint8Array(1);return S[0]=s[b.type],k(new c([S.buffer,b.data]))}(b,R,S);if(M&&M.base64)return function d(b,R){return R("b"+J.packets[b.type]+b.data.data)}(b,S);var C=s[b.type];return void 0!==b.data&&(C+=k?w.encode(String(b.data),{strict:!1}):String(b.data)),S(""+C)},J.encodeBase64Packet=function(b,R){var M,k="b"+J.packets[b.type];if(void 0!==c&&b.data instanceof c){var S=new FileReader;return S.onload=function(){var $=S.result.split(",")[1];R(k+$)},S.readAsDataURL(b.data)}try{M=String.fromCharCode.apply(null,new Uint8Array(b.data))}catch($){for(var C=new Uint8Array(b.data),T=new Array(C.length),I=0;I<C.length;I++)T[I]=C[I];M=String.fromCharCode.apply(null,T)}return k+=btoa(M),R(k)},J.decodePacket=function(b,R,k){if(void 0===b)return u;if("string"==typeof b){if("b"===b.charAt(0))return J.decodeBase64Packet(b.substr(1),R);if(k&&!1===(b=function E(b){try{b=w.decode(b,{strict:!1})}catch(R){return!1}return b}(b)))return u;var M=b.charAt(0);return Number(M)==M&&a[M]?b.length>1?{type:a[M],data:b.substring(1)}:{type:a[M]}:u}M=new Uint8Array(b)[0];var C=x(b,1);return c&&"blob"===R&&(C=new c([C])),{type:a[M],data:C}},J.decodeBase64Packet=function(b,R){var k=a[b.charAt(0)];if(!g)return{type:k,data:{base64:!0,data:b.substr(1)}};var S=g.decode(b.substr(1));return"blob"===R&&c&&(S=new c([S])),{type:k,data:S}},J.encodePayload=function(b,R,k){"function"==typeof R&&(k=R,R=null);var S=H(b);return R&&S?c&&!f?J.encodePayloadAsBlob(b,k):J.encodePayloadAsArrayBuffer(b,k):b.length?void D(b,function C(T,I){J.encodePacket(T,!!S&&R,!1,function($){I(null,function M(T){return T.length+":"+T}($))})},function(T,I){return k(I.join(""))}):k("0:")},J.decodePayload=function(b,R,k){if("string"!=typeof b)return J.decodePayloadAsBinary(b,R,k);var S;if("function"==typeof R&&(k=R,R=null),""===b)return k(u,0,1);for(var C,T,M="",I=0,$=b.length;I<$;I++){var F=b.charAt(I);if(":"===F){if(""===M||M!=(C=Number(M))||M!=(T=b.substr(I+1,C)).length)return k(u,0,1);if(T.length){if(S=J.decodePacket(T,R,!1),u.type===S.type&&u.data===S.data)return k(u,0,1);if(!1===k(S,I+C,$))return}I+=C,M=""}else M+=F}return""!==M?k(u,0,1):void 0},J.encodePayloadAsArrayBuffer=function(b,R){if(!b.length)return R(new ArrayBuffer(0));D(b,function k(S,M){J.encodePacket(S,!0,!0,function(C){return M(null,C)})},function(S,M){var C=M.reduce(function($,F){var P;return $+(P="string"==typeof F?F.length:F.byteLength).toString().length+P+2},0),T=new Uint8Array(C),I=0;return M.forEach(function($){var F="string"==typeof $,P=$;if(F){for(var z=new Uint8Array($.length),U=0;U<$.length;U++)z[U]=$.charCodeAt(U);P=z.buffer}T[I++]=F?0:1;var W=P.byteLength.toString();for(U=0;U<W.length;U++)T[I++]=parseInt(W[U]);for(T[I++]=255,z=new Uint8Array(P),U=0;U<z.length;U++)T[I++]=z[U]}),R(T.buffer)})},J.encodePayloadAsBlob=function(b,R){D(b,function k(S,M){J.encodePacket(S,!0,!0,function(C){var T=new Uint8Array(1);if(T[0]=1,"string"==typeof C){for(var I=new Uint8Array(C.length),$=0;$<C.length;$++)I[$]=C.charCodeAt($);C=I.buffer,T[0]=0}var P=(C instanceof ArrayBuffer?C.byteLength:C.size).toString(),U=new Uint8Array(P.length+1);for($=0;$<P.length;$++)U[$]=parseInt(P[$]);if(U[P.length]=255,c){var W=new c([T.buffer,U.buffer,C]);M(null,W)}})},function(S,M){return R(new c(M))})},J.decodePayloadAsBinary=function(b,R,k){"function"==typeof R&&(k=R,R=null);for(var S=b,M=[];S.byteLength>0;){for(var C=new Uint8Array(S),T=0===C[0],I="",$=1;255!==C[$];$++){if(I.length>310)return k(u,0,1);I+=C[$]}S=x(S,2+I.length),I=parseInt(I);var F=x(S,0,I);if(T)try{F=String.fromCharCode.apply(null,new Uint8Array(F))}catch(W){var P=new Uint8Array(F);for(F="",$=0;$<P.length;$++)F+=String.fromCharCode(P[$])}M.push(F),S=x(S,I)}var U=M.length;M.forEach(function(W,z){k(J.decodePacket(W,R,!0),z,U)})}},1710:function(ge){ge.exports=Object.keys||function(ne){var N=[],H=Object.prototype.hasOwnProperty;for(var x in ne)H.call(ne,x)&&N.push(x);return N}},8870:function(ge){var v,f,s,J=String.fromCharCode;function ne(u){for(var p,_,c=[],d=0,h=u.length;d<h;)(p=u.charCodeAt(d++))>=55296&&p<=56319&&d<h?56320==(64512&(_=u.charCodeAt(d++)))?c.push(((1023&p)<<10)+(1023&_)+65536):(c.push(p),d--):c.push(p);return c}function H(u,c){if(u>=55296&&u<=57343){if(c)throw Error("Lone surrogate U+"+u.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function x(u,c){return J(u>>c&63|128)}function O(u,c){if(0==(4294967168&u))return J(u);var d="";return 0==(4294965248&u)?d=J(u>>6&31|192):0==(4294901760&u)?(H(u,c)||(u=65533),d=J(u>>12&15|224),d+=x(u,6)):0==(4292870144&u)&&(d=J(u>>18&7|240),d+=x(u,12),d+=x(u,6)),d+J(63&u|128)}function g(){if(s>=f)throw Error("Invalid byte index");var u=255&v[s];if(s++,128==(192&u))return 63&u;throw Error("Invalid continuation byte")}function y(u){var c,_;if(s>f)throw Error("Invalid byte index");if(s==f)return!1;if(c=255&v[s],s++,0==(128&c))return c;if(192==(224&c)){if((_=(31&c)<<6|g())>=128)return _;throw Error("Invalid continuation byte")}if(224==(240&c)){if((_=(15&c)<<12|g()<<6|g())>=2048)return H(_,u)?_:65533;throw Error("Invalid continuation byte")}if(240==(248&c)&&(_=(7&c)<<18|g()<<12|g()<<6|g())>=65536&&_<=1114111)return _;throw Error("Invalid UTF-8 detected")}ge.exports={version:"2.1.2",encode:function w(u,c){for(var d=!1!==(c=c||{}).strict,h=ne(u),p=h.length,_=-1,D="";++_<p;)D+=O(h[_],d);return D},decode:function a(u,c){var d=!1!==(c=c||{}).strict;v=ne(u),f=v.length,s=0;for(var p,h=[];!1!==(p=y(d));)h.push(p);return function N(u){for(var h,c=u.length,d=-1,p="";++d<c;)(h=u[d])>65535&&(p+=J((h-=65536)>>>10&1023|55296),h=56320|1023&h),p+=J(h);return p}(h)}}},20:function(ge){var J=1e3,ne=60*J,N=60*ne,H=24*N;function y(v,f,s){if(!(v<f))return v<1.5*f?Math.floor(v/f)+" "+s:Math.ceil(v/f)+" "+s+"s"}ge.exports=function(v,f){f=f||{};var s=typeof v;if("string"===s&&v.length>0)return function O(v){if(!((v=String(v)).length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(v);if(f){var s=parseFloat(f[1]);switch((f[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*H;case"hours":case"hour":case"hrs":case"hr":case"h":return s*N;case"minutes":case"minute":case"mins":case"min":case"m":return s*ne;case"seconds":case"second":case"secs":case"sec":case"s":return s*J;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(v);if("number"===s&&!1===isNaN(v))return f.long?function g(v){return y(v,H,"day")||y(v,N,"hour")||y(v,ne,"minute")||y(v,J,"second")||v+" ms"}(v):function w(v){return v>=H?Math.round(v/H)+"d":v>=N?Math.round(v/N)+"h":v>=ne?Math.round(v/ne)+"m":v>=J?Math.round(v/J)+"s":v+"ms"}(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))}},988:function(ge,J,ne){var N=ne(7822),H=Object.prototype.toString,x="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===H.call(Blob),O="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===H.call(File);ge.exports=function w(g){if(!g||"object"!=typeof g)return!1;if(N(g)){for(var y=0,v=g.length;y<v;y++)if(w(g[y]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(g)||"function"==typeof ArrayBuffer&&g instanceof ArrayBuffer||x&&g instanceof Blob||O&&g instanceof File)return!0;if(g.toJSON&&"function"==typeof g.toJSON&&1===arguments.length)return w(g.toJSON(),!0);for(var f in g)if(Object.prototype.hasOwnProperty.call(g,f)&&w(g[f]))return!0;return!1}},7822:function(ge){var J={}.toString;ge.exports=Array.isArray||function(ne){return"[object Array]"==J.call(ne)}},764:function(ge){try{ge.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(J){ge.exports=!1}},4068:function(ge){var J=[].indexOf;ge.exports=function(ne,N){if(J)return ne.indexOf(N);for(var H=0;H<ne.length;++H)if(ne[H]===N)return H;return-1}},3257:function(ge,J){J.encode=function(ne){var N="";for(var H in ne)ne.hasOwnProperty(H)&&(N.length&&(N+="&"),N+=encodeURIComponent(H)+"="+encodeURIComponent(ne[H]));return N},J.decode=function(ne){for(var N={},H=ne.split("&"),x=0,O=H.length;x<O;x++){var w=H[x].split("=");N[decodeURIComponent(w[0])]=decodeURIComponent(w[1])}return N}},1884:function(ge){var J=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ne=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];ge.exports=function(O){var w=O,g=O.indexOf("["),y=O.indexOf("]");-1!=g&&-1!=y&&(O=O.substring(0,g)+O.substring(g,y).replace(/:/g,";")+O.substring(y,O.length));for(var v=J.exec(O||""),f={},s=14;s--;)f[ne[s]]=v[s]||"";return-1!=g&&-1!=y&&(f.source=w,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=!0),f.pathNames=function N(x,O){var g=O.replace(/\/{2,9}/g,"/").split("/");return("/"==O.substr(0,1)||0===O.length)&&g.splice(0,1),"/"==O.substr(O.length-1,1)&&g.splice(g.length-1,1),g}(0,f.path),f.queryKey=function H(x,O){var w={};return O.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(g,y,v){y&&(w[y]=v)}),w}(0,f.query),f}},7854:function(ge){var J=function(ne){"use strict";var x,N=Object.prototype,H=N.hasOwnProperty,O="function"==typeof Symbol?Symbol:{},w=O.iterator||"@@iterator",g=O.asyncIterator||"@@asyncIterator",y=O.toStringTag||"@@toStringTag";function v(W,z,X){return Object.defineProperty(W,z,{value:X,enumerable:!0,configurable:!0,writable:!0}),W[z]}try{v({},"")}catch(W){v=function(X,K,Q){return X[K]=Q}}function f(W,z,X,K){var oe=Object.create((z&&z.prototype instanceof p?z:p).prototype),re=new F(K||[]);return oe._invoke=function C(W,z,X){var K=a;return function(oe,re){if(K===c)throw new Error("Generator is already running");if(K===d){if("throw"===oe)throw re;return U()}for(X.method=oe,X.arg=re;;){var G=X.delegate;if(G){var ie=T(G,X);if(ie){if(ie===h)continue;return ie}}if("next"===X.method)X.sent=X._sent=X.arg;else if("throw"===X.method){if(K===a)throw K=d,X.arg;X.dispatchException(X.arg)}else"return"===X.method&&X.abrupt("return",X.arg);K=c;var Y=s(W,z,X);if("normal"===Y.type){if(K=X.done?d:u,Y.arg===h)continue;return{value:Y.arg,done:X.done}}"throw"===Y.type&&(K=d,X.method="throw",X.arg=Y.arg)}}}(W,X,re),oe}function s(W,z,X){try{return{type:"normal",arg:W.call(z,X)}}catch(K){return{type:"throw",arg:K}}}ne.wrap=f;var a="suspendedStart",u="suspendedYield",c="executing",d="completed",h={};function p(){}function _(){}function E(){}var D={};v(D,w,function(){return this});var b=Object.getPrototypeOf,R=b&&b(b(P([])));R&&R!==N&&H.call(R,w)&&(D=R);var k=E.prototype=p.prototype=Object.create(D);function S(W){["next","throw","return"].forEach(function(z){v(W,z,function(X){return this._invoke(z,X)})})}function M(W,z){function X(oe,re,G,ie){var Y=s(W[oe],W,re);if("throw"!==Y.type){var ee=Y.arg,Z=ee.value;return Z&&"object"==typeof Z&&H.call(Z,"__await")?z.resolve(Z.__await).then(function(ce){X("next",ce,G,ie)},function(ce){X("throw",ce,G,ie)}):z.resolve(Z).then(function(ce){ee.value=ce,G(ee)},function(ce){return X("throw",ce,G,ie)})}ie(Y.arg)}var K;this._invoke=function Q(oe,re){function G(){return new z(function(ie,Y){X(oe,re,ie,Y)})}return K=K?K.then(G,G):G()}}function T(W,z){var X=W.iterator[z.method];if(X===x){if(z.delegate=null,"throw"===z.method){if(W.iterator.return&&(z.method="return",z.arg=x,T(W,z),"throw"===z.method))return h;z.method="throw",z.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var K=s(X,W.iterator,z.arg);if("throw"===K.type)return z.method="throw",z.arg=K.arg,z.delegate=null,h;var Q=K.arg;return Q?Q.done?(z[W.resultName]=Q.value,z.next=W.nextLoc,"return"!==z.method&&(z.method="next",z.arg=x),z.delegate=null,h):Q:(z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,h)}function I(W){var z={tryLoc:W[0]};1 in W&&(z.catchLoc=W[1]),2 in W&&(z.finallyLoc=W[2],z.afterLoc=W[3]),this.tryEntries.push(z)}function $(W){var z=W.completion||{};z.type="normal",delete z.arg,W.completion=z}function F(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(I,this),this.reset(!0)}function P(W){if(W){var z=W[w];if(z)return z.call(W);if("function"==typeof W.next)return W;if(!isNaN(W.length)){var X=-1,K=function Q(){for(;++X<W.length;)if(H.call(W,X))return Q.value=W[X],Q.done=!1,Q;return Q.value=x,Q.done=!0,Q};return K.next=K}}return{next:U}}function U(){return{value:x,done:!0}}return _.prototype=E,v(k,"constructor",E),v(E,"constructor",_),_.displayName=v(E,y,"GeneratorFunction"),ne.isGeneratorFunction=function(W){var z="function"==typeof W&&W.constructor;return!!z&&(z===_||"GeneratorFunction"===(z.displayName||z.name))},ne.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,E):(W.__proto__=E,v(W,y,"GeneratorFunction")),W.prototype=Object.create(k),W},ne.awrap=function(W){return{__await:W}},S(M.prototype),v(M.prototype,g,function(){return this}),ne.AsyncIterator=M,ne.async=function(W,z,X,K,Q){void 0===Q&&(Q=Promise);var oe=new M(f(W,z,X,K),Q);return ne.isGeneratorFunction(z)?oe:oe.next().then(function(re){return re.done?re.value:oe.next()})},S(k),v(k,y,"Generator"),v(k,w,function(){return this}),v(k,"toString",function(){return"[object Generator]"}),ne.keys=function(W){var z=[];for(var X in W)z.push(X);return z.reverse(),function K(){for(;z.length;){var Q=z.pop();if(Q in W)return K.value=Q,K.done=!1,K}return K.done=!0,K}},ne.values=P,F.prototype={constructor:F,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=x,this.done=!1,this.delegate=null,this.method="next",this.arg=x,this.tryEntries.forEach($),!z)for(var X in this)"t"===X.charAt(0)&&H.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=x)},stop:function(){this.done=!0;var X=this.tryEntries[0].completion;if("throw"===X.type)throw X.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var X=this;function K(Y,ee){return re.type="throw",re.arg=z,X.next=Y,ee&&(X.method="next",X.arg=x),!!ee}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var oe=this.tryEntries[Q],re=oe.completion;if("root"===oe.tryLoc)return K("end");if(oe.tryLoc<=this.prev){var G=H.call(oe,"catchLoc"),ie=H.call(oe,"finallyLoc");if(G&&ie){if(this.prev<oe.catchLoc)return K(oe.catchLoc,!0);if(this.prev<oe.finallyLoc)return K(oe.finallyLoc)}else if(G){if(this.prev<oe.catchLoc)return K(oe.catchLoc,!0)}else{if(!ie)throw new Error("try statement without catch or finally");if(this.prev<oe.finallyLoc)return K(oe.finallyLoc)}}}},abrupt:function(z,X){for(var K=this.tryEntries.length-1;K>=0;--K){var Q=this.tryEntries[K];if(Q.tryLoc<=this.prev&&H.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var oe=Q;break}}oe&&("break"===z||"continue"===z)&&oe.tryLoc<=X&&X<=oe.finallyLoc&&(oe=null);var re=oe?oe.completion:{};return re.type=z,re.arg=X,oe?(this.method="next",this.next=oe.finallyLoc,h):this.complete(re)},complete:function(z,X){if("throw"===z.type)throw z.arg;return"break"===z.type||"continue"===z.type?this.next=z.arg:"return"===z.type?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):"normal"===z.type&&X&&(this.next=X),h},finish:function(z){for(var X=this.tryEntries.length-1;X>=0;--X){var K=this.tryEntries[X];if(K.finallyLoc===z)return this.complete(K.completion,K.afterLoc),$(K),h}},catch:function(z){for(var X=this.tryEntries.length-1;X>=0;--X){var K=this.tryEntries[X];if(K.tryLoc===z){var Q=K.completion;if("throw"===Q.type){var oe=Q.arg;$(K)}return oe}}throw new Error("illegal catch attempt")},delegateYield:function(z,X,K){return this.delegate={iterator:P(z),resultName:X,nextLoc:K},"next"===this.method&&(this.arg=x),h}},ne}(ge.exports);try{regeneratorRuntime=J}catch(ne){"object"==typeof globalThis?globalThis.regeneratorRuntime=J:Function("r","regeneratorRuntime = r")(J)}},685:function(ge,J,ne){var N=ne(1958),H=ne(1086),x=ne(2276),O=ne(3039)("socket.io-client");ge.exports=J=g;var w=J.managers={};function g(y,v){"object"==typeof y&&(v=y,y=void 0),v=v||{};var h,f=N(y),s=f.source,a=f.id;return v.forceNew||v["force new connection"]||!1===v.multiplex||w[a]&&f.path in w[a].nsps?(O("ignoring socket cache for %s",s),h=x(s,v)):(w[a]||(O("new io instance for %s",s),w[a]=x(s,v)),h=w[a]),f.query&&!v.query&&(v.query=f.query),h.socket(f.path,v)}J.protocol=H.protocol,J.connect=g,J.Manager=ne(2276),J.Socket=ne(5157)},2276:function(ge,J,ne){var N=ne(7410),H=ne(5157),x=ne(1264),O=ne(1086),w=ne(1865),g=ne(1213),y=ne(3039)("socket.io-client:manager"),v=ne(4068),f=ne(2150),s=Object.prototype.hasOwnProperty;function a(u,c){if(!(this instanceof a))return new a(u,c);u&&"object"==typeof u&&(c=u,u=void 0),(c=c||{}).path=c.path||"/socket.io",this.nsps={},this.subs=[],this.opts=c,this.reconnection(!1!==c.reconnection),this.reconnectionAttempts(c.reconnectionAttempts||1/0),this.reconnectionDelay(c.reconnectionDelay||1e3),this.reconnectionDelayMax(c.reconnectionDelayMax||5e3),this.randomizationFactor(c.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==c.timeout?2e4:c.timeout),this.readyState="closed",this.uri=u,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var d=c.parser||O;this.encoder=new d.Encoder,this.decoder=new d.Decoder,this.autoConnect=!1!==c.autoConnect,this.autoConnect&&this.open()}ge.exports=a,a.prototype.emitAll=function(){for(var u in this.emit.apply(this,arguments),this.nsps)s.call(this.nsps,u)&&this.nsps[u].emit.apply(this.nsps[u],arguments)},a.prototype.updateSocketIds=function(){for(var u in this.nsps)s.call(this.nsps,u)&&(this.nsps[u].id=this.generateId(u))},a.prototype.generateId=function(u){return("/"===u?"":u+"#")+this.engine.id},x(a.prototype),a.prototype.reconnection=function(u){return arguments.length?(this._reconnection=!!u,this):this._reconnection},a.prototype.reconnectionAttempts=function(u){return arguments.length?(this._reconnectionAttempts=u,this):this._reconnectionAttempts},a.prototype.reconnectionDelay=function(u){return arguments.length?(this._reconnectionDelay=u,this.backoff&&this.backoff.setMin(u),this):this._reconnectionDelay},a.prototype.randomizationFactor=function(u){return arguments.length?(this._randomizationFactor=u,this.backoff&&this.backoff.setJitter(u),this):this._randomizationFactor},a.prototype.reconnectionDelayMax=function(u){return arguments.length?(this._reconnectionDelayMax=u,this.backoff&&this.backoff.setMax(u),this):this._reconnectionDelayMax},a.prototype.timeout=function(u){return arguments.length?(this._timeout=u,this):this._timeout},a.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},a.prototype.open=a.prototype.connect=function(u,c){if(y("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;y("opening %s",this.uri),this.engine=N(this.uri,this.opts);var d=this.engine,h=this;this.readyState="opening",this.skipReconnect=!1;var p=w(d,"open",function(){h.onopen(),u&&u()}),_=w(d,"error",function(b){if(y("connect_error"),h.cleanup(),h.readyState="closed",h.emitAll("connect_error",b),u){var R=new Error("Connection error");R.data=b,u(R)}else h.maybeReconnectOnOpen()});if(!1!==this._timeout){var E=this._timeout;y("connect attempt will timeout after %d",E),0===E&&p.destroy();var D=setTimeout(function(){y("connect attempt timed out after %d",E),p.destroy(),d.close(),d.emit("error","timeout"),h.emitAll("connect_timeout",E)},E);this.subs.push({destroy:function(){clearTimeout(D)}})}return this.subs.push(p),this.subs.push(_),this},a.prototype.onopen=function(){y("open"),this.cleanup(),this.readyState="open",this.emit("open");var u=this.engine;this.subs.push(w(u,"data",g(this,"ondata"))),this.subs.push(w(u,"ping",g(this,"onping"))),this.subs.push(w(u,"pong",g(this,"onpong"))),this.subs.push(w(u,"error",g(this,"onerror"))),this.subs.push(w(u,"close",g(this,"onclose"))),this.subs.push(w(this.decoder,"decoded",g(this,"ondecoded")))},a.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},a.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},a.prototype.ondata=function(u){this.decoder.add(u)},a.prototype.ondecoded=function(u){this.emit("packet",u)},a.prototype.onerror=function(u){y("error",u),this.emitAll("error",u)},a.prototype.socket=function(u,c){var d=this.nsps[u];if(!d){d=new H(this,u,c),this.nsps[u]=d;var h=this;d.on("connecting",p),d.on("connect",function(){d.id=h.generateId(u)}),this.autoConnect&&p()}function p(){~v(h.connecting,d)||h.connecting.push(d)}return d},a.prototype.destroy=function(u){var c=v(this.connecting,u);~c&&this.connecting.splice(c,1),!this.connecting.length&&this.close()},a.prototype.packet=function(u){y("writing packet %j",u);var c=this;u.query&&0===u.type&&(u.nsp+="?"+u.query),c.encoding?c.packetBuffer.push(u):(c.encoding=!0,this.encoder.encode(u,function(d){for(var h=0;h<d.length;h++)c.engine.write(d[h],u.options);c.encoding=!1,c.processPacketQueue()}))},a.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var u=this.packetBuffer.shift();this.packet(u)}},a.prototype.cleanup=function(){y("cleanup");for(var u=this.subs.length,c=0;c<u;c++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},a.prototype.close=a.prototype.disconnect=function(){y("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},a.prototype.onclose=function(u){y("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",u),this._reconnection&&!this.skipReconnect&&this.reconnect()},a.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var u=this;if(this.backoff.attempts>=this._reconnectionAttempts)y("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var c=this.backoff.duration();y("will wait %dms before reconnect attempt",c),this.reconnecting=!0;var d=setTimeout(function(){u.skipReconnect||(y("attempting reconnect"),u.emitAll("reconnect_attempt",u.backoff.attempts),u.emitAll("reconnecting",u.backoff.attempts),!u.skipReconnect&&u.open(function(h){h?(y("reconnect attempt error"),u.reconnecting=!1,u.reconnect(),u.emitAll("reconnect_error",h.data)):(y("reconnect success"),u.onreconnect())}))},c);this.subs.push({destroy:function(){clearTimeout(d)}})}},a.prototype.onreconnect=function(){var u=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",u)}},1865:function(ge){ge.exports=function J(ne,N,H){return ne.on(N,H),{destroy:function(){ne.removeListener(N,H)}}}},5157:function(ge,J,ne){var N=ne(1086),H=ne(1264),x=ne(1898),O=ne(1865),w=ne(1213),g=ne(3039)("socket.io-client:socket"),y=ne(3257),v=ne(988);ge.exports=a;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},s=H.prototype.emit;function a(u,c,d){this.io=u,this.nsp=c,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},d&&d.query&&(this.query=d.query),this.io.autoConnect&&this.open()}H(a.prototype),a.prototype.subEvents=function(){if(!this.subs){var u=this.io;this.subs=[O(u,"open",w(this,"onopen")),O(u,"packet",w(this,"onpacket")),O(u,"close",w(this,"onclose"))]}},a.prototype.open=a.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},a.prototype.send=function(){var u=x(arguments);return u.unshift("message"),this.emit.apply(this,u),this},a.prototype.emit=function(u){if(f.hasOwnProperty(u))return s.apply(this,arguments),this;var c=x(arguments),d={type:(void 0!==this.flags.binary?this.flags.binary:v(c))?N.BINARY_EVENT:N.EVENT,data:c,options:{}};return d.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof c[c.length-1]&&(g("emitting packet with ack id %d",this.ids),this.acks[this.ids]=c.pop(),d.id=this.ids++),this.connected?this.packet(d):this.sendBuffer.push(d),this.flags={},this},a.prototype.packet=function(u){u.nsp=this.nsp,this.io.packet(u)},a.prototype.onopen=function(){if(g("transport is open - connecting"),"/"!==this.nsp)if(this.query){var u="object"==typeof this.query?y.encode(this.query):this.query;g("sending connect packet with query %s",u),this.packet({type:N.CONNECT,query:u})}else this.packet({type:N.CONNECT})},a.prototype.onclose=function(u){g("close (%s)",u),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",u)},a.prototype.onpacket=function(u){if(u.nsp===this.nsp||u.type===N.ERROR&&"/"===u.nsp)switch(u.type){case N.CONNECT:this.onconnect();break;case N.EVENT:case N.BINARY_EVENT:this.onevent(u);break;case N.ACK:case N.BINARY_ACK:this.onack(u);break;case N.DISCONNECT:this.ondisconnect();break;case N.ERROR:this.emit("error",u.data)}},a.prototype.onevent=function(u){var c=u.data||[];g("emitting event %j",c),null!=u.id&&(g("attaching ack callback to event"),c.push(this.ack(u.id))),this.connected?s.apply(this,c):this.receiveBuffer.push(c)},a.prototype.ack=function(u){var c=this,d=!1;return function(){if(!d){d=!0;var h=x(arguments);g("sending ack %j",h),c.packet({type:v(h)?N.BINARY_ACK:N.ACK,id:u,data:h})}}},a.prototype.onack=function(u){var c=this.acks[u.id];"function"==typeof c?(g("calling ack %s with %j",u.id,u.data),c.apply(this,u.data),delete this.acks[u.id]):g("bad ack %s",u.id)},a.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},a.prototype.emitBuffered=function(){var u;for(u=0;u<this.receiveBuffer.length;u++)s.apply(this,this.receiveBuffer[u]);for(this.receiveBuffer=[],u=0;u<this.sendBuffer.length;u++)this.packet(this.sendBuffer[u]);this.sendBuffer=[]},a.prototype.ondisconnect=function(){g("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},a.prototype.destroy=function(){if(this.subs){for(var u=0;u<this.subs.length;u++)this.subs[u].destroy();this.subs=null}this.io.destroy(this)},a.prototype.close=a.prototype.disconnect=function(){return this.connected&&(g("performing disconnect (%s)",this.nsp),this.packet({type:N.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},a.prototype.compress=function(u){return this.flags.compress=u,this},a.prototype.binary=function(u){return this.flags.binary=u,this}},1958:function(ge,J,ne){var N=ne(1884),H=ne(3039)("socket.io-client:url");ge.exports=function x(O,w){var g=O;w=w||"undefined"!=typeof location&&location,null==O&&(O=w.protocol+"//"+w.host),"string"==typeof O&&("/"===O.charAt(0)&&(O="/"===O.charAt(1)?w.protocol+O:w.host+O),/^(https?|wss?):\/\//.test(O)||(H("protocol-less url %s",O),O=void 0!==w?w.protocol+"//"+O:"https://"+O),H("parse %s",O),g=N(O)),g.port||(/^(http|ws)$/.test(g.protocol)?g.port="80":/^(http|ws)s$/.test(g.protocol)&&(g.port="443")),g.path=g.path||"/";var v=-1!==g.host.indexOf(":")?"["+g.host+"]":g.host;return g.id=g.protocol+"://"+v+":"+g.port,g.href=g.protocol+"://"+v+(w&&w.port===g.port?"":":"+g.port),g}},3039:function(ge,J,ne){function w(){var y;try{y=J.storage.debug}catch(v){}return!y&&"undefined"!=typeof process&&"env"in process&&(y=process.env.DEBUG),y}(J=ge.exports=ne(8596)).log=function x(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},J.formatArgs=function H(y){var v=this.useColors;if(y[0]=(v?"%c":"")+this.namespace+(v?" %c":" ")+y[0]+(v?"%c ":" ")+"+"+J.humanize(this.diff),v){var f="color: "+this.color;y.splice(1,0,f,"color: inherit");var s=0,a=0;y[0].replace(/%[a-zA-Z%]/g,function(u){"%%"!==u&&(s++,"%c"===u&&(a=s))}),y.splice(a,0,f)}},J.save=function O(y){try{null==y?J.storage.removeItem("debug"):J.storage.debug=y}catch(v){}},J.load=w,J.useColors=function N(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},J.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function g(){try{return window.localStorage}catch(y){}}(),J.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],J.formatters.j=function(y){try{return JSON.stringify(y)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}},J.enable(w())},8596:function(ge,J,ne){function H(v){var f;function s(){if(s.enabled){var a=s,u=+new Date,c=u-(f||u);a.diff=c,a.prev=f,a.curr=u,f=u;for(var d=new Array(arguments.length),h=0;h<d.length;h++)d[h]=arguments[h];d[0]=J.coerce(d[0]),"string"!=typeof d[0]&&d.unshift("%O");var p=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,function(E,D){if("%%"===E)return E;p++;var b=J.formatters[D];return"function"==typeof b&&(E=b.call(a,d[p]),d.splice(p,1),p--),E}),J.formatArgs.call(a,d);var _=s.log||J.log||console.log.bind(console);_.apply(a,d)}}return s.namespace=v,s.enabled=J.enabled(v),s.useColors=J.useColors(),s.color=function N(v){var s,f=0;for(s in v)f=(f<<5)-f+v.charCodeAt(s),f|=0;return J.colors[Math.abs(f)%J.colors.length]}(v),s.destroy=x,"function"==typeof J.init&&J.init(s),J.instances.push(s),s}function x(){var v=J.instances.indexOf(this);return-1!==v&&(J.instances.splice(v,1),!0)}(J=ge.exports=H.debug=H.default=H).coerce=function y(v){return v instanceof Error?v.stack||v.message:v},J.disable=function w(){J.enable("")},J.enable=function O(v){J.save(v),J.names=[],J.skips=[];var f,s=("string"==typeof v?v:"").split(/[\s,]+/),a=s.length;for(f=0;f<a;f++)!s[f]||("-"===(v=s[f].replace(/\*/g,".*?"))[0]?J.skips.push(new RegExp("^"+v.substr(1)+"$")):J.names.push(new RegExp("^"+v+"$")));for(f=0;f<J.instances.length;f++){var u=J.instances[f];u.enabled=J.enabled(u.namespace)}},J.enabled=function g(v){if("*"===v[v.length-1])return!0;var f,s;for(f=0,s=J.skips.length;f<s;f++)if(J.skips[f].test(v))return!1;for(f=0,s=J.names.length;f<s;f++)if(J.names[f].test(v))return!0;return!1},J.humanize=ne(8149),J.instances=[],J.names=[],J.skips=[],J.formatters={}},4456:function(ge){var J={}.toString;ge.exports=Array.isArray||function(ne){return"[object Array]"==J.call(ne)}},8149:function(ge){var J=1e3,ne=60*J,N=60*ne,H=24*N;function y(v,f,s){if(!(v<f))return v<1.5*f?Math.floor(v/f)+" "+s:Math.ceil(v/f)+" "+s+"s"}ge.exports=function(v,f){f=f||{};var s=typeof v;if("string"===s&&v.length>0)return function O(v){if(!((v=String(v)).length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(v);if(f){var s=parseFloat(f[1]);switch((f[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*H;case"hours":case"hour":case"hrs":case"hr":case"h":return s*N;case"minutes":case"minute":case"mins":case"min":case"m":return s*ne;case"seconds":case"second":case"secs":case"sec":case"s":return s*J;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(v);if("number"===s&&!1===isNaN(v))return f.long?function g(v){return y(v,H,"day")||y(v,N,"hour")||y(v,ne,"minute")||y(v,J,"second")||v+" ms"}(v):function w(v){return v>=H?Math.round(v/H)+"d":v>=N?Math.round(v/N)+"h":v>=ne?Math.round(v/ne)+"m":v>=J?Math.round(v/J)+"s":v+"ms"}(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))}},3386:function(ge,J,ne){var N=ne(4456),H=ne(8138),x=Object.prototype.toString,O="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===x.call(Blob),w="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===x.call(File);function g(v,f){if(!v)return v;if(H(v)){var s={_placeholder:!0,num:f.length};return f.push(v),s}if(N(v)){for(var a=new Array(v.length),u=0;u<v.length;u++)a[u]=g(v[u],f);return a}if("object"==typeof v&&!(v instanceof Date)){for(var c in a={},v)a[c]=g(v[c],f);return a}return v}function y(v,f){if(!v)return v;if(v&&v._placeholder)return f[v.num];if(N(v))for(var s=0;s<v.length;s++)v[s]=y(v[s],f);else if("object"==typeof v)for(var a in v)v[a]=y(v[a],f);return v}J.deconstructPacket=function(v){var f=[],a=v;return a.data=g(v.data,f),a.attachments=f.length,{packet:a,buffers:f}},J.reconstructPacket=function(v,f){return v.data=y(v.data,f),v.attachments=void 0,v},J.removeBlobs=function(v,f){var a=0,u=v;(function s(c,d,h){if(!c)return c;if(O&&c instanceof Blob||w&&c instanceof File){a++;var p=new FileReader;p.onload=function(){h?h[d]=this.result:u=this.result,--a||f(u)},p.readAsArrayBuffer(c)}else if(N(c))for(var _=0;_<c.length;_++)s(c[_],_,c);else if("object"==typeof c&&!H(c))for(var E in c)s(c[E],E,c)})(u),a||f(u)}},1086:function(ge,J,ne){var N=ne(3039)("socket.io-parser"),H=ne(1264),x=ne(3386),O=ne(4456),w=ne(8138);function g(){}J.protocol=4,J.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],J.CONNECT=0,J.DISCONNECT=1,J.EVENT=2,J.ACK=3,J.ERROR=4,J.BINARY_EVENT=5,J.BINARY_ACK=6,J.Encoder=g,J.Decoder=a;var y=J.ERROR+'"encode error"';function v(p){var _=""+p.type;if((J.BINARY_EVENT===p.type||J.BINARY_ACK===p.type)&&(_+=p.attachments+"-"),p.nsp&&"/"!==p.nsp&&(_+=p.nsp+","),null!=p.id&&(_+=p.id),null!=p.data){var E=function f(p){try{return JSON.stringify(p)}catch(_){return!1}}(p.data);if(!1===E)return y;_+=E}return N("encoded %j as %s",p,_),_}function a(){this.reconstructor=null}function d(p){this.reconPack=p,this.buffers=[]}function h(p){return{type:J.ERROR,data:"parser error: "+p}}g.prototype.encode=function(p,_){N("encoding packet %j",p),J.BINARY_EVENT===p.type||J.BINARY_ACK===p.type?function s(p,_){x.removeBlobs(p,function E(D){var b=x.deconstructPacket(D),R=v(b.packet),k=b.buffers;k.unshift(R),_(k)})}(p,_):_([v(p)])},H(a.prototype),a.prototype.add=function(p){var _;if("string"==typeof p)_=function u(p){var _=0,E={type:Number(p.charAt(0))};if(null==J.types[E.type])return h("unknown packet type "+E.type);if(J.BINARY_EVENT===E.type||J.BINARY_ACK===E.type){for(var D=_+1;"-"!==p.charAt(++_)&&_!=p.length;);var b=p.substring(D,_);if(b!=Number(b)||"-"!==p.charAt(_))throw new Error("Illegal attachments");E.attachments=Number(b)}if("/"===p.charAt(_+1)){for(D=_+1;++_&&(","!==(R=p.charAt(_))&&_!==p.length););E.nsp=p.substring(D,_)}else E.nsp="/";var k=p.charAt(_+1);if(""!==k&&Number(k)==k){for(D=_+1;++_;){var R;if(null==(R=p.charAt(_))||Number(R)!=R){--_;break}if(_===p.length)break}E.id=Number(p.substring(D,_+1))}if(p.charAt(++_)){var S=function c(p){try{return JSON.parse(p)}catch(_){return!1}}(p.substr(_));if(!1===S||E.type!==J.ERROR&&!O(S))return h("invalid payload");E.data=S}return N("decoded %s as %j",p,E),E}(p),J.BINARY_EVENT===_.type||J.BINARY_ACK===_.type?(this.reconstructor=new d(_),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",_)):this.emit("decoded",_);else{if(!w(p)&&!p.base64)throw new Error("Unknown type: "+p);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(_=this.reconstructor.takeBinaryData(p))&&(this.reconstructor=null,this.emit("decoded",_))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(p){if(this.buffers.push(p),this.buffers.length===this.reconPack.attachments){var _=x.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),_}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},8138:function(ge){ge.exports=function H(x){return J&&Buffer.isBuffer(x)||ne&&(x instanceof ArrayBuffer||(O=x,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(O):O.buffer instanceof ArrayBuffer));var O};var J="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,ne="function"==typeof ArrayBuffer},1898:function(ge){ge.exports=function J(ne,N){for(var H=[],x=(N=N||0)||0;x<ne.length;x++)H[x-N]=ne[x];return H}},9162:function(ge){self,ge.exports=function(){"use strict";var J={775:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.FitAddon=void 0;var O=function(){function w(){}return w.prototype.activate=function(g){this._terminal=g},w.prototype.dispose=function(){},w.prototype.fit=function(){var g=this.proposeDimensions();g&&this._terminal&&(this._terminal.rows===g.rows&&this._terminal.cols===g.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(g.cols,g.rows)))},w.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var g=this._terminal._core;if(0!==g._renderService.dimensions.actualCellWidth&&0!==g._renderService.dimensions.actualCellHeight){var y=window.getComputedStyle(this._terminal.element.parentElement),v=parseInt(y.getPropertyValue("height")),f=Math.max(0,parseInt(y.getPropertyValue("width"))),s=window.getComputedStyle(this._terminal.element),a=v-(parseInt(s.getPropertyValue("padding-top"))+parseInt(s.getPropertyValue("padding-bottom"))),u=f-(parseInt(s.getPropertyValue("padding-right"))+parseInt(s.getPropertyValue("padding-left")))-g.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(u/g._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(a/g._renderService.dimensions.actualCellHeight))}}}},w}();x.FitAddon=O}},ne={};return function N(H){if(ne[H])return ne[H].exports;var x=ne[H]={exports:{}};return J[H](x,x.exports,N),x.exports}(775)}()},4793:function(ge){self,ge.exports=function(){"use strict";var J={4567:function(H,x,O){var w,g=this&&this.__extends||(w=function(p,_){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var b in D)Object.prototype.hasOwnProperty.call(D,b)&&(E[b]=D[b])})(p,_)},function(h,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function _(){this.constructor=h}w(h,p),h.prototype=null===p?Object.create(p):(_.prototype=p.prototype,new _)});Object.defineProperty(x,"__esModule",{value:!0}),x.AccessibilityManager=void 0;var y=O(9042),v=O(6114),f=O(9924),s=O(3656),a=O(844),u=O(5596),c=O(9631),d=function(h){function p(_,E){var D=h.call(this)||this;D._terminal=_,D._renderService=E,D._liveRegionLineCount=0,D._charsToConsume=[],D._charsToAnnounce="",D._accessibilityTreeRoot=document.createElement("div"),D._accessibilityTreeRoot.classList.add("xterm-accessibility"),D._accessibilityTreeRoot.tabIndex=0,D._rowContainer=document.createElement("div"),D._rowContainer.setAttribute("role","list"),D._rowContainer.classList.add("xterm-accessibility-tree"),D._rowElements=[];for(var b=0;b<D._terminal.rows;b++)D._rowElements[b]=D._createAccessibilityTreeNode(),D._rowContainer.appendChild(D._rowElements[b]);if(D._topBoundaryFocusListener=function(R){return D._onBoundaryFocus(R,0)},D._bottomBoundaryFocusListener=function(R){return D._onBoundaryFocus(R,1)},D._rowElements[0].addEventListener("focus",D._topBoundaryFocusListener),D._rowElements[D._rowElements.length-1].addEventListener("focus",D._bottomBoundaryFocusListener),D._refreshRowsDimensions(),D._accessibilityTreeRoot.appendChild(D._rowContainer),D._renderRowsDebouncer=new f.TimeBasedDebouncer(D._renderRows.bind(D)),D._refreshRows(),D._liveRegion=document.createElement("div"),D._liveRegion.classList.add("live-region"),D._liveRegion.setAttribute("aria-live","assertive"),D._accessibilityTreeRoot.appendChild(D._liveRegion),!D._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return D._terminal.element.insertAdjacentElement("afterbegin",D._accessibilityTreeRoot),D.register(D._renderRowsDebouncer),D.register(D._terminal.onResize(function(R){return D._onResize(R.rows)})),D.register(D._terminal.onRender(function(R){return D._refreshRows(R.start,R.end)})),D.register(D._terminal.onScroll(function(){return D._refreshRows()})),D.register(D._terminal.onA11yChar(function(R){return D._onChar(R)})),D.register(D._terminal.onLineFeed(function(){return D._onChar("\n")})),D.register(D._terminal.onA11yTab(function(R){return D._onTab(R)})),D.register(D._terminal.onKey(function(R){return D._onKey(R.key)})),D.register(D._terminal.onBlur(function(){return D._clearLiveRegion()})),D.register(D._renderService.onDimensionsChange(function(){return D._refreshRowsDimensions()})),D._screenDprMonitor=new u.ScreenDprMonitor,D.register(D._screenDprMonitor),D._screenDprMonitor.setListener(function(){return D._refreshRowsDimensions()}),D.register((0,s.addDisposableDomListener)(window,"resize",function(){return D._refreshRowsDimensions()})),D}return g(p,h),p.prototype.dispose=function(){h.prototype.dispose.call(this),(0,c.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},p.prototype._onBoundaryFocus=function(_,E){var D=_.target,b=this._rowElements[0===E?1:this._rowElements.length-2];if(D.getAttribute("aria-posinset")!==(0===E?"1":""+this._terminal.buffer.lines.length)&&_.relatedTarget===b){var R,k;if(0===E?(R=D,k=this._rowElements.pop(),this._rowContainer.removeChild(k)):(R=this._rowElements.shift(),k=D,this._rowContainer.removeChild(R)),R.removeEventListener("focus",this._topBoundaryFocusListener),k.removeEventListener("focus",this._bottomBoundaryFocusListener),0===E){var S=this._createAccessibilityTreeNode();this._rowElements.unshift(S),this._rowContainer.insertAdjacentElement("afterbegin",S)}else S=this._createAccessibilityTreeNode(),this._rowElements.push(S),this._rowContainer.appendChild(S);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===E?-1:1),this._rowElements[0===E?1:this._rowElements.length-2].focus(),_.preventDefault(),_.stopImmediatePropagation()}},p.prototype._onResize=function(_){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var E=this._rowContainer.children.length;E<this._terminal.rows;E++)this._rowElements[E]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[E]);for(;this._rowElements.length>_;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},p.prototype._createAccessibilityTreeNode=function(){var _=document.createElement("div");return _.setAttribute("role","listitem"),_.tabIndex=-1,this._refreshRowDimensions(_),_},p.prototype._onTab=function(_){for(var E=0;E<_;E++)this._onChar(" ")},p.prototype._onChar=function(_){var E=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==_&&(this._charsToAnnounce+=_):this._charsToAnnounce+=_,"\n"===_&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=y.tooMuchOutput)),v.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){E._accessibilityTreeRoot.appendChild(E._liveRegion)},0))},p.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,v.isMac&&(0,c.removeElementFromParent)(this._liveRegion)},p.prototype._onKey=function(_){this._clearLiveRegion(),this._charsToConsume.push(_)},p.prototype._refreshRows=function(_,E){this._renderRowsDebouncer.refresh(_,E,this._terminal.rows)},p.prototype._renderRows=function(_,E){for(var D=this._terminal.buffer,b=D.lines.length.toString(),R=_;R<=E;R++){var k=D.translateBufferLineToString(D.ydisp+R,!0),S=(D.ydisp+R+1).toString(),M=this._rowElements[R];M&&(0===k.length?M.innerText="\xa0":M.textContent=k,M.setAttribute("aria-posinset",S),M.setAttribute("aria-setsize",b))}this._announceCharacters()},p.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var _=0;_<this._terminal.rows;_++)this._refreshRowDimensions(this._rowElements[_])}},p.prototype._refreshRowDimensions=function(_){_.style.height=this._renderService.dimensions.actualCellHeight+"px"},p.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},p}(a.Disposable);x.AccessibilityManager=d},3614:function(H,x){function O(v){return v.replace(/\r?\n/g,"\r")}function w(v,f){return f?"\x1b[200~"+v+"\x1b[201~":v}function g(v,f,s){v=w(v=O(v),s.decPrivateModes.bracketedPasteMode),s.triggerDataEvent(v,!0),f.value=""}function y(v,f,s){var a=s.getBoundingClientRect(),u=v.clientX-a.left-10,c=v.clientY-a.top-10;f.style.width="20px",f.style.height="20px",f.style.left=u+"px",f.style.top=c+"px",f.style.zIndex="1000",f.focus()}Object.defineProperty(x,"__esModule",{value:!0}),x.rightClickHandler=x.moveTextAreaUnderMouseCursor=x.paste=x.handlePasteEvent=x.copyHandler=x.bracketTextForPaste=x.prepareTextForTerminal=void 0,x.prepareTextForTerminal=O,x.bracketTextForPaste=w,x.copyHandler=function(v,f){v.clipboardData&&v.clipboardData.setData("text/plain",f.selectionText),v.preventDefault()},x.handlePasteEvent=function(v,f,s){v.stopPropagation(),v.clipboardData&&g(v.clipboardData.getData("text/plain"),f,s)},x.paste=g,x.moveTextAreaUnderMouseCursor=y,x.rightClickHandler=function(v,f,s,a,u){y(v,f,s),u&&a.rightClickSelect(v),f.value=a.selectionText,f.select()}},4774:function(H,x){var O,w,g,y,s;function v(s){var a=s.toString(16);return a.length<2?"0"+a:a}function f(s,a){return s<a?(a+.05)/(s+.05):(s+.05)/(a+.05)}Object.defineProperty(x,"__esModule",{value:!0}),x.contrastRatio=x.toPaddedHex=x.rgba=x.rgb=x.css=x.color=x.channels=void 0,(s=O=x.channels||(x.channels={})).toCss=function(a,u,c,d){return void 0!==d?"#"+v(a)+v(u)+v(c)+v(d):"#"+v(a)+v(u)+v(c)},s.toRgba=function(a,u,c,d){return void 0===d&&(d=255),(a<<24|u<<16|c<<8|d)>>>0},(w=x.color||(x.color={})).blend=function(s,a){var u=(255&a.rgba)/255;if(1===u)return{css:a.css,rgba:a.rgba};var d=a.rgba>>16&255,h=a.rgba>>8&255,p=s.rgba>>24&255,_=s.rgba>>16&255,E=s.rgba>>8&255,D=p+Math.round(((a.rgba>>24&255)-p)*u),b=_+Math.round((d-_)*u),R=E+Math.round((h-E)*u);return{css:O.toCss(D,b,R),rgba:O.toRgba(D,b,R)}},w.isOpaque=function(s){return 255==(255&s.rgba)},w.ensureContrastRatio=function(s,a,u){var c=y.ensureContrastRatio(s.rgba,a.rgba,u);if(c)return y.toColor(c>>24&255,c>>16&255,c>>8&255)},w.opaque=function(s){var a=(255|s.rgba)>>>0,u=y.toChannels(a);return{css:O.toCss(u[0],u[1],u[2]),rgba:a}},w.opacity=function(s,a){var u=Math.round(255*a),c=y.toChannels(s.rgba),d=c[0],h=c[1],p=c[2];return{css:O.toCss(d,h,p,u),rgba:O.toRgba(d,h,p,u)}},w.toColorRGB=function(s){return[s.rgba>>24&255,s.rgba>>16&255,s.rgba>>8&255]},(x.css||(x.css={})).toColor=function(s){switch(s.length){case 7:return{css:s,rgba:(parseInt(s.slice(1),16)<<8|255)>>>0};case 9:return{css:s,rgba:parseInt(s.slice(1),16)>>>0}}throw new Error("css.toColor: Unsupported css format")},function(s){function a(u,c,d){var h=u/255,p=c/255,_=d/255;return.2126*(h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4))+.7152*(p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4))+.0722*(_<=.03928?_/12.92:Math.pow((_+.055)/1.055,2.4))}s.relativeLuminance=function(u){return a(u>>16&255,u>>8&255,255&u)},s.relativeLuminance2=a}(g=x.rgb||(x.rgb={})),function(s){function a(c,d,h){for(var p=c>>24&255,_=c>>16&255,E=c>>8&255,D=d>>24&255,b=d>>16&255,R=d>>8&255,k=f(g.relativeLuminance2(D,R,b),g.relativeLuminance2(p,_,E));k<h&&(D>0||b>0||R>0);)D-=Math.max(0,Math.ceil(.1*D)),b-=Math.max(0,Math.ceil(.1*b)),R-=Math.max(0,Math.ceil(.1*R)),k=f(g.relativeLuminance2(D,R,b),g.relativeLuminance2(p,_,E));return(D<<24|b<<16|R<<8|255)>>>0}function u(c,d,h){for(var p=c>>24&255,_=c>>16&255,E=c>>8&255,D=d>>24&255,b=d>>16&255,R=d>>8&255,k=f(g.relativeLuminance2(D,R,b),g.relativeLuminance2(p,_,E));k<h&&(D<255||b<255||R<255);)D=Math.min(255,D+Math.ceil(.1*(255-D))),b=Math.min(255,b+Math.ceil(.1*(255-b))),R=Math.min(255,R+Math.ceil(.1*(255-R))),k=f(g.relativeLuminance2(D,R,b),g.relativeLuminance2(p,_,E));return(D<<24|b<<16|R<<8|255)>>>0}s.ensureContrastRatio=function(c,d,h){var p=g.relativeLuminance(c>>8),_=g.relativeLuminance(d>>8);if(f(p,_)<h)return _<p?a(c,d,h):u(c,d,h)},s.reduceLuminance=a,s.increaseLuminance=u,s.toChannels=function(c){return[c>>24&255,c>>16&255,c>>8&255,255&c]},s.toColor=function(c,d,h){return{css:O.toCss(c,d,h),rgba:O.toRgba(c,d,h)}}}(y=x.rgba||(x.rgba={})),x.toPaddedHex=v,x.contrastRatio=f},7239:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.ColorContrastCache=void 0;var O=function(){function w(){this._color={},this._rgba={}}return w.prototype.clear=function(){this._color={},this._rgba={}},w.prototype.setCss=function(g,y,v){this._rgba[g]||(this._rgba[g]={}),this._rgba[g][y]=v},w.prototype.getCss=function(g,y){return this._rgba[g]?this._rgba[g][y]:void 0},w.prototype.setColor=function(g,y,v){this._color[g]||(this._color[g]={}),this._color[g][y]=v},w.prototype.getColor=function(g,y){return this._color[g]?this._color[g][y]:void 0},w}();x.ColorContrastCache=O},5680:function(H,x,O){var w=this&&this.__spreadArray||function(d,h,p){if(p||2===arguments.length)for(var _,E=0,D=h.length;E<D;E++)!_&&E in h||(_||(_=Array.prototype.slice.call(h,0,E)),_[E]=h[E]);return d.concat(_||Array.prototype.slice.call(h))};Object.defineProperty(x,"__esModule",{value:!0}),x.ColorManager=x.DEFAULT_ANSI_COLORS=void 0;var g=O(4774),y=O(7239),v=g.css.toColor("#ffffff"),f=g.css.toColor("#000000"),s=g.css.toColor("#ffffff"),a=g.css.toColor("#000000"),u={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};x.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var d=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],h=[0,95,135,175,215,255],p=0;p<216;p++){var _=h[p/36%6|0],E=h[p/6%6|0],D=h[p%6];d.push({css:g.channels.toCss(_,E,D),rgba:g.channels.toRgba(_,E,D)})}for(p=0;p<24;p++){var b=8+10*p;d.push({css:g.channels.toCss(b,b,b),rgba:g.channels.toRgba(b,b,b)})}return d}());var c=function(){function d(h,p){this.allowTransparency=p;var _=h.createElement("canvas");_.width=1,_.height=1;var E=_.getContext("2d");if(!E)throw new Error("Could not get rendering context");this._ctx=E,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new y.ColorContrastCache,this.colors={foreground:v,background:f,cursor:s,cursorAccent:a,selectionTransparent:u,selectionOpaque:g.color.blend(f,u),ansi:x.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return d.prototype.onOptionsChange=function(h){"minimumContrastRatio"===h&&this._contrastCache.clear()},d.prototype.setTheme=function(h){void 0===h&&(h={}),this.colors.foreground=this._parseColor(h.foreground,v),this.colors.background=this._parseColor(h.background,f),this.colors.cursor=this._parseColor(h.cursor,s,!0),this.colors.cursorAccent=this._parseColor(h.cursorAccent,a,!0),this.colors.selectionTransparent=this._parseColor(h.selection,u,!0),this.colors.selectionOpaque=g.color.blend(this.colors.background,this.colors.selectionTransparent),g.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=g.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(h.black,x.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(h.red,x.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(h.green,x.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(h.yellow,x.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(h.blue,x.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(h.magenta,x.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(h.cyan,x.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(h.white,x.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(h.brightBlack,x.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(h.brightRed,x.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(h.brightGreen,x.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(h.brightYellow,x.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(h.brightBlue,x.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(h.brightMagenta,x.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(h.brightCyan,x.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(h.brightWhite,x.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},d.prototype.restoreColor=function(h){if(void 0!==h)switch(h){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[h]=this._restoreColors.ansi[h]}else for(var p=0;p<this._restoreColors.ansi.length;++p)this.colors.ansi[p]=this._restoreColors.ansi[p]},d.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:w([],this.colors.ansi,!0)}},d.prototype._parseColor=function(h,p,_){if(void 0===_&&(_=this.allowTransparency),void 0===h)return p;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=h,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+h+" is invalid using fallback "+p.css),p;this._ctx.fillRect(0,0,1,1);var E=this._ctx.getImageData(0,0,1,1).data;if(255!==E[3]){if(!_)return console.warn("Color: "+h+" is using transparency, but allowTransparency is false. Using fallback "+p.css+"."),p;var D=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(C){return Number(C)}),b=D[0],R=D[1],k=D[2],M=Math.round(255*D[3]);return{rgba:g.channels.toRgba(b,R,k,M),css:h}}return{css:this._ctx.fillStyle,rgba:g.channels.toRgba(E[0],E[1],E[2],E[3])}},d}();x.ColorManager=c},9631:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.removeElementFromParent=void 0,x.removeElementFromParent=function(){for(var O,w=[],g=0;g<arguments.length;g++)w[g]=arguments[g];for(var y=0,v=w;y<v.length;y++){var f=v[y];null===(O=null==f?void 0:f.parentElement)||void 0===O||O.removeChild(f)}}},3656:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.addDisposableDomListener=void 0,x.addDisposableDomListener=function(O,w,g,y){O.addEventListener(w,g,y);var v=!1;return{dispose:function(){v||(v=!0,O.removeEventListener(w,g,y))}}}},3551:function(H,x,O){var w=this&&this.__decorate||function(a,u,c,d){var h,p=arguments.length,_=p<3?u:null===d?d=Object.getOwnPropertyDescriptor(u,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(a,u,c,d);else for(var E=a.length-1;E>=0;E--)(h=a[E])&&(_=(p<3?h(_):p>3?h(u,c,_):h(u,c))||_);return p>3&&_&&Object.defineProperty(u,c,_),_},g=this&&this.__param||function(a,u){return function(c,d){u(c,d,a)}};Object.defineProperty(x,"__esModule",{value:!0}),x.MouseZone=x.Linkifier=void 0;var y=O(8460),v=O(2585),f=function(){function a(u,c,d){this._bufferService=u,this._logService=c,this._unicodeService=d,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new y.EventEmitter,this._onHideLinkUnderline=new y.EventEmitter,this._onLinkTooltip=new y.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(a.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),a.prototype.attachToDom=function(u,c){this._element=u,this._mouseZoneManager=c},a.prototype.linkifyRows=function(u,c){var d=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=u,this._rowsToLinkify.end=c):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,u),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,c)),this._mouseZoneManager.clearAll(u,c),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return d._linkifyRows()},a._timeBeforeLatency))},a.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var u=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var c=u.ydisp+this._rowsToLinkify.start;if(!(c>=u.lines.length)){for(var d=u.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,h=Math.ceil(2e3/this._bufferService.cols),p=this._bufferService.buffer.iterator(!1,c,d,h,h);p.hasNext();)for(var _=p.next(),E=0;E<this._linkMatchers.length;E++)this._doLinkifyRow(_.range.first,_.content,this._linkMatchers[E]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},a.prototype.registerLinkMatcher=function(u,c,d){if(void 0===d&&(d={}),!c)throw new Error("handler must be defined");var h={id:this._nextLinkMatcherId++,regex:u,handler:c,matchIndex:d.matchIndex,validationCallback:d.validationCallback,hoverTooltipCallback:d.tooltipCallback,hoverLeaveCallback:d.leaveCallback,willLinkActivate:d.willLinkActivate,priority:d.priority||0};return this._addLinkMatcherToList(h),h.id},a.prototype._addLinkMatcherToList=function(u){if(0!==this._linkMatchers.length){for(var c=this._linkMatchers.length-1;c>=0;c--)if(u.priority<=this._linkMatchers[c].priority)return void this._linkMatchers.splice(c+1,0,u);this._linkMatchers.splice(0,0,u)}else this._linkMatchers.push(u)},a.prototype.deregisterLinkMatcher=function(u){for(var c=0;c<this._linkMatchers.length;c++)if(this._linkMatchers[c].id===u)return this._linkMatchers.splice(c,1),!0;return!1},a.prototype._doLinkifyRow=function(u,c,d){for(var h,p=this,_=new RegExp(d.regex.source,(d.regex.flags||"")+"g"),E=-1,D=function(){var k=h["number"!=typeof d.matchIndex?0:d.matchIndex];if(!k)return b._logService.debug("match found without corresponding matchIndex",h,d),"break";if(E=c.indexOf(k,E+1),_.lastIndex=E+k.length,E<0)return"break";var S=b._bufferService.buffer.stringIndexToBufferIndex(u,E);if(S[0]<0)return"break";var M=b._bufferService.buffer.lines.get(S[0]);if(!M)return"break";var C=M.getFg(S[1]),T=C?C>>9&511:void 0;d.validationCallback?d.validationCallback(k,function(I){p._rowsTimeoutId||I&&p._addLink(S[1],S[0]-p._bufferService.buffer.ydisp,k,d,T)}):b._addLink(S[1],S[0]-b._bufferService.buffer.ydisp,k,d,T)},b=this;null!==(h=_.exec(c))&&"break"!==D(););},a.prototype._addLink=function(u,c,d,h,p){var _=this;if(this._mouseZoneManager&&this._element){var E=this._unicodeService.getStringCellWidth(d),D=u%this._bufferService.cols,b=c+Math.floor(u/this._bufferService.cols),R=(D+E)%this._bufferService.cols,k=b+Math.floor((D+E)/this._bufferService.cols);0===R&&(R=this._bufferService.cols,k--),this._mouseZoneManager.add(new s(D+1,b+1,R+1,k+1,function(S){if(h.handler)return h.handler(S,d);var M=window.open();M?(M.opener=null,M.location.href=d):console.warn("Opening link blocked as opener could not be cleared")},function(){_._onShowLinkUnderline.fire(_._createLinkHoverEvent(D,b,R,k,p)),_._element.classList.add("xterm-cursor-pointer")},function(S){_._onLinkTooltip.fire(_._createLinkHoverEvent(D,b,R,k,p)),h.hoverTooltipCallback&&h.hoverTooltipCallback(S,d,{start:{x:D,y:b},end:{x:R,y:k}})},function(){_._onHideLinkUnderline.fire(_._createLinkHoverEvent(D,b,R,k,p)),_._element.classList.remove("xterm-cursor-pointer"),h.hoverLeaveCallback&&h.hoverLeaveCallback()},function(S){return!h.willLinkActivate||h.willLinkActivate(S,d)}))}},a.prototype._createLinkHoverEvent=function(u,c,d,h,p){return{x1:u,y1:c,x2:d,y2:h,cols:this._bufferService.cols,fg:p}},a._timeBeforeLatency=200,a=w([g(0,v.IBufferService),g(1,v.ILogService),g(2,v.IUnicodeService)],a)}();x.Linkifier=f;var s=function(u,c,d,h,p,_,E,D,b){this.x1=u,this.y1=c,this.x2=d,this.y2=h,this.clickCallback=p,this.hoverCallback=_,this.tooltipCallback=E,this.leaveCallback=D,this.willLinkActivate=b};x.MouseZone=s},6465:function(H,x,O){var w,g=this&&this.__extends||(w=function(h,p){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(_[D]=E[D])})(h,p)},function(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function p(){this.constructor=d}w(d,h),d.prototype=null===h?Object.create(h):(p.prototype=h.prototype,new p)}),y=this&&this.__decorate||function(d,h,p,_){var E,D=arguments.length,b=D<3?h:null===_?_=Object.getOwnPropertyDescriptor(h,p):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(d,h,p,_);else for(var R=d.length-1;R>=0;R--)(E=d[R])&&(b=(D<3?E(b):D>3?E(h,p,b):E(h,p))||b);return D>3&&b&&Object.defineProperty(h,p,b),b},v=this&&this.__param||function(d,h){return function(p,_){h(p,_,d)}};Object.defineProperty(x,"__esModule",{value:!0}),x.Linkifier2=void 0;var f=O(2585),s=O(8460),a=O(844),u=O(3656),c=function(d){function h(p){var _=d.call(this)||this;return _._bufferService=p,_._linkProviders=[],_._linkCacheDisposables=[],_._isMouseOut=!0,_._activeLine=-1,_._onShowLinkUnderline=_.register(new s.EventEmitter),_._onHideLinkUnderline=_.register(new s.EventEmitter),_.register((0,a.getDisposeArrayDisposable)(_._linkCacheDisposables)),_}return g(h,d),Object.defineProperty(h.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),h.prototype.registerLinkProvider=function(p){var _=this;return this._linkProviders.push(p),{dispose:function(){var D=_._linkProviders.indexOf(p);-1!==D&&_._linkProviders.splice(D,1)}}},h.prototype.attachToDom=function(p,_,E){var D=this;this._element=p,this._mouseService=_,this._renderService=E,this.register((0,u.addDisposableDomListener)(this._element,"mouseleave",function(){D._isMouseOut=!0,D._clearCurrentLink()})),this.register((0,u.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"click",this._onClick.bind(this)))},h.prototype._onMouseMove=function(p){if(this._lastMouseEvent=p,this._element&&this._mouseService){var _=this._positionFromMouseEvent(p,this._element,this._mouseService);if(_){this._isMouseOut=!1;for(var E=p.composedPath(),D=0;D<E.length;D++){var b=E[D];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&_.x===this._lastBufferCell.x&&_.y===this._lastBufferCell.y||(this._onHover(_),this._lastBufferCell=_)}}},h.prototype._onHover=function(p){if(this._activeLine!==p.y)return this._clearCurrentLink(),void this._askForLink(p,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,p)||(this._clearCurrentLink(),this._askForLink(p,!0))},h.prototype._askForLink=function(p,_){var E,D=this;this._activeProviderReplies&&_||(null===(E=this._activeProviderReplies)||void 0===E||E.forEach(function(R){null==R||R.forEach(function(k){k.link.dispose&&k.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=p.y);var b=!1;this._linkProviders.forEach(function(R,k){var S;_?(null===(S=D._activeProviderReplies)||void 0===S?void 0:S.get(k))&&(b=D._checkLinkProviderResult(k,p,b)):R.provideLinks(p.y,function(M){var C,T;if(!D._isMouseOut){var I=null==M?void 0:M.map(function($){return{link:$}});null===(C=D._activeProviderReplies)||void 0===C||C.set(k,I),b=D._checkLinkProviderResult(k,p,b),(null===(T=D._activeProviderReplies)||void 0===T?void 0:T.size)===D._linkProviders.length&&D._removeIntersectingLinks(p.y,D._activeProviderReplies)}})})},h.prototype._removeIntersectingLinks=function(p,_){for(var E=new Set,D=0;D<_.size;D++){var b=_.get(D);if(b)for(var R=0;R<b.length;R++)for(var k=b[R],M=k.link.range.end.y>p?this._bufferService.cols:k.link.range.end.x,C=k.link.range.start.y<p?0:k.link.range.start.x;C<=M;C++){if(E.has(C)){b.splice(R--,1);break}E.add(C)}}},h.prototype._checkLinkProviderResult=function(p,_,E){var D,b=this;if(!this._activeProviderReplies)return E;for(var R=this._activeProviderReplies.get(p),k=!1,S=0;S<p;S++)this._activeProviderReplies.has(S)&&!this._activeProviderReplies.get(S)||(k=!0);if(!k&&R){var M=R.find(function(T){return b._linkAtPosition(T.link,_)});M&&(E=!0,this._handleNewLink(M))}if(this._activeProviderReplies.size===this._linkProviders.length&&!E)for(S=0;S<this._activeProviderReplies.size;S++){var C=null===(D=this._activeProviderReplies.get(S))||void 0===D?void 0:D.find(function(T){return b._linkAtPosition(T.link,_)});if(C){E=!0,this._handleNewLink(C);break}}return E},h.prototype._onClick=function(p){if(this._element&&this._mouseService&&this._currentLink){var _=this._positionFromMouseEvent(p,this._element,this._mouseService);_&&this._linkAtPosition(this._currentLink.link,_)&&this._currentLink.link.activate(p,this._currentLink.link.text)}},h.prototype._clearCurrentLink=function(p,_){this._element&&this._currentLink&&this._lastMouseEvent&&(!p||!_||this._currentLink.link.range.start.y>=p&&this._currentLink.link.range.end.y<=_)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,a.disposeArray)(this._linkCacheDisposables))},h.prototype._handleNewLink=function(p){var _=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var E=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);E&&this._linkAtPosition(p.link,E)&&(this._currentLink=p,this._currentLink.state={decorations:{underline:void 0===p.link.decorations||p.link.decorations.underline,pointerCursor:void 0===p.link.decorations||p.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,p.link,this._lastMouseEvent),p.link.decorations={},Object.defineProperties(p.link.decorations,{pointerCursor:{get:function(){var b,R;return null===(R=null===(b=_._currentLink)||void 0===b?void 0:b.state)||void 0===R?void 0:R.decorations.pointerCursor},set:function(b){var R,k;(null===(R=_._currentLink)||void 0===R?void 0:R.state)&&_._currentLink.state.decorations.pointerCursor!==b&&(_._currentLink.state.decorations.pointerCursor=b,_._currentLink.state.isHovered&&(null===(k=_._element)||void 0===k||k.classList.toggle("xterm-cursor-pointer",b)))}},underline:{get:function(){var b,R;return null===(R=null===(b=_._currentLink)||void 0===b?void 0:b.state)||void 0===R?void 0:R.decorations.underline},set:function(b){var R,k,S;(null===(R=_._currentLink)||void 0===R?void 0:R.state)&&(null===(S=null===(k=_._currentLink)||void 0===k?void 0:k.state)||void 0===S?void 0:S.decorations.underline)!==b&&(_._currentLink.state.decorations.underline=b,_._currentLink.state.isHovered&&_._fireUnderlineEvent(p.link,b))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange(function(D){_._clearCurrentLink(0===D.start?0:D.start+1+_._bufferService.buffer.ydisp,D.end+1+_._bufferService.buffer.ydisp)})))}},h.prototype._linkHover=function(p,_,E){var D;(null===(D=this._currentLink)||void 0===D?void 0:D.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(_,!0),this._currentLink.state.decorations.pointerCursor&&p.classList.add("xterm-cursor-pointer")),_.hover&&_.hover(E,_.text)},h.prototype._fireUnderlineEvent=function(p,_){var E=p.range,D=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(E.start.x-1,E.start.y-D-1,E.end.x,E.end.y-D-1,void 0);(_?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)},h.prototype._linkLeave=function(p,_,E){var D;(null===(D=this._currentLink)||void 0===D?void 0:D.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(_,!1),this._currentLink.state.decorations.pointerCursor&&p.classList.remove("xterm-cursor-pointer")),_.leave&&_.leave(E,_.text)},h.prototype._linkAtPosition=function(p,_){var D=p.range.start.y<_.y,b=p.range.end.y>_.y;return(p.range.start.y===p.range.end.y&&p.range.start.x<=_.x&&p.range.end.x>=_.x||D&&p.range.end.x>=_.x||b&&p.range.start.x<=_.x||D&&b)&&p.range.start.y<=_.y&&p.range.end.y>=_.y},h.prototype._positionFromMouseEvent=function(p,_,E){var D=E.getCoords(p,_,this._bufferService.cols,this._bufferService.rows);if(D)return{x:D[0],y:D[1]+this._bufferService.buffer.ydisp}},h.prototype._createLinkUnderlineEvent=function(p,_,E,D,b){return{x1:p,y1:_,x2:E,y2:D,cols:this._bufferService.cols,fg:b}},y([v(0,f.IBufferService)],h)}(a.Disposable);x.Linkifier2=c},9042:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.tooMuchOutput=x.promptLabel=void 0,x.promptLabel="Terminal input",x.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(H,x,O){var w,g=this&&this.__extends||(w=function(h,p){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(_[D]=E[D])})(h,p)},function(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function p(){this.constructor=d}w(d,h),d.prototype=null===h?Object.create(h):(p.prototype=h.prototype,new p)}),y=this&&this.__decorate||function(d,h,p,_){var E,D=arguments.length,b=D<3?h:null===_?_=Object.getOwnPropertyDescriptor(h,p):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(d,h,p,_);else for(var R=d.length-1;R>=0;R--)(E=d[R])&&(b=(D<3?E(b):D>3?E(h,p,b):E(h,p))||b);return D>3&&b&&Object.defineProperty(h,p,b),b},v=this&&this.__param||function(d,h){return function(p,_){h(p,_,d)}};Object.defineProperty(x,"__esModule",{value:!0}),x.MouseZoneManager=void 0;var f=O(844),s=O(3656),a=O(4725),u=O(2585),c=function(d){function h(p,_,E,D,b,R){var k=d.call(this)||this;return k._element=p,k._screenElement=_,k._bufferService=E,k._mouseService=D,k._selectionService=b,k._optionsService=R,k._zones=[],k._areZonesActive=!1,k._lastHoverCoords=[void 0,void 0],k._initialSelectionLength=0,k.register((0,s.addDisposableDomListener)(k._element,"mousedown",function(S){return k._onMouseDown(S)})),k._mouseMoveListener=function(S){return k._onMouseMove(S)},k._mouseLeaveListener=function(S){return k._onMouseLeave(S)},k._clickListener=function(S){return k._onClick(S)},k}return g(h,d),h.prototype.dispose=function(){d.prototype.dispose.call(this),this._deactivate()},h.prototype.add=function(p){this._zones.push(p),1===this._zones.length&&this._activate()},h.prototype.clearAll=function(p,_){if(0!==this._zones.length){p&&_||(p=0,_=this._bufferService.rows-1);for(var E=0;E<this._zones.length;E++){var D=this._zones[E];(D.y1>p&&D.y1<=_+1||D.y2>p&&D.y2<=_+1||D.y1<p&&D.y2>_+1)&&(this._currentZone&&this._currentZone===D&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(E--,1))}0===this._zones.length&&this._deactivate()}},h.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},h.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},h.prototype._onMouseMove=function(p){this._lastHoverCoords[0]===p.pageX&&this._lastHoverCoords[1]===p.pageY||(this._onHover(p),this._lastHoverCoords=[p.pageX,p.pageY])},h.prototype._onHover=function(p){var _=this,E=this._findZoneEventAt(p);E!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),E&&(this._currentZone=E,E.hoverCallback&&E.hoverCallback(p),this._tooltipTimeout=window.setTimeout(function(){return _._onTooltip(p)},this._optionsService.rawOptions.linkTooltipHoverDuration)))},h.prototype._onTooltip=function(p){this._tooltipTimeout=void 0;var _=this._findZoneEventAt(p);null==_||_.tooltipCallback(p)},h.prototype._onMouseDown=function(p){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var _=this._findZoneEventAt(p);(null==_?void 0:_.willLinkActivate(p))&&(p.preventDefault(),p.stopImmediatePropagation())}},h.prototype._onMouseLeave=function(p){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},h.prototype._onClick=function(p){var _=this._findZoneEventAt(p),E=this._getSelectionLength();_&&E===this._initialSelectionLength&&(_.clickCallback(p),p.preventDefault(),p.stopImmediatePropagation())},h.prototype._getSelectionLength=function(){var p=this._selectionService.selectionText;return p?p.length:0},h.prototype._findZoneEventAt=function(p){var _=this._mouseService.getCoords(p,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(_)for(var E=_[0],D=_[1],b=0;b<this._zones.length;b++){var R=this._zones[b];if(R.y1===R.y2){if(D===R.y1&&E>=R.x1&&E<R.x2)return R}else if(D===R.y1&&E>=R.x1||D===R.y2&&E<R.x2||D>R.y1&&D<R.y2)return R}},y([v(2,u.IBufferService),v(3,a.IMouseService),v(4,a.ISelectionService),v(5,u.IOptionsService)],h)}(f.Disposable);x.MouseZoneManager=c},6193:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.RenderDebouncer=void 0;var O=function(){function w(g){this._renderCallback=g}return w.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},w.prototype.refresh=function(g,y,v){var f=this;this._rowCount=v,g=void 0!==g?g:0,y=void 0!==y?y:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,g):g,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,y):y,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return f._innerRefresh()}))},w.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var g=Math.max(this._rowStart,0),y=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(g,y)}},w}();x.RenderDebouncer=O},5596:function(H,x,O){var w,g=this&&this.__extends||(w=function(f,s){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(f,s)},function(v,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function s(){this.constructor=v}w(v,f),v.prototype=null===f?Object.create(f):(s.prototype=f.prototype,new s)});Object.defineProperty(x,"__esModule",{value:!0}),x.ScreenDprMonitor=void 0;var y=function(v){function f(){var s=null!==v&&v.apply(this,arguments)||this;return s._currentDevicePixelRatio=window.devicePixelRatio,s}return g(f,v),f.prototype.setListener=function(s){var a=this;this._listener&&this.clearListener(),this._listener=s,this._outerListener=function(){a._listener&&(a._listener(window.devicePixelRatio,a._currentDevicePixelRatio),a._updateDpr())},this._updateDpr()},f.prototype.dispose=function(){v.prototype.dispose.call(this),this.clearListener()},f.prototype._updateDpr=function(){var s;this._outerListener&&(null===(s=this._resolutionMediaMatchList)||void 0===s||s.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},f.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},f}(O(844).Disposable);x.ScreenDprMonitor=y},3236:function(H,x,O){var w,g=this&&this.__extends||(w=function(ie,Y){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,Z){ee.__proto__=Z}||function(ee,Z){for(var ce in Z)Object.prototype.hasOwnProperty.call(Z,ce)&&(ee[ce]=Z[ce])})(ie,Y)},function(G,ie){if("function"!=typeof ie&&null!==ie)throw new TypeError("Class extends value "+String(ie)+" is not a constructor or null");function Y(){this.constructor=G}w(G,ie),G.prototype=null===ie?Object.create(ie):(Y.prototype=ie.prototype,new Y)});Object.defineProperty(x,"__esModule",{value:!0}),x.Terminal=void 0;var y=O(2950),v=O(1680),f=O(3614),s=O(2584),a=O(5435),u=O(3525),c=O(3551),d=O(9312),h=O(6114),p=O(3656),_=O(9042),E=O(357),D=O(6954),b=O(4567),R=O(1296),k=O(7399),S=O(8460),M=O(8437),C=O(5680),T=O(3230),I=O(4725),$=O(428),F=O(8934),P=O(6465),U=O(5114),W=O(8969),z=O(4774),X=O(4269),K=O(5941),Q=O(7641),oe="undefined"!=typeof window?window.document:null,re=function(G){function ie(Y){void 0===Y&&(Y={});var ee=G.call(this,Y)||this;return ee.browser=h,ee._keyDownHandled=!1,ee._keyPressHandled=!1,ee._unprocessedDeadKey=!1,ee._onCursorMove=new S.EventEmitter,ee._onKey=new S.EventEmitter,ee._onRender=new S.EventEmitter,ee._onSelectionChange=new S.EventEmitter,ee._onTitleChange=new S.EventEmitter,ee._onBell=new S.EventEmitter,ee._onFocus=new S.EventEmitter,ee._onBlur=new S.EventEmitter,ee._onA11yCharEmitter=new S.EventEmitter,ee._onA11yTabEmitter=new S.EventEmitter,ee._setup(),ee.linkifier=ee._instantiationService.createInstance(c.Linkifier),ee.linkifier2=ee.register(ee._instantiationService.createInstance(P.Linkifier2)),ee.decorationService=ee.register(ee._instantiationService.createInstance(Q.DecorationService)),ee.register(ee._inputHandler.onRequestBell(function(){return ee.bell()})),ee.register(ee._inputHandler.onRequestRefreshRows(function(Z,ce){return ee.refresh(Z,ce)})),ee.register(ee._inputHandler.onRequestSendFocus(function(){return ee._reportFocus()})),ee.register(ee._inputHandler.onRequestReset(function(){return ee.reset()})),ee.register(ee._inputHandler.onRequestWindowsOptionsReport(function(Z){return ee._reportWindowsOptions(Z)})),ee.register(ee._inputHandler.onColor(function(Z){return ee._handleColorEvent(Z)})),ee.register((0,S.forwardEvent)(ee._inputHandler.onCursorMove,ee._onCursorMove)),ee.register((0,S.forwardEvent)(ee._inputHandler.onTitleChange,ee._onTitleChange)),ee.register((0,S.forwardEvent)(ee._inputHandler.onA11yChar,ee._onA11yCharEmitter)),ee.register((0,S.forwardEvent)(ee._inputHandler.onA11yTab,ee._onA11yTabEmitter)),ee.register(ee._bufferService.onResize(function(Z){return ee._afterResize(Z.cols,Z.rows)})),ee}return g(ie,G),Object.defineProperty(ie.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),ie.prototype._handleColorEvent=function(Y){var ee,Z;if(this._colorManager){for(var ce=0,ve=Y;ce<ve.length;ce++){var ye=ve[ce],Ce=void 0,Pe="";switch(ye.index){case 256:Ce="foreground",Pe="10";break;case 257:Ce="background",Pe="11";break;case 258:Ce="cursor",Pe="12";break;default:Ce="ansi",Pe="4;"+ye.index}if(Ce)switch(ye.type){case 0:var He=z.color.toColorRGB("ansi"===Ce?this._colorManager.colors.ansi[ye.index]:this._colorManager.colors[Ce]);this.coreService.triggerDataEvent(s.C0.ESC+"]"+Pe+";"+(0,K.toRgbString)(He)+s.C0.BEL);break;case 1:"ansi"===Ce?this._colorManager.colors.ansi[ye.index]=z.rgba.toColor.apply(z.rgba,ye.color):this._colorManager.colors[Ce]=z.rgba.toColor.apply(z.rgba,ye.color);break;case 2:this._colorManager.restoreColor(ye.index)}}null===(ee=this._renderService)||void 0===ee||ee.setColors(this._colorManager.colors),null===(Z=this.viewport)||void 0===Z||Z.onThemeChange(this._colorManager.colors)}},ie.prototype.dispose=function(){var Y,ee,Z;this._isDisposed||(G.prototype.dispose.call(this),null===(Y=this._renderService)||void 0===Y||Y.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},null===(Z=null===(ee=this.element)||void 0===ee?void 0:ee.parentNode)||void 0===Z||Z.removeChild(this.element))},ie.prototype._setup=function(){G.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(ie.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),ie.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},ie.prototype._updateOptions=function(Y){var ee,Z,ce,ve;switch(G.prototype._updateOptions.call(this,Y),Y){case"fontFamily":case"fontSize":null===(ee=this._renderService)||void 0===ee||ee.clear(),null===(Z=this._charSizeService)||void 0===Z||Z.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":null===(ce=this.viewport)||void 0===ce||ce.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new b.AccessibilityManager(this,this._renderService)):(null===(ve=this._accessibilityManager)||void 0===ve||ve.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}},ie.prototype._onTextAreaFocus=function(Y){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(s.C0.ESC+"[I"),this.updateCursorStyle(Y),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},ie.prototype.blur=function(){var Y;return null===(Y=this.textarea)||void 0===Y?void 0:Y.blur()},ie.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(s.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},ie.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var ee=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(ee){var Z=Math.min(this.buffer.x,this.cols-1),ce=this._renderService.dimensions.actualCellHeight,ve=ee.getWidth(Z),ye=this._renderService.dimensions.actualCellWidth*ve,Ce=this.buffer.y*this._renderService.dimensions.actualCellHeight;this.textarea.style.left=Z*this._renderService.dimensions.actualCellWidth+"px",this.textarea.style.top=Ce+"px",this.textarea.style.width=ye+"px",this.textarea.style.height=ce+"px",this.textarea.style.lineHeight=ce+"px",this.textarea.style.zIndex="-5"}}},ie.prototype._initGlobal=function(){var Y=this;this._bindKeys(),this.register((0,p.addDisposableDomListener)(this.element,"copy",function(Z){Y.hasSelection()&&(0,f.copyHandler)(Z,Y._selectionService)}));var ee=function(ce){return(0,f.handlePasteEvent)(ce,Y.textarea,Y.coreService)};this.register((0,p.addDisposableDomListener)(this.textarea,"paste",ee)),this.register((0,p.addDisposableDomListener)(this.element,"paste",ee)),this.register(h.isFirefox?(0,p.addDisposableDomListener)(this.element,"mousedown",function(Z){2===Z.button&&(0,f.rightClickHandler)(Z,Y.textarea,Y.screenElement,Y._selectionService,Y.options.rightClickSelectsWord)}):(0,p.addDisposableDomListener)(this.element,"contextmenu",function(Z){(0,f.rightClickHandler)(Z,Y.textarea,Y.screenElement,Y._selectionService,Y.options.rightClickSelectsWord)})),h.isLinux&&this.register((0,p.addDisposableDomListener)(this.element,"auxclick",function(Z){1===Z.button&&(0,f.moveTextAreaUnderMouseCursor)(Z,Y.textarea,Y.screenElement)}))},ie.prototype._bindKeys=function(){var Y=this;this.register((0,p.addDisposableDomListener)(this.textarea,"keyup",function(ee){return Y._keyUp(ee)},!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"keydown",function(ee){return Y._keyDown(ee)},!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"keypress",function(ee){return Y._keyPress(ee)},!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionstart",function(){return Y._compositionHelper.compositionstart()})),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionupdate",function(ee){return Y._compositionHelper.compositionupdate(ee)})),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionend",function(){return Y._compositionHelper.compositionend()})),this.register((0,p.addDisposableDomListener)(this.textarea,"input",function(ee){return Y._inputEvent(ee)},!0)),this.register(this.onRender(function(){return Y._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(ee){return Y._queueLinkification(ee.start,ee.end)}))},ie.prototype.open=function(Y){var ee=this;if(!Y)throw new Error("Terminal requires a parent element.");Y.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=Y.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),Y.appendChild(this.element);var Z=oe.createDocumentFragment();this._viewportElement=oe.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),Z.appendChild(this._viewportElement),this._viewportScrollArea=oe.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=oe.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=oe.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),Z.appendChild(this.screenElement),this.textarea=oe.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",_.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,p.addDisposableDomListener)(this.textarea,"focus",function(ye){return ee._onTextAreaFocus(ye)})),this.register((0,p.addDisposableDomListener)(this.textarea,"blur",function(){return ee._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var ce=this._instantiationService.createInstance(U.CoreBrowserService,this.textarea);this._instantiationService.setService(I.ICoreBrowserService,ce),this._charSizeService=this._instantiationService.createInstance($.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(I.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new C.ColorManager(oe,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(ye){return ee._colorManager.onOptionsChange(ye)})),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(X.CharacterJoinerService),this._instantiationService.setService(I.ICharacterJoinerService,this._characterJoinerService);var ve=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(T.RenderService,ve,this.rows,this.screenElement)),this._instantiationService.setService(I.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange(function(ye){return ee._onRender.fire(ye)})),this.onResize(function(ye){return ee._renderService.resize(ye.cols,ye.rows)}),this._compositionView=oe.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(Z),this._soundService=this._instantiationService.createInstance(E.SoundService),this._instantiationService.setService(I.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(F.MouseService),this._instantiationService.setService(I.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(v.Viewport,function(ye){return ee.scrollLines(ye,!0,1)},this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return ee.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){ee._renderService.onCursorMove(),ee._syncTextArea()})),this.register(this.onResize(function(){return ee._renderService.onResize(ee.cols,ee.rows)})),this.register(this.onBlur(function(){return ee._renderService.onBlur()})),this.register(this.onFocus(function(){return ee._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return ee.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(d.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(I.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(ye){return ee.scrollLines(ye.amount,ye.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return ee._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(ye){return ee._renderService.onSelectionChanged(ye.start,ye.end,ye.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(ye){ee.textarea.value=ye,ee.textarea.focus(),ee.textarea.select()})),this.register(this._onScroll.event(function(ye){ee.viewport.syncScrollArea(),ee._selectionService.refresh()})),this.register((0,p.addDisposableDomListener)(this._viewportElement,"scroll",function(){return ee._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(D.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return ee._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.decorationService.attachToDom(this.screenElement,this._renderService,this._bufferService),this.register((0,p.addDisposableDomListener)(this.element,"mousedown",function(ye){return ee._selectionService.onMouseDown(ye)})),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new b.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},ie.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(u.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(R.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},ie.prototype._setTheme=function(Y){var ee,Z,ce;this._theme=Y,null===(ee=this._colorManager)||void 0===ee||ee.setTheme(Y),null===(Z=this._renderService)||void 0===Z||Z.setColors(this._colorManager.colors),null===(ce=this.viewport)||void 0===ce||ce.onThemeChange(this._colorManager.colors)},ie.prototype.bindMouse=function(){var Y=this,ee=this,Z=this.element;function ce(_e){var Se,et,yt=ee._mouseService.getRawByteCoords(_e,ee.screenElement,ee.cols,ee.rows);if(!yt)return!1;switch(_e.overrideType||_e.type){case"mousemove":et=32,void 0===_e.buttons?(Se=3,void 0!==_e.button&&(Se=_e.button<3?_e.button:3)):Se=1&_e.buttons?0:4&_e.buttons?1:2&_e.buttons?2:3;break;case"mouseup":et=0,Se=_e.button<3?_e.button:3;break;case"mousedown":et=1,Se=_e.button<3?_e.button:3;break;case"wheel":0!==_e.deltaY&&(et=_e.deltaY<0?0:1),Se=4;break;default:return!1}return!(void 0===et||void 0===Se||Se>4)&&ee.coreMouseService.triggerMouseEvent({col:yt.x-33,row:yt.y-33,button:Se,action:et,ctrl:_e.ctrlKey,alt:_e.altKey,shift:_e.shiftKey})}var ve={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ye=function(Se){return ce(Se),Se.buttons||(Y._document.removeEventListener("mouseup",ve.mouseup),ve.mousedrag&&Y._document.removeEventListener("mousemove",ve.mousedrag)),Y.cancel(Se)},Ce=function(Se){return ce(Se),Y.cancel(Se,!0)},Pe=function(Se){Se.buttons&&ce(Se)},He=function(Se){Se.buttons||ce(Se)};this.register(this.coreMouseService.onProtocolChange(function(_e){_e?("debug"===Y.optionsService.rawOptions.logLevel&&Y._logService.debug("Binding to mouse events:",Y.coreMouseService.explainEvents(_e)),Y.element.classList.add("enable-mouse-events"),Y._selectionService.disable()):(Y._logService.debug("Unbinding from mouse events."),Y.element.classList.remove("enable-mouse-events"),Y._selectionService.enable()),8&_e?ve.mousemove||(Z.addEventListener("mousemove",He),ve.mousemove=He):(Z.removeEventListener("mousemove",ve.mousemove),ve.mousemove=null),16&_e?ve.wheel||(Z.addEventListener("wheel",Ce,{passive:!1}),ve.wheel=Ce):(Z.removeEventListener("wheel",ve.wheel),ve.wheel=null),2&_e?ve.mouseup||(ve.mouseup=ye):(Y._document.removeEventListener("mouseup",ve.mouseup),ve.mouseup=null),4&_e?ve.mousedrag||(ve.mousedrag=Pe):(Y._document.removeEventListener("mousemove",ve.mousedrag),ve.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,p.addDisposableDomListener)(Z,"mousedown",function(_e){if(_e.preventDefault(),Y.focus(),Y.coreMouseService.areMouseEventsActive&&!Y._selectionService.shouldForceSelection(_e))return ce(_e),ve.mouseup&&Y._document.addEventListener("mouseup",ve.mouseup),ve.mousedrag&&Y._document.addEventListener("mousemove",ve.mousedrag),Y.cancel(_e)})),this.register((0,p.addDisposableDomListener)(Z,"wheel",function(_e){if(!ve.wheel){if(!Y.buffer.hasScrollback){var Se=Y.viewport.getLinesScrolled(_e);if(0===Se)return;for(var et=s.C0.ESC+(Y.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(_e.deltaY<0?"A":"B"),yt="",Vt=0;Vt<Math.abs(Se);Vt++)yt+=et;return Y.coreService.triggerDataEvent(yt,!0),Y.cancel(_e,!0)}return Y.viewport.onWheel(_e)?Y.cancel(_e):void 0}},{passive:!1})),this.register((0,p.addDisposableDomListener)(Z,"touchstart",function(_e){if(!Y.coreMouseService.areMouseEventsActive)return Y.viewport.onTouchStart(_e),Y.cancel(_e)},{passive:!0})),this.register((0,p.addDisposableDomListener)(Z,"touchmove",function(_e){if(!Y.coreMouseService.areMouseEventsActive)return Y.viewport.onTouchMove(_e)?void 0:Y.cancel(_e)},{passive:!1}))},ie.prototype.refresh=function(Y,ee){var Z;null===(Z=this._renderService)||void 0===Z||Z.refreshRows(Y,ee)},ie.prototype._queueLinkification=function(Y,ee){var Z;null===(Z=this.linkifier)||void 0===Z||Z.linkifyRows(Y,ee)},ie.prototype.updateCursorStyle=function(Y){var ee;(null===(ee=this._selectionService)||void 0===ee?void 0:ee.shouldColumnSelect(Y))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},ie.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},ie.prototype.scrollLines=function(Y,ee,Z){void 0===Z&&(Z=0),G.prototype.scrollLines.call(this,Y,ee,Z),this.refresh(0,this.rows-1)},ie.prototype.paste=function(Y){(0,f.paste)(Y,this.textarea,this.coreService)},ie.prototype.attachCustomKeyEventHandler=function(Y){this._customKeyEventHandler=Y},ie.prototype.registerLinkMatcher=function(Y,ee,Z){var ce=this.linkifier.registerLinkMatcher(Y,ee,Z);return this.refresh(0,this.rows-1),ce},ie.prototype.deregisterLinkMatcher=function(Y){this.linkifier.deregisterLinkMatcher(Y)&&this.refresh(0,this.rows-1)},ie.prototype.registerLinkProvider=function(Y){return this.linkifier2.registerLinkProvider(Y)},ie.prototype.registerCharacterJoiner=function(Y){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var ee=this._characterJoinerService.register(Y);return this.refresh(0,this.rows-1),ee},ie.prototype.deregisterCharacterJoiner=function(Y){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(Y)&&this.refresh(0,this.rows-1)},Object.defineProperty(ie.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),ie.prototype.addMarker=function(Y){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+Y)},ie.prototype.registerDecoration=function(Y){return this.decorationService.registerDecoration(Y)},ie.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},ie.prototype.select=function(Y,ee,Z){this._selectionService.setSelection(Y,ee,Z)},ie.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},ie.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},ie.prototype.clearSelection=function(){var Y;null===(Y=this._selectionService)||void 0===Y||Y.clearSelection()},ie.prototype.selectAll=function(){var Y;null===(Y=this._selectionService)||void 0===Y||Y.selectAll()},ie.prototype.selectLines=function(Y,ee){var Z;null===(Z=this._selectionService)||void 0===Z||Z.selectLines(Y,ee)},ie.prototype._keyDown=function(Y){if(this._keyDownHandled=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(Y))return!1;if(!this._compositionHelper.keydown(Y))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;"Dead"!==Y.key&&"AltGraph"!==Y.key||(this._unprocessedDeadKey=!0);var ee=(0,k.evaluateKeyboardEvent)(Y,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(Y),3===ee.type||2===ee.type){var Z=this.rows-1;return this.scrollLines(2===ee.type?-Z:Z),this.cancel(Y,!0)}return 1===ee.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,Y)||(ee.cancel&&this.cancel(Y,!0),!ee.key||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ee.key!==s.C0.ETX&&ee.key!==s.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ee.key,domEvent:Y}),this._showCursor(),this.coreService.triggerDataEvent(ee.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(Y,!0))))},ie.prototype._isThirdLevelShift=function(Y,ee){var Z=Y.isMac&&!this.options.macOptionIsMeta&&ee.altKey&&!ee.ctrlKey&&!ee.metaKey||Y.isWindows&&ee.altKey&&ee.ctrlKey&&!ee.metaKey||Y.isWindows&&ee.getModifierState("AltGraph");return"keypress"===ee.type?Z:Z&&(!ee.keyCode||ee.keyCode>47)},ie.prototype._keyUp=function(Y){var ee;this._customKeyEventHandler&&!1===this._customKeyEventHandler(Y)||(16===(ee=Y).keyCode||17===ee.keyCode||18===ee.keyCode||this.focus(),this.updateCursorStyle(Y),this._keyPressHandled=!1)},ie.prototype._keyPress=function(Y){var ee;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(Y))return!1;if(this.cancel(Y),Y.charCode)ee=Y.charCode;else if(null==Y.which)ee=Y.keyCode;else{if(0===Y.which||0===Y.charCode)return!1;ee=Y.which}return!(!ee||(Y.altKey||Y.ctrlKey||Y.metaKey)&&!this._isThirdLevelShift(this.browser,Y)||(ee=String.fromCharCode(ee),this._onKey.fire({key:ee,domEvent:Y}),this._showCursor(),this.coreService.triggerDataEvent(ee,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},ie.prototype._inputEvent=function(Y){return!(!Y.data||"insertText"!==Y.inputType||Y.composed||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(Y.data,!0),this.cancel(Y),0))},ie.prototype.bell=function(){var Y;this._soundBell()&&(null===(Y=this._soundService)||void 0===Y||Y.playBellSound()),this._onBell.fire()},ie.prototype.resize=function(Y,ee){Y!==this.cols||ee!==this.rows?G.prototype.resize.call(this,Y,ee):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},ie.prototype._afterResize=function(Y,ee){var Z,ce;null===(Z=this._charSizeService)||void 0===Z||Z.measure(),null===(ce=this.viewport)||void 0===ce||ce.syncScrollArea(!0)},ie.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var Y=1;Y<this.rows;Y++)this.buffer.lines.push(this.buffer.getBlankLine(M.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},ie.prototype.reset=function(){var Y,ee;this.options.rows=this.rows,this.options.cols=this.cols;var Z=this._customKeyEventHandler;this._setup(),G.prototype.reset.call(this),null===(Y=this._selectionService)||void 0===Y||Y.reset(),this._customKeyEventHandler=Z,this.refresh(0,this.rows-1),null===(ee=this.viewport)||void 0===ee||ee.syncScrollArea()},ie.prototype.clearTextureAtlas=function(){var Y;null===(Y=this._renderService)||void 0===Y||Y.clearTextureAtlas()},ie.prototype._reportFocus=function(){var Y;(null===(Y=this.element)||void 0===Y?void 0:Y.classList.contains("focus"))?this.coreService.triggerDataEvent(s.C0.ESC+"[I"):this.coreService.triggerDataEvent(s.C0.ESC+"[O")},ie.prototype._reportWindowsOptions=function(Y){if(this._renderService)switch(Y){case a.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var ee=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),Z=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(s.C0.ESC+"[4;"+Z+";"+ee+"t");break;case a.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var ce=this._renderService.dimensions.scaledCellWidth.toFixed(0),ve=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(s.C0.ESC+"[6;"+ve+";"+ce+"t")}},ie.prototype.cancel=function(Y,ee){if(this.options.cancelEvents||ee)return Y.preventDefault(),Y.stopPropagation(),!1},ie.prototype._visualBell=function(){return!1},ie.prototype._soundBell=function(){return"sound"===this.options.bellStyle},ie}(W.CoreTerminal);x.Terminal=re},9924:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.TimeBasedDebouncer=void 0;var O=function(){function w(g,y){void 0===y&&(y=1e3),this._renderCallback=g,this._debounceThresholdMS=y,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return w.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},w.prototype.refresh=function(g,y,v){var f=this;this._rowCount=v,g=void 0!==g?g:0,y=void 0!==y?y:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,g):g,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,y):y;var s=Date.now();if(s-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=s,this._innerRefresh();else if(!this._additionalRefreshRequested){var u=this._debounceThresholdMS-(s-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(function(){f._lastRefreshMs=Date.now(),f._innerRefresh(),f._additionalRefreshRequested=!1,f._refreshTimeoutID=void 0},u)}},w.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var g=Math.max(this._rowStart,0),y=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(g,y)}},w}();x.TimeBasedDebouncer=O},1680:function(H,x,O){var w,g=this&&this.__extends||(w=function(h,p){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(_[D]=E[D])})(h,p)},function(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function p(){this.constructor=d}w(d,h),d.prototype=null===h?Object.create(h):(p.prototype=h.prototype,new p)}),y=this&&this.__decorate||function(d,h,p,_){var E,D=arguments.length,b=D<3?h:null===_?_=Object.getOwnPropertyDescriptor(h,p):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(d,h,p,_);else for(var R=d.length-1;R>=0;R--)(E=d[R])&&(b=(D<3?E(b):D>3?E(h,p,b):E(h,p))||b);return D>3&&b&&Object.defineProperty(h,p,b),b},v=this&&this.__param||function(d,h){return function(p,_){h(p,_,d)}};Object.defineProperty(x,"__esModule",{value:!0}),x.Viewport=void 0;var f=O(844),s=O(3656),a=O(4725),u=O(2585),c=function(d){function h(p,_,E,D,b,R,k,S){var M=d.call(this)||this;return M._scrollLines=p,M._viewportElement=_,M._scrollArea=E,M._element=D,M._bufferService=b,M._optionsService=R,M._charSizeService=k,M._renderService=S,M.scrollBarWidth=0,M._currentRowHeight=0,M._currentScaledCellHeight=0,M._lastRecordedBufferLength=0,M._lastRecordedViewportHeight=0,M._lastRecordedBufferHeight=0,M._lastTouchY=0,M._lastScrollTop=0,M._lastHadScrollBar=!1,M._wheelPartialScroll=0,M._refreshAnimationFrame=null,M._ignoreNextScrollEvent=!1,M.scrollBarWidth=M._viewportElement.offsetWidth-M._scrollArea.offsetWidth||15,M._lastHadScrollBar=!0,M.register((0,s.addDisposableDomListener)(M._viewportElement,"scroll",M._onScroll.bind(M))),M._activeBuffer=M._bufferService.buffer,M.register(M._bufferService.buffers.onBufferActivate(function(C){return M._activeBuffer=C.activeBuffer})),M._renderDimensions=M._renderService.dimensions,M.register(M._renderService.onDimensionsChange(function(C){return M._renderDimensions=C})),setTimeout(function(){return M.syncScrollArea()},0),M}return g(h,d),h.prototype.onThemeChange=function(p){this._viewportElement.style.backgroundColor=p.background.css},h.prototype._refresh=function(p){var _=this;if(p)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return _._innerRefresh()}))},h.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var p=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==p&&(this._lastRecordedBufferHeight=p,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var _=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==_&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=_),this.scrollBarWidth=0===this._optionsService.rawOptions.scrollback?0:this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this._lastHadScrollBar=this.scrollBarWidth>0;var E=window.getComputedStyle(this._element),D=parseInt(E.paddingLeft)+parseInt(E.paddingRight);this._viewportElement.style.width=(this._renderService.dimensions.actualCellWidth*this._bufferService.cols+this.scrollBarWidth+(this._lastHadScrollBar?D:0)).toString()+"px",this._refreshAnimationFrame=null},h.prototype.syncScrollArea=function(p){if(void 0===p&&(p=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(p);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight?this._lastHadScrollBar!==this._optionsService.rawOptions.scrollback>0&&this._refresh(p):this._refresh(p)},h.prototype._onScroll=function(p){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var _=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(_)}},h.prototype._bubbleScroll=function(p,_){return!(_<0&&0!==this._viewportElement.scrollTop||_>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(p.cancelable&&p.preventDefault(),!1)},h.prototype.onWheel=function(p){var _=this._getPixelsScrolled(p);return 0!==_&&(this._viewportElement.scrollTop+=_,this._bubbleScroll(p,_))},h.prototype._getPixelsScrolled=function(p){if(0===p.deltaY||p.shiftKey)return 0;var _=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_LINE?_*=this._currentRowHeight:p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(_*=this._currentRowHeight*this._bufferService.rows),_},h.prototype.getLinesScrolled=function(p){if(0===p.deltaY||p.shiftKey)return 0;var _=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(this._wheelPartialScroll+=_/=this._currentRowHeight+0,_=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(_*=this._bufferService.rows),_},h.prototype._applyScrollModifier=function(p,_){var E=this._optionsService.rawOptions.fastScrollModifier;return"alt"===E&&_.altKey||"ctrl"===E&&_.ctrlKey||"shift"===E&&_.shiftKey?p*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:p*this._optionsService.rawOptions.scrollSensitivity},h.prototype.onTouchStart=function(p){this._lastTouchY=p.touches[0].pageY},h.prototype.onTouchMove=function(p){var _=this._lastTouchY-p.touches[0].pageY;return this._lastTouchY=p.touches[0].pageY,0!==_&&(this._viewportElement.scrollTop+=_,this._bubbleScroll(p,_))},y([v(4,u.IBufferService),v(5,u.IOptionsService),v(6,a.ICharSizeService),v(7,a.IRenderService)],h)}(f.Disposable);x.Viewport=c},2950:function(H,x,O){var w=this&&this.__decorate||function(s,a,u,c){var d,h=arguments.length,p=h<3?a:null===c?c=Object.getOwnPropertyDescriptor(a,u):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(s,a,u,c);else for(var _=s.length-1;_>=0;_--)(d=s[_])&&(p=(h<3?d(p):h>3?d(a,u,p):d(a,u))||p);return h>3&&p&&Object.defineProperty(a,u,p),p},g=this&&this.__param||function(s,a){return function(u,c){a(u,c,s)}};Object.defineProperty(x,"__esModule",{value:!0}),x.CompositionHelper=void 0;var y=O(4725),v=O(2585),f=function(){function s(a,u,c,d,h,p){this._textarea=a,this._compositionView=u,this._bufferService=c,this._optionsService=d,this._coreService=h,this._renderService=p,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(s.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),s.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},s.prototype.compositionupdate=function(a){var u=this;this._compositionView.textContent=a.data,this.updateCompositionElements(),setTimeout(function(){u._compositionPosition.end=u._textarea.value.length},0)},s.prototype.compositionend=function(){this._finalizeComposition(!0)},s.prototype.keydown=function(a){if(this._isComposing||this._isSendingComposition){if(229===a.keyCode||16===a.keyCode||17===a.keyCode||18===a.keyCode)return!1;this._finalizeComposition(!1)}return 229!==a.keyCode||(this._handleAnyTextareaChanges(),!1)},s.prototype._finalizeComposition=function(a){var u=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,a){var c={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){var h;u._isSendingComposition&&(u._isSendingComposition=!1,c.start+=u._dataAlreadySent.length,(h=u._isComposing?u._textarea.value.substring(c.start,c.end):u._textarea.value.substring(c.start)).length>0&&u._coreService.triggerDataEvent(h,!0))},0)}else{this._isSendingComposition=!1;var d=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(d,!0)}},s.prototype._handleAnyTextareaChanges=function(){var a=this,u=this._textarea.value;setTimeout(function(){if(!a._isComposing){var c=a._textarea.value.replace(u,"");c.length>0&&(a._dataAlreadySent=c,a._coreService.triggerDataEvent(c,!0))}},0)},s.prototype.updateCompositionElements=function(a){var u=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var c=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.actualCellHeight,h=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,p=c*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=p+"px",this._compositionView.style.top=h+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var _=this._compositionView.getBoundingClientRect();this._textarea.style.left=p+"px",this._textarea.style.top=h+"px",this._textarea.style.width=Math.max(_.width,1)+"px",this._textarea.style.height=Math.max(_.height,1)+"px",this._textarea.style.lineHeight=_.height+"px"}a||setTimeout(function(){return u.updateCompositionElements(!0)},0)}},w([g(2,v.IBufferService),g(3,v.IOptionsService),g(4,v.ICoreService),g(5,y.IRenderService)],s)}();x.CompositionHelper=f},9806:function(H,x){function O(w,g){var y=g.getBoundingClientRect();return[w.clientX-y.left,w.clientY-y.top]}Object.defineProperty(x,"__esModule",{value:!0}),x.getRawByteCoords=x.getCoords=x.getCoordsRelativeToElement=void 0,x.getCoordsRelativeToElement=O,x.getCoords=function(w,g,y,v,f,s,a,u){if(f){var c=O(w,g);if(c)return c[0]=Math.ceil((c[0]+(u?s/2:0))/s),c[1]=Math.ceil(c[1]/a),c[0]=Math.min(Math.max(c[0],1),y+(u?1:0)),c[1]=Math.min(Math.max(c[1],1),v),c}},x.getRawByteCoords=function(w){if(w)return{x:w[0]+32,y:w[1]+32}}},9504:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.moveToCellSequence=void 0;var w=O(2584);function g(u,c,d,h){var p=u-y(d,u),_=c-y(d,c);return a(Math.abs(p-_)-function(D,b,R){for(var k=0,S=D-y(R,D),M=b-y(R,b),C=0;C<Math.abs(S-M);C++){var T="A"===v(D,b)?-1:1,I=R.buffer.lines.get(S+T*C);(null==I?void 0:I.isWrapped)&&k++}return k}(u,c,d),s(v(u,c),h))}function y(u,c){for(var d=0,h=u.buffer.lines.get(c),p=null==h?void 0:h.isWrapped;p&&c>=0&&c<u.rows;)d++,p=null==(h=u.buffer.lines.get(--c))?void 0:h.isWrapped;return d}function v(u,c){return u>c?"A":"B"}function f(u,c,d,h,p,_){for(var E=u,D=c,b="";E!==d||D!==h;)E+=p?1:-1,p&&E>_.cols-1?(b+=_.buffer.translateBufferLineToString(D,!1,u,E),E=0,u=0,D++):!p&&E<0&&(b+=_.buffer.translateBufferLineToString(D,!1,0,u+1),u=E=_.cols-1,D--);return b+_.buffer.translateBufferLineToString(D,!1,u,E)}function s(u,c){return w.C0.ESC+(c?"O":"[")+u}function a(u,c){u=Math.floor(u);for(var d="",h=0;h<u;h++)d+=c;return d}x.moveToCellSequence=function(u,c,d,h){var p,b,R,M,C,_=d.buffer.x,E=d.buffer.y;if(!d.buffer.hasScrollback)return b=_,(0===g(R=E,c,M=d,C=h).length?"":a(f(b,R,b,R-y(M,R),!1,M).length,s("D",C)))+g(E,c,d,h)+function(b,R,k,S,M,C){var T;T=g(R,S,M,C).length>0?S-y(M,S):R;var F,P,U,W,z,K,I=S,$=(F=b,P=R,K=g(U=k,W=S,z=M,C).length>0?W-y(z,W):P,F<U&&K<=W||F>=U&&K<W?"C":"D");return a(f(b,T,k,I,"C"===$,M).length,s($,C))}(_,E,u,c,d,h);if(E===c)return p=_>u?"D":"C",a(Math.abs(_-u),s(p,h));p=E>c?"D":"C";var D=Math.abs(E-c);return a(function(b,R){return R.cols-b}(E>c?u:_,d)+(D-1)*d.cols+1+((E>c?_:u)-1),s(p,h))}},4389:function(H,x,O){var w=this&&this.__assign||function(){return w=Object.assign||function(d){for(var h,p=1,_=arguments.length;p<_;p++)for(var E in h=arguments[p])Object.prototype.hasOwnProperty.call(h,E)&&(d[E]=h[E]);return d},w.apply(this,arguments)};Object.defineProperty(x,"__esModule",{value:!0}),x.Terminal=void 0;var g=O(3236),y=O(9042),v=O(7975),f=O(7090),s=O(5741),a=O(8285),u=["cols","rows"],c=function(){function d(h){var p=this;this._core=new g.Terminal(h),this._addonManager=new s.AddonManager,this._publicOptions=w({},this._core.options);var _=function(k){return p._core.options[k]},E=function(k,S){p._checkReadonlyOptions(k),p._core.options[k]=S};for(var D in this._core.options){var b={get:_.bind(this,D),set:E.bind(this,D)};Object.defineProperty(this._publicOptions,D,b)}}return d.prototype._checkReadonlyOptions=function(h){if(u.includes(h))throw new Error('Option "'+h+'" can only be set in the constructor')},d.prototype._checkProposedApi=function(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(d.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new v.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"unicode",{get:function(){return this._checkProposedApi(),new f.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new a.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"modes",{get:function(){var p=this._core.coreService.decPrivateModes,_="none";switch(this._core.coreMouseService.activeProtocol){case"X10":_="x10";break;case"VT200":_="vt200";break;case"DRAG":_="drag";break;case"ANY":_="any"}return{applicationCursorKeysMode:p.applicationCursorKeys,applicationKeypadMode:p.applicationKeypad,bracketedPasteMode:p.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:_,originMode:p.origin,reverseWraparoundMode:p.reverseWraparound,sendFocusMode:p.sendFocus,wraparoundMode:p.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"options",{get:function(){return this._publicOptions},set:function(p){for(var _ in p)this._publicOptions[_]=p[_]},enumerable:!1,configurable:!0}),d.prototype.blur=function(){this._core.blur()},d.prototype.focus=function(){this._core.focus()},d.prototype.resize=function(h,p){this._verifyIntegers(h,p),this._core.resize(h,p)},d.prototype.open=function(h){this._core.open(h)},d.prototype.attachCustomKeyEventHandler=function(h){this._core.attachCustomKeyEventHandler(h)},d.prototype.registerLinkMatcher=function(h,p,_){return this._checkProposedApi(),this._core.registerLinkMatcher(h,p,_)},d.prototype.deregisterLinkMatcher=function(h){this._checkProposedApi(),this._core.deregisterLinkMatcher(h)},d.prototype.registerLinkProvider=function(h){return this._checkProposedApi(),this._core.registerLinkProvider(h)},d.prototype.registerCharacterJoiner=function(h){return this._checkProposedApi(),this._core.registerCharacterJoiner(h)},d.prototype.deregisterCharacterJoiner=function(h){this._checkProposedApi(),this._core.deregisterCharacterJoiner(h)},d.prototype.registerMarker=function(h){return void 0===h&&(h=0),this._checkProposedApi(),this._verifyIntegers(h),this._core.addMarker(h)},d.prototype.registerDecoration=function(h){var p,_,E;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(p=h.x)&&void 0!==p?p:0,null!==(_=h.width)&&void 0!==_?_:0,null!==(E=h.height)&&void 0!==E?E:0),this._core.registerDecoration(h)},d.prototype.addMarker=function(h){return this.registerMarker(h)},d.prototype.hasSelection=function(){return this._core.hasSelection()},d.prototype.select=function(h,p,_){this._verifyIntegers(h,p,_),this._core.select(h,p,_)},d.prototype.getSelection=function(){return this._core.getSelection()},d.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},d.prototype.clearSelection=function(){this._core.clearSelection()},d.prototype.selectAll=function(){this._core.selectAll()},d.prototype.selectLines=function(h,p){this._verifyIntegers(h,p),this._core.selectLines(h,p)},d.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},d.prototype.scrollLines=function(h){this._verifyIntegers(h),this._core.scrollLines(h)},d.prototype.scrollPages=function(h){this._verifyIntegers(h),this._core.scrollPages(h)},d.prototype.scrollToTop=function(){this._core.scrollToTop()},d.prototype.scrollToBottom=function(){this._core.scrollToBottom()},d.prototype.scrollToLine=function(h){this._verifyIntegers(h),this._core.scrollToLine(h)},d.prototype.clear=function(){this._core.clear()},d.prototype.write=function(h,p){this._core.write(h,p)},d.prototype.writeUtf8=function(h,p){this._core.write(h,p)},d.prototype.writeln=function(h,p){this._core.write(h),this._core.write("\r\n",p)},d.prototype.paste=function(h){this._core.paste(h)},d.prototype.getOption=function(h){return this._core.optionsService.getOption(h)},d.prototype.setOption=function(h,p){this._checkReadonlyOptions(h),this._core.optionsService.setOption(h,p)},d.prototype.refresh=function(h,p){this._verifyIntegers(h,p),this._core.refresh(h,p)},d.prototype.reset=function(){this._core.reset()},d.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},d.prototype.loadAddon=function(h){return this._addonManager.loadAddon(this,h)},Object.defineProperty(d,"strings",{get:function(){return y},enumerable:!1,configurable:!0}),d.prototype._verifyIntegers=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];for(var _=0,E=h;_<E.length;_++){var D=E[_];if(D===1/0||isNaN(D)||D%1!=0)throw new Error("This API only accepts integers")}},d.prototype._verifyPositiveIntegers=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];for(var _=0,E=h;_<E.length;_++){var D=E[_];if(D&&(D===1/0||isNaN(D)||D%1!=0||D<0))throw new Error("This API only accepts positive integers")}},d}();x.Terminal=c},1546:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.BaseRenderLayer=void 0;var w=O(643),g=O(8803),y=O(1420),v=O(3734),f=O(1752),s=O(4774),a=O(9631),u=O(8978),c=function(){function d(h,p,_,E,D,b,R,k){this._container=h,this._alpha=E,this._colors=D,this._rendererId=b,this._bufferService=R,this._optionsService=k,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+p+"-layer"),this._canvas.style.zIndex=_.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return d.prototype.dispose=function(){var h;(0,a.removeElementFromParent)(this._canvas),null===(h=this._charAtlas)||void 0===h||h.dispose()},d.prototype._initCanvas=function(){this._ctx=(0,f.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},d.prototype.onOptionsChanged=function(){},d.prototype.onBlur=function(){},d.prototype.onFocus=function(){},d.prototype.onCursorMove=function(){},d.prototype.onGridChanged=function(h,p){},d.prototype.onSelectionChanged=function(h,p,_){void 0===_&&(_=!1)},d.prototype.setColors=function(h){this._refreshCharAtlas(h)},d.prototype._setTransparency=function(h){if(h!==this._alpha){var p=this._canvas;this._alpha=h,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,p),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},d.prototype._refreshCharAtlas=function(h){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,y.acquireCharAtlas)(this._optionsService.rawOptions,this._rendererId,h,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},d.prototype.resize=function(h){this._scaledCellWidth=h.scaledCellWidth,this._scaledCellHeight=h.scaledCellHeight,this._scaledCharWidth=h.scaledCharWidth,this._scaledCharHeight=h.scaledCharHeight,this._scaledCharLeft=h.scaledCharLeft,this._scaledCharTop=h.scaledCharTop,this._canvas.width=h.scaledCanvasWidth,this._canvas.height=h.scaledCanvasHeight,this._canvas.style.width=h.canvasWidth+"px",this._canvas.style.height=h.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},d.prototype.clearTextureAtlas=function(){var h;null===(h=this._charAtlas)||void 0===h||h.clear()},d.prototype._fillCells=function(h,p,_,E){this._ctx.fillRect(h*this._scaledCellWidth,p*this._scaledCellHeight,_*this._scaledCellWidth,E*this._scaledCellHeight)},d.prototype._fillMiddleLineAtCells=function(h,p,_){void 0===_&&(_=1);var E=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(h*this._scaledCellWidth,(p+1)*this._scaledCellHeight-E-window.devicePixelRatio,_*this._scaledCellWidth,window.devicePixelRatio)},d.prototype._fillBottomLineAtCells=function(h,p,_){void 0===_&&(_=1),this._ctx.fillRect(h*this._scaledCellWidth,(p+1)*this._scaledCellHeight-window.devicePixelRatio-1,_*this._scaledCellWidth,window.devicePixelRatio)},d.prototype._fillLeftLineAtCell=function(h,p,_){this._ctx.fillRect(h*this._scaledCellWidth,p*this._scaledCellHeight,window.devicePixelRatio*_,this._scaledCellHeight)},d.prototype._strokeRectAtCell=function(h,p,_,E){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(h*this._scaledCellWidth+window.devicePixelRatio/2,p*this._scaledCellHeight+window.devicePixelRatio/2,_*this._scaledCellWidth-window.devicePixelRatio,E*this._scaledCellHeight-window.devicePixelRatio)},d.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},d.prototype._clearCells=function(h,p,_,E){this._alpha?this._ctx.clearRect(h*this._scaledCellWidth,p*this._scaledCellHeight,_*this._scaledCellWidth,E*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(h*this._scaledCellWidth,p*this._scaledCellHeight,_*this._scaledCellWidth,E*this._scaledCellHeight))},d.prototype._fillCharTrueColor=function(h,p,_){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=g.TEXT_BASELINE,this._clipRow(_);var E=!1;!1!==this._optionsService.rawOptions.customGlyphs&&(E=(0,u.tryDrawCustomChar)(this._ctx,h.getChars(),p*this._scaledCellWidth,_*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),E||this._ctx.fillText(h.getChars(),p*this._scaledCellWidth+this._scaledCharLeft,_*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},d.prototype._drawChars=function(h,p,_){var E,D,b,R=this._getContrastColor(h);R||h.isFgRGB()||h.isBgRGB()?this._drawUncachedChars(h,p,_,R):(h.isInverse()?(D=h.isBgDefault()?g.INVERTED_DEFAULT_COLOR:h.getBgColor(),b=h.isFgDefault()?g.INVERTED_DEFAULT_COLOR:h.getFgColor()):(b=h.isBgDefault()?w.DEFAULT_COLOR:h.getBgColor(),D=h.isFgDefault()?w.DEFAULT_COLOR:h.getFgColor()),D+=this._optionsService.rawOptions.drawBoldTextInBrightColors&&h.isBold()&&D<8?8:0,this._currentGlyphIdentifier.chars=h.getChars()||w.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=h.getCode()||w.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=b,this._currentGlyphIdentifier.fg=D,this._currentGlyphIdentifier.bold=!!h.isBold(),this._currentGlyphIdentifier.dim=!!h.isDim(),this._currentGlyphIdentifier.italic=!!h.isItalic(),(null===(E=this._charAtlas)||void 0===E?void 0:E.draw(this._ctx,this._currentGlyphIdentifier,p*this._scaledCellWidth+this._scaledCharLeft,_*this._scaledCellHeight+this._scaledCharTop))||this._drawUncachedChars(h,p,_))},d.prototype._drawUncachedChars=function(h,p,_,E){if(this._ctx.save(),this._ctx.font=this._getFont(!!h.isBold(),!!h.isItalic()),this._ctx.textBaseline=g.TEXT_BASELINE,h.isInverse())if(E)this._ctx.fillStyle=E.css;else if(h.isBgDefault())this._ctx.fillStyle=s.color.opaque(this._colors.background).css;else if(h.isBgRGB())this._ctx.fillStyle="rgb("+v.AttributeData.toColorRGB(h.getBgColor()).join(",")+")";else{var D=h.getBgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&h.isBold()&&D<8&&(D+=8),this._ctx.fillStyle=this._colors.ansi[D].css}else if(E)this._ctx.fillStyle=E.css;else if(h.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(h.isFgRGB())this._ctx.fillStyle="rgb("+v.AttributeData.toColorRGB(h.getFgColor()).join(",")+")";else{var b=h.getFgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&h.isBold()&&b<8&&(b+=8),this._ctx.fillStyle=this._colors.ansi[b].css}this._clipRow(_),h.isDim()&&(this._ctx.globalAlpha=g.DIM_OPACITY);var R=!1;!1!==this._optionsService.rawOptions.customGlyphs&&(R=(0,u.tryDrawCustomChar)(this._ctx,h.getChars(),p*this._scaledCellWidth,_*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),R||this._ctx.fillText(h.getChars(),p*this._scaledCellWidth+this._scaledCharLeft,_*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},d.prototype._clipRow=function(h){this._ctx.beginPath(),this._ctx.rect(0,h*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},d.prototype._getFont=function(h,p){return(p?"italic":"")+" "+(h?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight)+" "+this._optionsService.rawOptions.fontSize*window.devicePixelRatio+"px "+this._optionsService.rawOptions.fontFamily},d.prototype._getContrastColor=function(h){if(1!==this._optionsService.rawOptions.minimumContrastRatio){var p=this._colors.contrastCache.getColor(h.bg,h.fg);if(void 0!==p)return p||void 0;var _=h.getFgColor(),E=h.getFgColorMode(),D=h.getBgColor(),b=h.getBgColorMode(),R=!!h.isInverse(),k=!!h.isInverse();if(R){var S=_;_=D,D=S;var M=E;E=b,b=M}var C=this._resolveBackgroundRgba(b,D,R),T=this._resolveForegroundRgba(E,_,R,k),I=s.rgba.ensureContrastRatio(C,T,this._optionsService.rawOptions.minimumContrastRatio);if(I){var $={css:s.channels.toCss(I>>24&255,I>>16&255,I>>8&255),rgba:I};return this._colors.contrastCache.setColor(h.bg,h.fg,$),$}this._colors.contrastCache.setColor(h.bg,h.fg,null)}},d.prototype._resolveBackgroundRgba=function(h,p,_){switch(h){case 16777216:case 33554432:return this._colors.ansi[p].rgba;case 50331648:return p<<8;default:return _?this._colors.foreground.rgba:this._colors.background.rgba}},d.prototype._resolveForegroundRgba=function(h,p,_,E){switch(h){case 16777216:case 33554432:return this._optionsService.rawOptions.drawBoldTextInBrightColors&&E&&p<8&&(p+=8),this._colors.ansi[p].rgba;case 50331648:return p<<8;default:return _?this._colors.background.rgba:this._colors.foreground.rgba}},d}();x.BaseRenderLayer=c},2512:function(H,x,O){var w,g=this&&this.__extends||(w=function(_,E){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,b){D.__proto__=b}||function(D,b){for(var R in b)Object.prototype.hasOwnProperty.call(b,R)&&(D[R]=b[R])})(_,E)},function(p,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function E(){this.constructor=p}w(p,_),p.prototype=null===_?Object.create(_):(E.prototype=_.prototype,new E)}),y=this&&this.__decorate||function(p,_,E,D){var b,R=arguments.length,k=R<3?_:null===D?D=Object.getOwnPropertyDescriptor(_,E):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(p,_,E,D);else for(var S=p.length-1;S>=0;S--)(b=p[S])&&(k=(R<3?b(k):R>3?b(_,E,k):b(_,E))||k);return R>3&&k&&Object.defineProperty(_,E,k),k},v=this&&this.__param||function(p,_){return function(E,D){_(E,D,p)}};Object.defineProperty(x,"__esModule",{value:!0}),x.CursorRenderLayer=void 0;var f=O(1546),s=O(511),a=O(2585),u=O(4725),c=600,d=function(p){function _(E,D,b,R,k,S,M,C,T){var I=p.call(this,E,"cursor",D,!0,b,R,S,M)||this;return I._onRequestRedraw=k,I._coreService=C,I._coreBrowserService=T,I._cell=new s.CellData,I._state={x:0,y:0,isFocused:!1,style:"",width:0},I._cursorRenderers={bar:I._renderBarCursor.bind(I),block:I._renderBlockCursor.bind(I),underline:I._renderUnderlineCursor.bind(I)},I}return g(_,p),_.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),p.prototype.dispose.call(this)},_.prototype.resize=function(E){p.prototype.resize.call(this,E),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},_.prototype.reset=function(){var E;this._clearCursor(),null===(E=this._cursorBlinkStateManager)||void 0===E||E.restartBlinkAnimation(),this.onOptionsChanged()},_.prototype.onBlur=function(){var E;null===(E=this._cursorBlinkStateManager)||void 0===E||E.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},_.prototype.onFocus=function(){var E;null===(E=this._cursorBlinkStateManager)||void 0===E||E.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},_.prototype.onOptionsChanged=function(){var E,D=this;this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new h(this._coreBrowserService.isFocused,function(){D._render(!0)})):(null===(E=this._cursorBlinkStateManager)||void 0===E||E.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},_.prototype.onCursorMove=function(){var E;null===(E=this._cursorBlinkStateManager)||void 0===E||E.restartBlinkAnimation()},_.prototype.onGridChanged=function(E,D){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},_.prototype._render=function(E){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var D=this._bufferService.buffer.ybase+this._bufferService.buffer.y,b=D-this._bufferService.buffer.ydisp;if(b<0||b>=this._bufferService.rows)this._clearCursor();else{var R=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(D).loadCell(R,this._cell),void 0!==this._cell.content){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var k=this._optionsService.rawOptions.cursorStyle;return k&&"block"!==k?this._cursorRenderers[k](R,b,this._cell):this._renderBlurCursor(R,b,this._cell),this._ctx.restore(),this._state.x=R,this._state.y=b,this._state.isFocused=!1,this._state.style=k,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===R&&this._state.y===b&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](R,b,this._cell),this._ctx.restore(),this._state.x=R,this._state.y=b,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},_.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},_.prototype._renderBarCursor=function(E,D,b){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(E,D,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()},_.prototype._renderBlockCursor=function(E,D,b){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(E,D,b.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(b,E,D),this._ctx.restore()},_.prototype._renderUnderlineCursor=function(E,D,b){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(E,D),this._ctx.restore()},_.prototype._renderBlurCursor=function(E,D,b){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(E,D,b.getWidth(),1),this._ctx.restore()},y([v(5,a.IBufferService),v(6,a.IOptionsService),v(7,a.ICoreService),v(8,u.ICoreBrowserService)],_)}(f.BaseRenderLayer);x.CursorRenderLayer=d;var h=function(){function p(_,E){this._renderCallback=E,this.isCursorVisible=!0,_&&this._restartInterval()}return Object.defineProperty(p.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),p.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},p.prototype.restartBlinkAnimation=function(){var _=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){_._renderCallback(),_._animationFrame=void 0})))},p.prototype._restartInterval=function(_){var E=this;void 0===_&&(_=c),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout(function(){if(E._animationTimeRestarted){var D=c-(Date.now()-E._animationTimeRestarted);if(E._animationTimeRestarted=void 0,D>0)return void E._restartInterval(D)}E.isCursorVisible=!1,E._animationFrame=window.requestAnimationFrame(function(){E._renderCallback(),E._animationFrame=void 0}),E._blinkInterval=window.setInterval(function(){if(E._animationTimeRestarted){var b=c-(Date.now()-E._animationTimeRestarted);return E._animationTimeRestarted=void 0,void E._restartInterval(b)}E.isCursorVisible=!E.isCursorVisible,E._animationFrame=window.requestAnimationFrame(function(){E._renderCallback(),E._animationFrame=void 0})},c)},_)},p.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},p.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},p}()},8978:function(H,x,O){var w,g,y,v,f,s,a,u,c,d,h,p,_,E,D,b,R,k,S,M,C,T,I,$,F,P,U,W,z,X,K,Q,oe,re,G,ie,Y,ee,Z,ce,ve,ye,Ce,Pe,He,_e,Se,et,yt,Vt,nn,ft,be,we,De,qe,ct,xe,Nt,kt,wt,pt,Fe,rn,Zn,gt,_t,ho,Xe,fo,hr,ai,Ds,Ri,As,Ms,Rs,Ts,Ti,Ls,Li,xs,xi,vo,Os,Is,Ps,Qn,po,Fs,go,Bs,mo,Ns,$s,Hs,Us,Vs,ui,Oi,Ii,Pi,Fi,yo,Bi,Ni,$i,Hi,on,_o,Co,bo,Ws,wo,js,zs,Un,Gs,Rt,zr,xn,mu,qs,So,Ui,Eo,Gr,Ks;Object.defineProperty(x,"__esModule",{value:!0}),x.tryDrawCustomChar=x.boxDrawingDefinitions=x.blockElementDefinitions=void 0;var Xs=O(1752);x.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258a":[{x:0,y:0,w:6,h:8}],"\u258b":[{x:0,y:0,w:5,h:8}],"\u258c":[{x:0,y:0,w:4,h:8}],"\u258d":[{x:0,y:0,w:3,h:8}],"\u258e":[{x:0,y:0,w:2,h:8}],"\u258f":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:9,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259a":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259b":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"\u259c":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259d":[{x:4,y:0,w:4,h:4}],"\u259e":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259f":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\ud83e\udf70":[{x:1,y:0,w:1,h:8}],"\ud83e\udf71":[{x:2,y:0,w:1,h:8}],"\ud83e\udf72":[{x:3,y:0,w:1,h:8}],"\ud83e\udf73":[{x:4,y:0,w:1,h:8}],"\ud83e\udf74":[{x:5,y:0,w:1,h:8}],"\ud83e\udf75":[{x:6,y:0,w:1,h:8}],"\ud83e\udf76":[{x:0,y:1,w:8,h:1}],"\ud83e\udf77":[{x:0,y:2,w:8,h:1}],"\ud83e\udf78":[{x:0,y:3,w:8,h:1}],"\ud83e\udf79":[{x:0,y:4,w:8,h:1}],"\ud83e\udf7a":[{x:0,y:5,w:8,h:1}],"\ud83e\udf7b":[{x:0,y:6,w:8,h:1}],"\ud83e\udf7c":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\ud83e\udf7d":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\ud83e\udf7e":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\ud83e\udf7f":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\ud83e\udf80":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\ud83e\udf81":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\ud83e\udf82":[{x:0,y:0,w:8,h:2}],"\ud83e\udf83":[{x:0,y:0,w:8,h:3}],"\ud83e\udf84":[{x:0,y:0,w:8,h:5}],"\ud83e\udf85":[{x:0,y:0,w:8,h:6}],"\ud83e\udf86":[{x:0,y:0,w:8,h:7}],"\ud83e\udf87":[{x:6,y:0,w:2,h:8}],"\ud83e\udf88":[{x:5,y:0,w:3,h:8}],"\ud83e\udf89":[{x:3,y:0,w:5,h:8}],"\ud83e\udf8a":[{x:2,y:0,w:6,h:8}],"\ud83e\udf8b":[{x:1,y:0,w:7,h:8}],"\ud83e\udf95":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\ud83e\udf96":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\ud83e\udf97":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var yu={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};x.boxDrawingDefinitions={"\u2500":(w={},w[1]="M0,.5 L1,.5",w),"\u2501":(g={},g[3]="M0,.5 L1,.5",g),"\u2502":(y={},y[1]="M.5,0 L.5,1",y),"\u2503":(v={},v[3]="M.5,0 L.5,1",v),"\u250c":(f={},f[1]="M0.5,1 L.5,.5 L1,.5",f),"\u250f":(s={},s[3]="M0.5,1 L.5,.5 L1,.5",s),"\u2510":(a={},a[1]="M0,.5 L.5,.5 L.5,1",a),"\u2513":(u={},u[3]="M0,.5 L.5,.5 L.5,1",u),"\u2514":(c={},c[1]="M.5,0 L.5,.5 L1,.5",c),"\u2517":(d={},d[3]="M.5,0 L.5,.5 L1,.5",d),"\u2518":(h={},h[1]="M.5,0 L.5,.5 L0,.5",h),"\u251b":(p={},p[3]="M.5,0 L.5,.5 L0,.5",p),"\u251c":(_={},_[1]="M.5,0 L.5,1 M.5,.5 L1,.5",_),"\u2523":(E={},E[3]="M.5,0 L.5,1 M.5,.5 L1,.5",E),"\u2524":(D={},D[1]="M.5,0 L.5,1 M.5,.5 L0,.5",D),"\u252b":(b={},b[3]="M.5,0 L.5,1 M.5,.5 L0,.5",b),"\u252c":(R={},R[1]="M0,.5 L1,.5 M.5,.5 L.5,1",R),"\u2533":(k={},k[3]="M0,.5 L1,.5 M.5,.5 L.5,1",k),"\u2534":(S={},S[1]="M0,.5 L1,.5 M.5,.5 L.5,0",S),"\u253b":(M={},M[3]="M0,.5 L1,.5 M.5,.5 L.5,0",M),"\u253c":(C={},C[1]="M0,.5 L1,.5 M.5,0 L.5,1",C),"\u254b":(T={},T[3]="M0,.5 L1,.5 M.5,0 L.5,1",T),"\u2574":(I={},I[1]="M.5,.5 L0,.5",I),"\u2578":($={},$[3]="M.5,.5 L0,.5",$),"\u2575":(F={},F[1]="M.5,.5 L.5,0",F),"\u2579":(P={},P[3]="M.5,.5 L.5,0",P),"\u2576":(U={},U[1]="M.5,.5 L1,.5",U),"\u257a":(W={},W[3]="M.5,.5 L1,.5",W),"\u2577":(z={},z[1]="M.5,.5 L.5,1",z),"\u257b":(X={},X[3]="M.5,.5 L.5,1",X),"\u2550":(K={},K[1]=function(fe,he){return"M0,"+(.5-he)+" L1,"+(.5-he)+" M0,"+(.5+he)+" L1,"+(.5+he)},K),"\u2551":(Q={},Q[1]=function(fe,he){return"M"+(.5-fe)+",0 L"+(.5-fe)+",1 M"+(.5+fe)+",0 L"+(.5+fe)+",1"},Q),"\u2552":(oe={},oe[1]=function(fe,he){return"M.5,1 L.5,"+(.5-he)+" L1,"+(.5-he)+" M.5,"+(.5+he)+" L1,"+(.5+he)},oe),"\u2553":(re={},re[1]=function(fe,he){return"M"+(.5-fe)+",1 L"+(.5-fe)+",.5 L1,.5 M"+(.5+fe)+",.5 L"+(.5+fe)+",1"},re),"\u2554":(G={},G[1]=function(fe,he){return"M1,"+(.5-he)+" L"+(.5-fe)+","+(.5-he)+" L"+(.5-fe)+",1 M1,"+(.5+he)+" L"+(.5+fe)+","+(.5+he)+" L"+(.5+fe)+",1"},G),"\u2555":(ie={},ie[1]=function(fe,he){return"M0,"+(.5-he)+" L.5,"+(.5-he)+" L.5,1 M0,"+(.5+he)+" L.5,"+(.5+he)},ie),"\u2556":(Y={},Y[1]=function(fe,he){return"M"+(.5+fe)+",1 L"+(.5+fe)+",.5 L0,.5 M"+(.5-fe)+",.5 L"+(.5-fe)+",1"},Y),"\u2557":(ee={},ee[1]=function(fe,he){return"M0,"+(.5+he)+" L"+(.5-fe)+","+(.5+he)+" L"+(.5-fe)+",1 M0,"+(.5-he)+" L"+(.5+fe)+","+(.5-he)+" L"+(.5+fe)+",1"},ee),"\u2558":(Z={},Z[1]=function(fe,he){return"M.5,0 L.5,"+(.5+he)+" L1,"+(.5+he)+" M.5,"+(.5-he)+" L1,"+(.5-he)},Z),"\u2559":(ce={},ce[1]=function(fe,he){return"M1,.5 L"+(.5-fe)+",.5 L"+(.5-fe)+",0 M"+(.5+fe)+",.5 L"+(.5+fe)+",0"},ce),"\u255a":(ve={},ve[1]=function(fe,he){return"M1,"+(.5-he)+" L"+(.5+fe)+","+(.5-he)+" L"+(.5+fe)+",0 M1,"+(.5+he)+" L"+(.5-fe)+","+(.5+he)+" L"+(.5-fe)+",0"},ve),"\u255b":(ye={},ye[1]=function(fe,he){return"M0,"+(.5+he)+" L.5,"+(.5+he)+" L.5,0 M0,"+(.5-he)+" L.5,"+(.5-he)},ye),"\u255c":(Ce={},Ce[1]=function(fe,he){return"M0,.5 L"+(.5+fe)+",.5 L"+(.5+fe)+",0 M"+(.5-fe)+",.5 L"+(.5-fe)+",0"},Ce),"\u255d":(Pe={},Pe[1]=function(fe,he){return"M0,"+(.5-he)+" L"+(.5-fe)+","+(.5-he)+" L"+(.5-fe)+",0 M0,"+(.5+he)+" L"+(.5+fe)+","+(.5+he)+" L"+(.5+fe)+",0"},Pe),"\u255e":(He={},He[1]=function(fe,he){return"M.5,0 L.5,1 M.5,"+(.5-he)+" L1,"+(.5-he)+" M.5,"+(.5+he)+" L1,"+(.5+he)},He),"\u255f":(_e={},_e[1]=function(fe,he){return"M"+(.5-fe)+",0 L"+(.5-fe)+",1 M"+(.5+fe)+",0 L"+(.5+fe)+",1 M"+(.5+fe)+",.5 L1,.5"},_e),"\u2560":(Se={},Se[1]=function(fe,he){return"M"+(.5-fe)+",0 L"+(.5-fe)+",1 M1,"+(.5+he)+" L"+(.5+fe)+","+(.5+he)+" L"+(.5+fe)+",1 M1,"+(.5-he)+" L"+(.5+fe)+","+(.5-he)+" L"+(.5+fe)+",0"},Se),"\u2561":(et={},et[1]=function(fe,he){return"M.5,0 L.5,1 M0,"+(.5-he)+" L.5,"+(.5-he)+" M0,"+(.5+he)+" L.5,"+(.5+he)},et),"\u2562":(yt={},yt[1]=function(fe,he){return"M0,.5 L"+(.5-fe)+",.5 M"+(.5-fe)+",0 L"+(.5-fe)+",1 M"+(.5+fe)+",0 L"+(.5+fe)+",1"},yt),"\u2563":(Vt={},Vt[1]=function(fe,he){return"M"+(.5+fe)+",0 L"+(.5+fe)+",1 M0,"+(.5+he)+" L"+(.5-fe)+","+(.5+he)+" L"+(.5-fe)+",1 M0,"+(.5-he)+" L"+(.5-fe)+","+(.5-he)+" L"+(.5-fe)+",0"},Vt),"\u2564":(nn={},nn[1]=function(fe,he){return"M0,"+(.5-he)+" L1,"+(.5-he)+" M0,"+(.5+he)+" L1,"+(.5+he)+" M.5,"+(.5+he)+" L.5,1"},nn),"\u2565":(ft={},ft[1]=function(fe,he){return"M0,.5 L1,.5 M"+(.5-fe)+",.5 L"+(.5-fe)+",1 M"+(.5+fe)+",.5 L"+(.5+fe)+",1"},ft),"\u2566":(be={},be[1]=function(fe,he){return"M0,"+(.5-he)+" L1,"+(.5-he)+" M0,"+(.5+he)+" L"+(.5-fe)+","+(.5+he)+" L"+(.5-fe)+",1 M1,"+(.5+he)+" L"+(.5+fe)+","+(.5+he)+" L"+(.5+fe)+",1"},be),"\u2567":(we={},we[1]=function(fe,he){return"M.5,0 L.5,"+(.5-he)+" M0,"+(.5-he)+" L1,"+(.5-he)+" M0,"+(.5+he)+" L1,"+(.5+he)},we),"\u2568":(De={},De[1]=function(fe,he){return"M0,.5 L1,.5 M"+(.5-fe)+",.5 L"+(.5-fe)+",0 M"+(.5+fe)+",.5 L"+(.5+fe)+",0"},De),"\u2569":(qe={},qe[1]=function(fe,he){return"M0,"+(.5+he)+" L1,"+(.5+he)+" M0,"+(.5-he)+" L"+(.5-fe)+","+(.5-he)+" L"+(.5-fe)+",0 M1,"+(.5-he)+" L"+(.5+fe)+","+(.5-he)+" L"+(.5+fe)+",0"},qe),"\u256a":(ct={},ct[1]=function(fe,he){return"M.5,0 L.5,1 M0,"+(.5-he)+" L1,"+(.5-he)+" M0,"+(.5+he)+" L1,"+(.5+he)},ct),"\u256b":(xe={},xe[1]=function(fe,he){return"M0,.5 L1,.5 M"+(.5-fe)+",0 L"+(.5-fe)+",1 M"+(.5+fe)+",0 L"+(.5+fe)+",1"},xe),"\u256c":(Nt={},Nt[1]=function(fe,he){return"M0,"+(.5+he)+" L"+(.5-fe)+","+(.5+he)+" L"+(.5-fe)+",1 M1,"+(.5+he)+" L"+(.5+fe)+","+(.5+he)+" L"+(.5+fe)+",1 M0,"+(.5-he)+" L"+(.5-fe)+","+(.5-he)+" L"+(.5-fe)+",0 M1,"+(.5-he)+" L"+(.5+fe)+","+(.5-he)+" L"+(.5+fe)+",0"},Nt),"\u2571":(kt={},kt[1]="M1,0 L0,1",kt),"\u2572":(wt={},wt[1]="M0,0 L1,1",wt),"\u2573":(pt={},pt[1]="M1,0 L0,1 M0,0 L1,1",pt),"\u257c":(Fe={},Fe[1]="M.5,.5 L0,.5",Fe[3]="M.5,.5 L1,.5",Fe),"\u257d":(rn={},rn[1]="M.5,.5 L.5,0",rn[3]="M.5,.5 L.5,1",rn),"\u257e":(Zn={},Zn[1]="M.5,.5 L1,.5",Zn[3]="M.5,.5 L0,.5",Zn),"\u257f":(gt={},gt[1]="M.5,.5 L.5,1",gt[3]="M.5,.5 L.5,0",gt),"\u250d":(_t={},_t[1]="M.5,.5 L.5,1",_t[3]="M.5,.5 L1,.5",_t),"\u250e":(ho={},ho[1]="M.5,.5 L1,.5",ho[3]="M.5,.5 L.5,1",ho),"\u2511":(Xe={},Xe[1]="M.5,.5 L.5,1",Xe[3]="M.5,.5 L0,.5",Xe),"\u2512":(fo={},fo[1]="M.5,.5 L0,.5",fo[3]="M.5,.5 L.5,1",fo),"\u2515":(hr={},hr[1]="M.5,.5 L.5,0",hr[3]="M.5,.5 L1,.5",hr),"\u2516":(ai={},ai[1]="M.5,.5 L1,.5",ai[3]="M.5,.5 L.5,0",ai),"\u2519":(Ds={},Ds[1]="M.5,.5 L.5,0",Ds[3]="M.5,.5 L0,.5",Ds),"\u251a":(Ri={},Ri[1]="M.5,.5 L0,.5",Ri[3]="M.5,.5 L.5,0",Ri),"\u251d":(As={},As[1]="M.5,0 L.5,1",As[3]="M.5,.5 L1,.5",As),"\u251e":(Ms={},Ms[1]="M0.5,1 L.5,.5 L1,.5",Ms[3]="M.5,.5 L.5,0",Ms),"\u251f":(Rs={},Rs[1]="M.5,0 L.5,.5 L1,.5",Rs[3]="M.5,.5 L.5,1",Rs),"\u2520":(Ts={},Ts[1]="M.5,.5 L1,.5",Ts[3]="M.5,0 L.5,1",Ts),"\u2521":(Ti={},Ti[1]="M.5,.5 L.5,1",Ti[3]="M.5,0 L.5,.5 L1,.5",Ti),"\u2522":(Ls={},Ls[1]="M.5,.5 L.5,0",Ls[3]="M0.5,1 L.5,.5 L1,.5",Ls),"\u2525":(Li={},Li[1]="M.5,0 L.5,1",Li[3]="M.5,.5 L0,.5",Li),"\u2526":(xs={},xs[1]="M0,.5 L.5,.5 L.5,1",xs[3]="M.5,.5 L.5,0",xs),"\u2527":(xi={},xi[1]="M.5,0 L.5,.5 L0,.5",xi[3]="M.5,.5 L.5,1",xi),"\u2528":(vo={},vo[1]="M.5,.5 L0,.5",vo[3]="M.5,0 L.5,1",vo),"\u2529":(Os={},Os[1]="M.5,.5 L.5,1",Os[3]="M.5,0 L.5,.5 L0,.5",Os),"\u252a":(Is={},Is[1]="M.5,.5 L.5,0",Is[3]="M0,.5 L.5,.5 L.5,1",Is),"\u252d":(Ps={},Ps[1]="M0.5,1 L.5,.5 L1,.5",Ps[3]="M.5,.5 L0,.5",Ps),"\u252e":(Qn={},Qn[1]="M0,.5 L.5,.5 L.5,1",Qn[3]="M.5,.5 L1,.5",Qn),"\u252f":(po={},po[1]="M.5,.5 L.5,1",po[3]="M0,.5 L1,.5",po),"\u2530":(Fs={},Fs[1]="M0,.5 L1,.5",Fs[3]="M.5,.5 L.5,1",Fs),"\u2531":(go={},go[1]="M.5,.5 L1,.5",go[3]="M0,.5 L.5,.5 L.5,1",go),"\u2532":(Bs={},Bs[1]="M.5,.5 L0,.5",Bs[3]="M0.5,1 L.5,.5 L1,.5",Bs),"\u2535":(mo={},mo[1]="M.5,0 L.5,.5 L1,.5",mo[3]="M.5,.5 L0,.5",mo),"\u2536":(Ns={},Ns[1]="M.5,0 L.5,.5 L0,.5",Ns[3]="M.5,.5 L1,.5",Ns),"\u2537":($s={},$s[1]="M.5,.5 L.5,0",$s[3]="M0,.5 L1,.5",$s),"\u2538":(Hs={},Hs[1]="M0,.5 L1,.5",Hs[3]="M.5,.5 L.5,0",Hs),"\u2539":(Us={},Us[1]="M.5,.5 L1,.5",Us[3]="M.5,0 L.5,.5 L0,.5",Us),"\u253a":(Vs={},Vs[1]="M.5,.5 L0,.5",Vs[3]="M.5,0 L.5,.5 L1,.5",Vs),"\u253d":(ui={},ui[1]="M.5,0 L.5,1 M.5,.5 L1,.5",ui[3]="M.5,.5 L0,.5",ui),"\u253e":(Oi={},Oi[1]="M.5,0 L.5,1 M.5,.5 L0,.5",Oi[3]="M.5,.5 L1,.5",Oi),"\u253f":(Ii={},Ii[1]="M.5,0 L.5,1",Ii[3]="M0,.5 L1,.5",Ii),"\u2540":(Pi={},Pi[1]="M0,.5 L1,.5 M.5,.5 L.5,1",Pi[3]="M.5,.5 L.5,0",Pi),"\u2541":(Fi={},Fi[1]="M.5,.5 L.5,0 M0,.5 L1,.5",Fi[3]="M.5,.5 L.5,1",Fi),"\u2542":(yo={},yo[1]="M0,.5 L1,.5",yo[3]="M.5,0 L.5,1",yo),"\u2543":(Bi={},Bi[1]="M0.5,1 L.5,.5 L1,.5",Bi[3]="M.5,0 L.5,.5 L0,.5",Bi),"\u2544":(Ni={},Ni[1]="M0,.5 L.5,.5 L.5,1",Ni[3]="M.5,0 L.5,.5 L1,.5",Ni),"\u2545":($i={},$i[1]="M.5,0 L.5,.5 L1,.5",$i[3]="M0,.5 L.5,.5 L.5,1",$i),"\u2546":(Hi={},Hi[1]="M.5,0 L.5,.5 L0,.5",Hi[3]="M0.5,1 L.5,.5 L1,.5",Hi),"\u2547":(on={},on[1]="M.5,.5 L.5,1",on[3]="M.5,.5 L.5,0 M0,.5 L1,.5",on),"\u2548":(_o={},_o[1]="M.5,.5 L.5,0",_o[3]="M0,.5 L1,.5 M.5,.5 L.5,1",_o),"\u2549":(Co={},Co[1]="M.5,.5 L1,.5",Co[3]="M.5,0 L.5,1 M.5,.5 L0,.5",Co),"\u254a":(bo={},bo[1]="M.5,.5 L0,.5",bo[3]="M.5,0 L.5,1 M.5,.5 L1,.5",bo),"\u254c":(Ws={},Ws[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",Ws),"\u254d":(wo={},wo[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",wo),"\u2504":(js={},js[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",js),"\u2505":(zs={},zs[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",zs),"\u2508":(Un={},Un[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Un),"\u2509":(Gs={},Gs[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Gs),"\u254e":(Rt={},Rt[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Rt),"\u254f":(zr={},zr[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",zr),"\u2506":(xn={},xn[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",xn),"\u2507":(mu={},mu[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",mu),"\u250a":(qs={},qs[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",qs),"\u250b":(So={},So[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",So),"\u256d":(Ui={},Ui[1]="C.5,1,.5,.5,1,.5",Ui),"\u256e":(Eo={},Eo[1]="C.5,1,.5,.5,0,.5",Eo),"\u256f":(Gr={},Gr[1]="C.5,0,.5,.5,0,.5",Gr),"\u2570":(Ks={},Ks[1]="C.5,0,.5,.5,1,.5",Ks)},x.tryDrawCustomChar=function(fe,he,Dt,Tt,Vn,Lt){var dn=x.blockElementDefinitions[he];if(dn)return function(sn,Qe,qr,Vi,lt,Ue){for(var wn=0;wn<Qe.length;wn++){var In=Qe[wn],Ie=lt/8,Wn=Ue/8;sn.fillRect(qr+In.x*Ie,Vi+In.y*Wn,In.w*Ie,In.h*Wn)}}(fe,dn,Dt,Tt,Vn,Lt),!0;var On=yu[he];if(On)return function(sn,Qe,qr,Vi,lt,Ue){var wn,In=_u.get(Qe);In||_u.set(Qe,In=new Map);var Ie=sn.fillStyle;if("string"!=typeof Ie)throw new Error('Unexpected fillStyle type "'+Ie+'"');var Wn=In.get(Ie);if(!Wn){var Oe=Qe[0].length,At=Qe.length,Kr=document.createElement("canvas");Kr.width=Oe,Kr.height=At;var Ys=(0,Xs.throwIfFalsy)(Kr.getContext("2d")),Xr=new ImageData(Oe,At),fr=void 0,Wt=void 0,bu=void 0,Js=void 0;if(Ie.startsWith("#"))fr=parseInt(Ie.substr(1,2),16),Wt=parseInt(Ie.substr(3,2),16),bu=parseInt(Ie.substr(5,2),16),Js=Ie.length>7&&parseInt(Ie.substr(7,2),16)||1;else{if(!Ie.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+Ie+'" when drawing pattern glyph');fr=(wn=Ie.substring(5,Ie.length-1).split(",").map(function(vv){return parseFloat(vv)}))[0],Wt=wn[1],bu=wn[2],Js=wn[3]}for(var li=0;li<At;li++)for(var ln=0;ln<Oe;ln++)Xr.data[4*(li*Oe+ln)]=fr,Xr.data[4*(li*Oe+ln)+1]=Wt,Xr.data[4*(li*Oe+ln)+2]=bu,Xr.data[4*(li*Oe+ln)+3]=Qe[li][ln]*(255*Js);Ys.putImageData(Xr,0,0),Wn=(0,Xs.throwIfFalsy)(sn.createPattern(Kr,null)),In.set(Ie,Wn)}sn.fillStyle=Wn,sn.fillRect(qr,Vi,lt,Ue)}(fe,On,Dt,Tt,Vn,Lt),!0;var ut=x.boxDrawingDefinitions[he];return!!ut&&(function(sn,Qe,qr,Vi,lt,Ue){sn.strokeStyle=sn.fillStyle;for(var wn=0,In=Object.entries(Qe);wn<In.length;wn++){var Ie=In[wn],Wn=Ie[0],Oe=Ie[1];sn.beginPath(),sn.lineWidth=window.devicePixelRatio*Number.parseInt(Wn);for(var At=0,Kr=("function"==typeof Oe?Oe(.15,.15/Ue*lt):Oe).split(" ");At<Kr.length;At++){var Ys=Kr[At],Xr=Ys[0],fr=vc[Xr];if(fr){var Wt=Ys.substring(1).split(",");Wt[0]&&Wt[1]&&fr(sn,pc(Wt,lt,Ue,qr,Vi))}else console.error('Could not find drawing instructions for "'+Xr+'"')}sn.stroke(),sn.closePath()}}(fe,ut,Dt,Tt,Vn,Lt),!0)};var _u=new Map;function Cu(fe,he,Dt){return void 0===Dt&&(Dt=0),Math.max(Math.min(fe,he),Dt)}var vc={C:function(he,Dt){return he.bezierCurveTo(Dt[0],Dt[1],Dt[2],Dt[3],Dt[4],Dt[5])},L:function(he,Dt){return he.lineTo(Dt[0],Dt[1])},M:function(he,Dt){return he.moveTo(Dt[0],Dt[1])}};function pc(fe,he,Dt,Tt,Vn){var Lt=fe.map(function(ut){return parseFloat(ut)||parseInt(ut)});if(Lt.length<2)throw new Error("Too few arguments for instruction");for(var dn=0;dn<Lt.length;dn+=2)Lt[dn]*=he,0!==Lt[dn]&&(Lt[dn]=Cu(Math.round(Lt[dn]+.5)-.5,he,0)),Lt[dn]+=Tt;for(var On=1;On<Lt.length;On+=2)Lt[On]*=Dt,0!==Lt[On]&&(Lt[On]=Cu(Math.round(Lt[On]+.5)-.5,Dt,0)),Lt[On]+=Vn;return Lt}},3700:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.GridCache=void 0;var O=function(){function w(){this.cache=[]}return w.prototype.resize=function(g,y){for(var v=0;v<g;v++){this.cache.length<=v&&this.cache.push([]);for(var f=this.cache[v].length;f<y;f++)this.cache[v].push(void 0);this.cache[v].length=y}this.cache.length=g},w.prototype.clear=function(){for(var g=0;g<this.cache.length;g++)for(var y=0;y<this.cache[g].length;y++)this.cache[g][y]=void 0},w}();x.GridCache=O},5098:function(H,x,O){var w,g=this&&this.__extends||(w=function(h,p){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(_[D]=E[D])})(h,p)},function(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function p(){this.constructor=d}w(d,h),d.prototype=null===h?Object.create(h):(p.prototype=h.prototype,new p)}),y=this&&this.__decorate||function(d,h,p,_){var E,D=arguments.length,b=D<3?h:null===_?_=Object.getOwnPropertyDescriptor(h,p):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(d,h,p,_);else for(var R=d.length-1;R>=0;R--)(E=d[R])&&(b=(D<3?E(b):D>3?E(h,p,b):E(h,p))||b);return D>3&&b&&Object.defineProperty(h,p,b),b},v=this&&this.__param||function(d,h){return function(p,_){h(p,_,d)}};Object.defineProperty(x,"__esModule",{value:!0}),x.LinkRenderLayer=void 0;var f=O(1546),s=O(8803),a=O(2040),u=O(2585),c=function(d){function h(p,_,E,D,b,R,k,S){var M=d.call(this,p,"link",_,!0,E,D,k,S)||this;return b.onShowLinkUnderline(function(C){return M._onShowLinkUnderline(C)}),b.onHideLinkUnderline(function(C){return M._onHideLinkUnderline(C)}),R.onShowLinkUnderline(function(C){return M._onShowLinkUnderline(C)}),R.onHideLinkUnderline(function(C){return M._onHideLinkUnderline(C)}),M}return g(h,d),h.prototype.resize=function(p){d.prototype.resize.call(this,p),this._state=void 0},h.prototype.reset=function(){this._clearCurrentLink()},h.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var p=this._state.y2-this._state.y1-1;p>0&&this._clearCells(0,this._state.y1+1,this._state.cols,p),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},h.prototype._onShowLinkUnderline=function(p){if(this._ctx.fillStyle=p.fg===s.INVERTED_DEFAULT_COLOR?this._colors.background.css:p.fg&&(0,a.is256Color)(p.fg)?this._colors.ansi[p.fg].css:this._colors.foreground.css,p.y1===p.y2)this._fillBottomLineAtCells(p.x1,p.y1,p.x2-p.x1);else{this._fillBottomLineAtCells(p.x1,p.y1,p.cols-p.x1);for(var _=p.y1+1;_<p.y2;_++)this._fillBottomLineAtCells(0,_,p.cols);this._fillBottomLineAtCells(0,p.y2,p.x2)}this._state=p},h.prototype._onHideLinkUnderline=function(p){this._clearCurrentLink()},y([v(6,u.IBufferService),v(7,u.IOptionsService)],h)}(f.BaseRenderLayer);x.LinkRenderLayer=c},3525:function(H,x,O){var w,g=this&&this.__extends||(w=function(R,k){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,M){S.__proto__=M}||function(S,M){for(var C in M)Object.prototype.hasOwnProperty.call(M,C)&&(S[C]=M[C])})(R,k)},function(b,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function k(){this.constructor=b}w(b,R),b.prototype=null===R?Object.create(R):(k.prototype=R.prototype,new k)}),y=this&&this.__decorate||function(b,R,k,S){var M,C=arguments.length,T=C<3?R:null===S?S=Object.getOwnPropertyDescriptor(R,k):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(b,R,k,S);else for(var I=b.length-1;I>=0;I--)(M=b[I])&&(T=(C<3?M(T):C>3?M(R,k,T):M(R,k))||T);return C>3&&T&&Object.defineProperty(R,k,T),T},v=this&&this.__param||function(b,R){return function(k,S){R(k,S,b)}};Object.defineProperty(x,"__esModule",{value:!0}),x.Renderer=void 0;var f=O(9596),s=O(4149),a=O(2512),u=O(5098),c=O(844),d=O(4725),h=O(2585),p=O(1420),_=O(8460),E=1,D=function(b){function R(k,S,M,C,T,I,$,F){var P=b.call(this)||this;return P._colors=k,P._screenElement=S,P._bufferService=I,P._charSizeService=$,P._optionsService=F,P._id=E++,P._onRequestRedraw=new _.EventEmitter,P._renderLayers=[T.createInstance(f.TextRenderLayer,P._screenElement,0,P._colors,P._optionsService.rawOptions.allowTransparency,P._id),T.createInstance(s.SelectionRenderLayer,P._screenElement,1,P._colors,P._id),T.createInstance(u.LinkRenderLayer,P._screenElement,2,P._colors,P._id,M,C),T.createInstance(a.CursorRenderLayer,P._screenElement,3,P._colors,P._id,P._onRequestRedraw)],P.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},P._devicePixelRatio=window.devicePixelRatio,P._updateDimensions(),P.onOptionsChanged(),P}return g(R,b),Object.defineProperty(R.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),R.prototype.dispose=function(){for(var k=0,S=this._renderLayers;k<S.length;k++)S[k].dispose();b.prototype.dispose.call(this),(0,p.removeTerminalFromCache)(this._id)},R.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},R.prototype.setColors=function(k){this._colors=k;for(var S=0,M=this._renderLayers;S<M.length;S++){var C=M[S];C.setColors(this._colors),C.reset()}},R.prototype.onResize=function(k,S){this._updateDimensions();for(var M=0,C=this._renderLayers;M<C.length;M++)C[M].resize(this.dimensions);this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},R.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},R.prototype.onBlur=function(){this._runOperation(function(k){return k.onBlur()})},R.prototype.onFocus=function(){this._runOperation(function(k){return k.onFocus()})},R.prototype.onSelectionChanged=function(k,S,M){void 0===M&&(M=!1),this._runOperation(function(C){return C.onSelectionChanged(k,S,M)})},R.prototype.onCursorMove=function(){this._runOperation(function(k){return k.onCursorMove()})},R.prototype.onOptionsChanged=function(){this._runOperation(function(k){return k.onOptionsChanged()})},R.prototype.clear=function(){this._runOperation(function(k){return k.reset()})},R.prototype._runOperation=function(k){for(var S=0,M=this._renderLayers;S<M.length;S++)k(M[S])},R.prototype.renderRows=function(k,S){for(var M=0,C=this._renderLayers;M<C.length;M++)C[M].onGridChanged(k,S)},R.prototype.clearTextureAtlas=function(){for(var k=0,S=this._renderLayers;k<S.length;k++)S[k].clearTextureAtlas()},R.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharTop=1===this._optionsService.rawOptions.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},y([v(4,h.IInstantiationService),v(5,h.IBufferService),v(6,d.ICharSizeService),v(7,h.IOptionsService)],R)}(c.Disposable);x.Renderer=D},1752:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.throwIfFalsy=void 0,x.throwIfFalsy=function(O){if(!O)throw new Error("value must not be falsy");return O}},4149:function(H,x,O){var w,g=this&&this.__extends||(w=function(c,d){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(h[_]=p[_])})(c,d)},function(u,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=u}w(u,c),u.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}),y=this&&this.__decorate||function(u,c,d,h){var p,_=arguments.length,E=_<3?c:null===h?h=Object.getOwnPropertyDescriptor(c,d):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)E=Reflect.decorate(u,c,d,h);else for(var D=u.length-1;D>=0;D--)(p=u[D])&&(E=(_<3?p(E):_>3?p(c,d,E):p(c,d))||E);return _>3&&E&&Object.defineProperty(c,d,E),E},v=this&&this.__param||function(u,c){return function(d,h){c(d,h,u)}};Object.defineProperty(x,"__esModule",{value:!0}),x.SelectionRenderLayer=void 0;var f=O(1546),s=O(2585),a=function(u){function c(d,h,p,_,E,D){var b=u.call(this,d,"selection",h,!0,p,_,E,D)||this;return b._clearState(),b}return g(c,u),c.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},c.prototype.resize=function(d){u.prototype.resize.call(this,d),this._clearState()},c.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},c.prototype.onSelectionChanged=function(d,h,p){if(this._didStateChange(d,h,p,this._bufferService.buffer.ydisp))if(this._clearAll(),d&&h){var _=d[1]-this._bufferService.buffer.ydisp,E=h[1]-this._bufferService.buffer.ydisp,D=Math.max(_,0),b=Math.min(E,this._bufferService.rows-1);if(D>=this._bufferService.rows||b<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,p){var R=d[0];this._fillCells(R,D,h[0]-R,b-D+1)}else{this._fillCells(R=_===D?d[0]:0,D,(D===E?h[0]:this._bufferService.cols)-R,1);var C=Math.max(b-D-1,0);this._fillCells(0,D+1,this._bufferService.cols,C),D!==b&&this._fillCells(0,b,E===b?h[0]:this._bufferService.cols,1)}this._state.start=[d[0],d[1]],this._state.end=[h[0],h[1]],this._state.columnSelectMode=p,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},c.prototype._didStateChange=function(d,h,p,_){return!this._areCoordinatesEqual(d,this._state.start)||!this._areCoordinatesEqual(h,this._state.end)||p!==this._state.columnSelectMode||_!==this._state.ydisp},c.prototype._areCoordinatesEqual=function(d,h){return!(!d||!h)&&d[0]===h[0]&&d[1]===h[1]},y([v(4,s.IBufferService),v(5,s.IOptionsService)],c)}(f.BaseRenderLayer);x.SelectionRenderLayer=a},9596:function(H,x,O){var w,g=this&&this.__extends||(w=function(D,b){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,k){R.__proto__=k}||function(R,k){for(var S in k)Object.prototype.hasOwnProperty.call(k,S)&&(R[S]=k[S])})(D,b)},function(E,D){if("function"!=typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function b(){this.constructor=E}w(E,D),E.prototype=null===D?Object.create(D):(b.prototype=D.prototype,new b)}),y=this&&this.__decorate||function(E,D,b,R){var k,S=arguments.length,M=S<3?D:null===R?R=Object.getOwnPropertyDescriptor(D,b):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(E,D,b,R);else for(var C=E.length-1;C>=0;C--)(k=E[C])&&(M=(S<3?k(M):S>3?k(D,b,M):k(D,b))||M);return S>3&&M&&Object.defineProperty(D,b,M),M},v=this&&this.__param||function(E,D){return function(b,R){D(b,R,E)}};Object.defineProperty(x,"__esModule",{value:!0}),x.TextRenderLayer=void 0;var f=O(3700),s=O(1546),a=O(3734),u=O(643),c=O(511),d=O(2585),h=O(4725),p=O(4269),_=function(E){function D(b,R,k,S,M,C,T,I){var $=E.call(this,b,"text",R,S,k,M,C,T)||this;return $._characterJoinerService=I,$._characterWidth=0,$._characterFont="",$._characterOverlapCache={},$._workCell=new c.CellData,$._state=new f.GridCache,$}return g(D,E),D.prototype.resize=function(b){E.prototype.resize.call(this,b);var R=this._getFont(!1,!1);this._characterWidth===b.scaledCharWidth&&this._characterFont===R||(this._characterWidth=b.scaledCharWidth,this._characterFont=R,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},D.prototype.reset=function(){this._state.clear(),this._clearAll()},D.prototype._forEachCell=function(b,R,k){for(var S=b;S<=R;S++)for(var M=S+this._bufferService.buffer.ydisp,C=this._bufferService.buffer.lines.get(M),T=this._characterJoinerService.getJoinedCharacters(M),I=0;I<this._bufferService.cols;I++){C.loadCell(I,this._workCell);var $=this._workCell,F=!1,P=I;if(0!==$.getWidth()){if(T.length>0&&I===T[0][0]){F=!0;var U=T.shift();$=new p.JoinedCellData(this._workCell,C.translateToString(!0,U[0],U[1]),U[1]-U[0]),P=U[1]-1}!F&&this._isOverlapping($)&&P<C.length-1&&C.getCodePoint(P+1)===u.NULL_CELL_CODE&&($.content&=-12582913,$.content|=2<<22),k($,I,S),I=P}}},D.prototype._drawBackground=function(b,R){var k=this,S=this._ctx,M=this._bufferService.cols,C=0,T=0,I=null;S.save(),this._forEachCell(b,R,function($,F,P){var U=null;$.isInverse()?U=$.isFgDefault()?k._colors.foreground.css:$.isFgRGB()?"rgb("+a.AttributeData.toColorRGB($.getFgColor()).join(",")+")":k._colors.ansi[$.getFgColor()].css:$.isBgRGB()?U="rgb("+a.AttributeData.toColorRGB($.getBgColor()).join(",")+")":$.isBgPalette()&&(U=k._colors.ansi[$.getBgColor()].css),null===I&&(C=F,T=P),P!==T?(S.fillStyle=I||"",k._fillCells(C,T,M-C,1),C=F,T=P):I!==U&&(S.fillStyle=I||"",k._fillCells(C,T,F-C,1),C=F,T=P),I=U}),null!==I&&(S.fillStyle=I,this._fillCells(C,T,M-C,1)),S.restore()},D.prototype._drawForeground=function(b,R){var k=this;this._forEachCell(b,R,function(S,M,C){if(!S.isInvisible()&&(k._drawChars(S,M,C),S.isUnderline()||S.isStrikethrough())){if(k._ctx.save(),S.isInverse())if(S.isBgDefault())k._ctx.fillStyle=k._colors.background.css;else if(S.isBgRGB())k._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(S.getBgColor()).join(",")+")";else{var T=S.getBgColor();k._optionsService.rawOptions.drawBoldTextInBrightColors&&S.isBold()&&T<8&&(T+=8),k._ctx.fillStyle=k._colors.ansi[T].css}else if(S.isFgDefault())k._ctx.fillStyle=k._colors.foreground.css;else if(S.isFgRGB())k._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(S.getFgColor()).join(",")+")";else{var I=S.getFgColor();k._optionsService.rawOptions.drawBoldTextInBrightColors&&S.isBold()&&I<8&&(I+=8),k._ctx.fillStyle=k._colors.ansi[I].css}S.isStrikethrough()&&k._fillMiddleLineAtCells(M,C,S.getWidth()),S.isUnderline()&&k._fillBottomLineAtCells(M,C,S.getWidth()),k._ctx.restore()}})},D.prototype.onGridChanged=function(b,R){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,b,this._bufferService.cols,R-b+1),this._drawBackground(b,R),this._drawForeground(b,R))},D.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.rawOptions.allowTransparency)},D.prototype._isOverlapping=function(b){if(1!==b.getWidth()||b.getCode()<256)return!1;var R=b.getChars();if(this._characterOverlapCache.hasOwnProperty(R))return this._characterOverlapCache[R];this._ctx.save(),this._ctx.font=this._characterFont;var k=Math.floor(this._ctx.measureText(R).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[R]=k,k},y([v(5,d.IBufferService),v(6,d.IOptionsService),v(7,h.ICharacterJoinerService)],D)}(s.BaseRenderLayer);x.TextRenderLayer=_},9616:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.BaseCharAtlas=void 0;var O=function(){function w(){this._didWarmUp=!1}return w.prototype.dispose=function(){},w.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},w.prototype._doWarmUp=function(){},w.prototype.clear=function(){},w.prototype.beginFrame=function(){},w}();x.BaseCharAtlas=O},1420:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.removeTerminalFromCache=x.acquireCharAtlas=void 0;var w=O(2040),g=O(1906),y=[];x.acquireCharAtlas=function(v,f,s,a,u){for(var c=(0,w.generateConfig)(a,u,v,s),d=0;d<y.length;d++){var h=(p=y[d]).ownedBy.indexOf(f);if(h>=0){if((0,w.configEquals)(p.config,c))return p.atlas;1===p.ownedBy.length?(p.atlas.dispose(),y.splice(d,1)):p.ownedBy.splice(h,1);break}}for(d=0;d<y.length;d++){var p=y[d];if((0,w.configEquals)(p.config,c))return p.ownedBy.push(f),p.atlas}var _={atlas:new g.DynamicCharAtlas(document,c),config:c,ownedBy:[f]};return y.push(_),_.atlas},x.removeTerminalFromCache=function(v){for(var f=0;f<y.length;f++){var s=y[f].ownedBy.indexOf(v);if(-1!==s){1===y[f].ownedBy.length?(y[f].atlas.dispose(),y.splice(f,1)):y[f].ownedBy.splice(s,1);break}}}},2040:function(H,x,O){var w=this&&this.__spreadArray||function(y,v,f){if(f||2===arguments.length)for(var s,a=0,u=v.length;a<u;a++)!s&&a in v||(s||(s=Array.prototype.slice.call(v,0,a)),s[a]=v[a]);return y.concat(s||Array.prototype.slice.call(v))};Object.defineProperty(x,"__esModule",{value:!0}),x.is256Color=x.configEquals=x.generateConfig=void 0;var g=O(643);x.generateConfig=function(y,v,f,s){var a={foreground:s.foreground,background:s.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:w([],s.ansi,!0)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:y,scaledCharHeight:v,fontFamily:f.fontFamily,fontSize:f.fontSize,fontWeight:f.fontWeight,fontWeightBold:f.fontWeightBold,allowTransparency:f.allowTransparency,colors:a}},x.configEquals=function(y,v){for(var f=0;f<y.colors.ansi.length;f++)if(y.colors.ansi[f].rgba!==v.colors.ansi[f].rgba)return!1;return y.devicePixelRatio===v.devicePixelRatio&&y.fontFamily===v.fontFamily&&y.fontSize===v.fontSize&&y.fontWeight===v.fontWeight&&y.fontWeightBold===v.fontWeightBold&&y.allowTransparency===v.allowTransparency&&y.scaledCharWidth===v.scaledCharWidth&&y.scaledCharHeight===v.scaledCharHeight&&y.colors.foreground===v.colors.foreground&&y.colors.background===v.colors.background},x.is256Color=function(y){return y<g.DEFAULT_COLOR}},8803:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.CHAR_ATLAS_CELL_SPACING=x.TEXT_BASELINE=x.DIM_OPACITY=x.INVERTED_DEFAULT_COLOR=void 0;var w=O(6114);x.INVERTED_DEFAULT_COLOR=257,x.DIM_OPACITY=.5,x.TEXT_BASELINE=w.isFirefox||w.isLegacyEdge?"bottom":"ideographic",x.CHAR_ATLAS_CELL_SPACING=1},1906:function(H,x,O){var w,g=this&&this.__extends||(w=function(k,S){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,C){M.__proto__=C}||function(M,C){for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(M[T]=C[T])})(k,S)},function(R,k){if("function"!=typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function S(){this.constructor=R}w(R,k),R.prototype=null===k?Object.create(k):(S.prototype=k.prototype,new S)});Object.defineProperty(x,"__esModule",{value:!0}),x.NoneCharAtlas=x.DynamicCharAtlas=x.getGlyphCacheKey=void 0;var y=O(8803),v=O(9616),f=O(5680),s=O(7001),a=O(6114),u=O(1752),c=O(4774),d=1024,h=1024,p={css:"rgba(0, 0, 0, 0)",rgba:0};function _(R){return R.code<<21|R.bg<<12|R.fg<<3|(R.bold?0:4)+(R.dim?0:2)+(R.italic?0:1)}x.getGlyphCacheKey=_;var E=function(R){function k(S,M){var C=R.call(this)||this;C._config=M,C._drawToCacheCount=0,C._glyphsWaitingOnBitmap=[],C._bitmapCommitTimeout=null,C._bitmap=null,C._cacheCanvas=S.createElement("canvas"),C._cacheCanvas.width=d,C._cacheCanvas.height=h,C._cacheCtx=(0,u.throwIfFalsy)(C._cacheCanvas.getContext("2d",{alpha:!0}));var T=S.createElement("canvas");T.width=C._config.scaledCharWidth,T.height=C._config.scaledCharHeight,C._tmpCtx=(0,u.throwIfFalsy)(T.getContext("2d",{alpha:C._config.allowTransparency})),C._width=Math.floor(d/C._config.scaledCharWidth),C._height=Math.floor(h/C._config.scaledCharHeight);var I=C._width*C._height;return C._cacheMap=new s.LRUMap(I),C._cacheMap.prealloc(I),C}return g(k,R),k.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},k.prototype.beginFrame=function(){this._drawToCacheCount=0},k.prototype.clear=function(){if(this._cacheMap.size>0){var S=this._width*this._height;this._cacheMap=new s.LRUMap(S),this._cacheMap.prealloc(S)}this._cacheCtx.clearRect(0,0,d,h),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},k.prototype.draw=function(S,M,C,T){if(32===M.code)return!0;if(!this._canCache(M))return!1;var I=_(M),$=this._cacheMap.get(I);if(null!=$)return this._drawFromCache(S,$,C,T),!0;if(this._drawToCacheCount<100){var F;F=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var P=this._drawToCache(M,F);return this._cacheMap.set(I,P),this._drawFromCache(S,P,C,T),!0}return!1},k.prototype._canCache=function(S){return S.code<256},k.prototype._toCoordinateX=function(S){return S%this._width*this._config.scaledCharWidth},k.prototype._toCoordinateY=function(S){return Math.floor(S/this._width)*this._config.scaledCharHeight},k.prototype._drawFromCache=function(S,M,C,T){if(!M.isEmpty){var I=this._toCoordinateX(M.index),$=this._toCoordinateY(M.index);S.drawImage(M.inBitmap?this._bitmap:this._cacheCanvas,I,$,this._config.scaledCharWidth,this._config.scaledCharHeight,C,T,this._config.scaledCharWidth,this._config.scaledCharHeight)}},k.prototype._getColorFromAnsiIndex=function(S){return S<this._config.colors.ansi.length?this._config.colors.ansi[S]:f.DEFAULT_ANSI_COLORS[S]},k.prototype._getBackgroundColor=function(S){return this._config.allowTransparency?p:S.bg===y.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:S.bg<256?this._getColorFromAnsiIndex(S.bg):this._config.colors.background},k.prototype._getForegroundColor=function(S){return S.fg===y.INVERTED_DEFAULT_COLOR?c.color.opaque(this._config.colors.background):S.fg<256?this._getColorFromAnsiIndex(S.fg):this._config.colors.foreground},k.prototype._drawToCache=function(S,M){this._drawToCacheCount++,this._tmpCtx.save();var C=this._getBackgroundColor(S);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=C.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over",this._tmpCtx.font=(S.italic?"italic":"")+" "+(S.bold?this._config.fontWeightBold:this._config.fontWeight)+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=y.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(S).css,S.dim&&(this._tmpCtx.globalAlpha=y.DIM_OPACITY),this._tmpCtx.fillText(S.chars,0,this._config.scaledCharHeight);var $=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),F=!1;if(this._config.allowTransparency||(F=b($,C)),F&&"_"===S.chars&&!this._config.allowTransparency)for(var P=1;P<=5&&(this._tmpCtx.fillText(S.chars,0,this._config.scaledCharHeight-P),F=b($=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),C));P++);this._tmpCtx.restore();var U=this._toCoordinateX(M),W=this._toCoordinateY(M);this._cacheCtx.putImageData($,U,W);var z={index:M,isEmpty:F,inBitmap:!1};return this._addGlyphToBitmap(z),z},k.prototype._addGlyphToBitmap=function(S){var M=this;!("createImageBitmap"in window)||a.isFirefox||a.isSafari||(this._glyphsWaitingOnBitmap.push(S),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout(function(){return M._generateBitmap()},100)))},k.prototype._generateBitmap=function(){var S=this,M=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(C){S._bitmap=C;for(var T=0;T<M.length;T++)M[T].inBitmap=!0}),this._bitmapCommitTimeout=null},k}(v.BaseCharAtlas);x.DynamicCharAtlas=E;var D=function(R){function k(S,M){return R.call(this)||this}return g(k,R),k.prototype.draw=function(S,M,C,T){return!1},k}(v.BaseCharAtlas);function b(R,k){for(var S=!0,M=k.rgba>>>24,C=k.rgba>>>16&255,T=k.rgba>>>8&255,I=0;I<R.data.length;I+=4)R.data[I]===M&&R.data[I+1]===C&&R.data[I+2]===T?R.data[I+3]=0:S=!1;return S}x.NoneCharAtlas=D},7001:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.LRUMap=void 0;var O=function(){function w(g){this.capacity=g,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return w.prototype._unlinkNode=function(g){var y=g.prev,v=g.next;g===this._head&&(this._head=v),g===this._tail&&(this._tail=y),null!==y&&(y.next=v),null!==v&&(v.prev=y)},w.prototype._appendNode=function(g){var y=this._tail;null!==y&&(y.next=g),g.prev=y,g.next=null,this._tail=g,null===this._head&&(this._head=g)},w.prototype.prealloc=function(g){for(var y=this._nodePool,v=0;v<g;v++)y.push({prev:null,next:null,key:null,value:null})},w.prototype.get=function(g){var y=this._map[g];return void 0!==y?(this._unlinkNode(y),this._appendNode(y),y.value):null},w.prototype.peekValue=function(g){var y=this._map[g];return void 0!==y?y.value:null},w.prototype.peek=function(){var g=this._head;return null===g?null:g.value},w.prototype.set=function(g,y){var v=this._map[g];if(void 0!==v)this._unlinkNode(v=this._map[g]),v.value=y;else if(this.size>=this.capacity)this._unlinkNode(v=this._head),delete this._map[v.key],v.key=g,v.value=y,this._map[g]=v;else{var f=this._nodePool;f.length>0?((v=f.pop()).key=g,v.value=y):v={prev:null,next:null,key:g,value:y},this._map[g]=v,this.size++}this._appendNode(v)},w}();x.LRUMap=O},1296:function(H,x,O){var w,g=this&&this.__extends||(w=function(M,C){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var $ in I)Object.prototype.hasOwnProperty.call(I,$)&&(T[$]=I[$])})(M,C)},function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function C(){this.constructor=S}w(S,M),S.prototype=null===M?Object.create(M):(C.prototype=M.prototype,new C)}),y=this&&this.__decorate||function(S,M,C,T){var I,$=arguments.length,F=$<3?M:null===T?T=Object.getOwnPropertyDescriptor(M,C):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(S,M,C,T);else for(var P=S.length-1;P>=0;P--)(I=S[P])&&(F=($<3?I(F):$>3?I(M,C,F):I(M,C))||F);return $>3&&F&&Object.defineProperty(M,C,F),F},v=this&&this.__param||function(S,M){return function(C,T){M(C,T,S)}};Object.defineProperty(x,"__esModule",{value:!0}),x.DomRenderer=void 0;var f=O(3787),s=O(8803),a=O(844),u=O(4725),c=O(2585),d=O(8460),h=O(4774),p=O(9631),_="xterm-dom-renderer-owner-",E="xterm-fg-",D="xterm-bg-",b="xterm-focus",R=1,k=function(S){function M(C,T,I,$,F,P,U,W,z,X){var K=S.call(this)||this;return K._colors=C,K._element=T,K._screenElement=I,K._viewportElement=$,K._linkifier=F,K._linkifier2=P,K._charSizeService=W,K._optionsService=z,K._bufferService=X,K._terminalClass=R++,K._rowElements=[],K._rowContainer=document.createElement("div"),K._rowContainer.classList.add("xterm-rows"),K._rowContainer.style.lineHeight="normal",K._rowContainer.setAttribute("aria-hidden","true"),K._refreshRowElements(K._bufferService.cols,K._bufferService.rows),K._selectionContainer=document.createElement("div"),K._selectionContainer.classList.add("xterm-selection"),K._selectionContainer.setAttribute("aria-hidden","true"),K.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},K._updateDimensions(),K._injectCss(),K._rowFactory=U.createInstance(f.DomRendererRowFactory,document,K._colors),K._element.classList.add(_+K._terminalClass),K._screenElement.appendChild(K._rowContainer),K._screenElement.appendChild(K._selectionContainer),K._linkifier.onShowLinkUnderline(function(Q){return K._onLinkHover(Q)}),K._linkifier.onHideLinkUnderline(function(Q){return K._onLinkLeave(Q)}),K._linkifier2.onShowLinkUnderline(function(Q){return K._onLinkHover(Q)}),K._linkifier2.onHideLinkUnderline(function(Q){return K._onLinkLeave(Q)}),K}return g(M,S),Object.defineProperty(M.prototype,"onRequestRedraw",{get:function(){return(new d.EventEmitter).event},enumerable:!1,configurable:!0}),M.prototype.dispose=function(){this._element.classList.remove(_+this._terminalClass),(0,p.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),S.prototype.dispose.call(this)},M.prototype._updateDimensions=function(){this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(var C=0,T=this._rowElements;C<T.length;C++){var I=T[C];I.style.width=this.dimensions.canvasWidth+"px",I.style.height=this.dimensions.actualCellHeight+"px",I.style.lineHeight=this.dimensions.actualCellHeight+"px",I.style.overflow="hidden"}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}",this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},M.prototype.setColors=function(C){this._colors=C,this._injectCss()},M.prototype._injectCss=function(){var C=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var T=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.rawOptions.fontFamily+"; font-size: "+this._optionsService.rawOptions.fontSize+"px;}";T+=this._terminalSelector+" span:not(."+f.BOLD_CLASS+") { font-weight: "+this._optionsService.rawOptions.fontWeight+";}"+this._terminalSelector+" span."+f.BOLD_CLASS+" { font-weight: "+this._optionsService.rawOptions.fontWeightBold+";}"+this._terminalSelector+" span."+f.ITALIC_CLASS+" { font-style: italic;}",T+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",T+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",T+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+f.CURSOR_CLASS+"."+f.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+f.CURSOR_CLASS+"."+f.CURSOR_BLINK_CLASS+":not(."+f.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+f.CURSOR_CLASS+"."+f.CURSOR_BLINK_CLASS+"."+f.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+f.CURSOR_CLASS+"."+f.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+f.CURSOR_CLASS+"."+f.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.rawOptions.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+f.CURSOR_CLASS+"."+f.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",T+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionTransparent.css+";}",this._colors.ansi.forEach(function(I,$){T+=C._terminalSelector+" ."+E+$+" { color: "+I.css+"; }"+C._terminalSelector+" ."+D+$+" { background-color: "+I.css+"; }"}),T+=this._terminalSelector+" ."+E+s.INVERTED_DEFAULT_COLOR+" { color: "+h.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+D+s.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=T},M.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},M.prototype._refreshRowElements=function(C,T){for(var I=this._rowElements.length;I<=T;I++){var $=document.createElement("div");this._rowContainer.appendChild($),this._rowElements.push($)}for(;this._rowElements.length>T;)this._rowContainer.removeChild(this._rowElements.pop())},M.prototype.onResize=function(C,T){this._refreshRowElements(C,T),this._updateDimensions()},M.prototype.onCharSizeChanged=function(){this._updateDimensions()},M.prototype.onBlur=function(){this._rowContainer.classList.remove(b)},M.prototype.onFocus=function(){this._rowContainer.classList.add(b)},M.prototype.onSelectionChanged=function(C,T,I){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(C&&T){var $=C[1]-this._bufferService.buffer.ydisp,F=T[1]-this._bufferService.buffer.ydisp,P=Math.max($,0),U=Math.min(F,this._bufferService.rows-1);if(!(P>=this._bufferService.rows||U<0)){var W=document.createDocumentFragment();I?W.appendChild(this._createSelectionElement(P,C[0],T[0],U-P+1)):(W.appendChild(this._createSelectionElement(P,$===P?C[0]:0,P===F?T[0]:this._bufferService.cols)),W.appendChild(this._createSelectionElement(P+1,0,this._bufferService.cols,U-P-1)),P!==U&&W.appendChild(this._createSelectionElement(U,0,F===U?T[0]:this._bufferService.cols))),this._selectionContainer.appendChild(W)}}},M.prototype._createSelectionElement=function(C,T,I,$){void 0===$&&($=1);var F=document.createElement("div");return F.style.height=$*this.dimensions.actualCellHeight+"px",F.style.top=C*this.dimensions.actualCellHeight+"px",F.style.left=T*this.dimensions.actualCellWidth+"px",F.style.width=this.dimensions.actualCellWidth*(I-T)+"px",F},M.prototype.onCursorMove=function(){},M.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},M.prototype.clear=function(){for(var C=0,T=this._rowElements;C<T.length;C++)T[C].innerText=""},M.prototype.renderRows=function(C,T){for(var I=this._bufferService.buffer.ybase+this._bufferService.buffer.y,$=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),F=this._optionsService.rawOptions.cursorBlink,P=C;P<=T;P++){var U=this._rowElements[P];U.innerText="";var W=P+this._bufferService.buffer.ydisp,z=this._bufferService.buffer.lines.get(W);U.appendChild(this._rowFactory.createRow(z,W,W===I,this._optionsService.rawOptions.cursorStyle,$,F,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(M.prototype,"_terminalSelector",{get:function(){return"."+_+this._terminalClass},enumerable:!1,configurable:!0}),M.prototype._onLinkHover=function(C){this._setCellUnderline(C.x1,C.x2,C.y1,C.y2,C.cols,!0)},M.prototype._onLinkLeave=function(C){this._setCellUnderline(C.x1,C.x2,C.y1,C.y2,C.cols,!1)},M.prototype._setCellUnderline=function(C,T,I,$,F,P){for(;C!==T||I!==$;){var U=this._rowElements[I];if(!U)return;var W=U.children[C];W&&(W.style.textDecoration=P?"underline":"none"),++C>=F&&(C=0,I++)}},y([v(6,c.IInstantiationService),v(7,u.ICharSizeService),v(8,c.IOptionsService),v(9,c.IBufferService)],M)}(a.Disposable);x.DomRenderer=k},3787:function(H,x,O){var w=this&&this.__decorate||function(p,_,E,D){var b,R=arguments.length,k=R<3?_:null===D?D=Object.getOwnPropertyDescriptor(_,E):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(p,_,E,D);else for(var S=p.length-1;S>=0;S--)(b=p[S])&&(k=(R<3?b(k):R>3?b(_,E,k):b(_,E))||k);return R>3&&k&&Object.defineProperty(_,E,k),k},g=this&&this.__param||function(p,_){return function(E,D){_(E,D,p)}};Object.defineProperty(x,"__esModule",{value:!0}),x.DomRendererRowFactory=x.CURSOR_STYLE_UNDERLINE_CLASS=x.CURSOR_STYLE_BAR_CLASS=x.CURSOR_STYLE_BLOCK_CLASS=x.CURSOR_BLINK_CLASS=x.CURSOR_CLASS=x.STRIKETHROUGH_CLASS=x.UNDERLINE_CLASS=x.ITALIC_CLASS=x.DIM_CLASS=x.BOLD_CLASS=void 0;var y=O(8803),v=O(643),f=O(511),s=O(2585),a=O(4774),u=O(4725),c=O(4269);x.BOLD_CLASS="xterm-bold",x.DIM_CLASS="xterm-dim",x.ITALIC_CLASS="xterm-italic",x.UNDERLINE_CLASS="xterm-underline",x.STRIKETHROUGH_CLASS="xterm-strikethrough",x.CURSOR_CLASS="xterm-cursor",x.CURSOR_BLINK_CLASS="xterm-cursor-blink",x.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",x.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",x.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var d=function(){function p(_,E,D,b,R){this._document=_,this._colors=E,this._characterJoinerService=D,this._optionsService=b,this._coreService=R,this._workCell=new f.CellData}return p.prototype.setColors=function(_){this._colors=_},p.prototype.createRow=function(_,E,D,b,R,k,S,M){for(var C=this._document.createDocumentFragment(),T=this._characterJoinerService.getJoinedCharacters(E),I=0,$=Math.min(_.length,M)-1;$>=0;$--)if(_.loadCell($,this._workCell).getCode()!==v.NULL_CELL_CODE||D&&$===R){I=$+1;break}for($=0;$<I;$++){_.loadCell($,this._workCell);var F=this._workCell.getWidth();if(0!==F){var P=!1,U=$,W=this._workCell;if(T.length>0&&$===T[0][0]){P=!0;var z=T.shift();W=new c.JoinedCellData(this._workCell,_.translateToString(!0,z[0],z[1]),z[1]-z[0]),U=z[1]-1,F=W.getWidth()}var X=this._document.createElement("span");if(F>1&&(X.style.width=S*F+"px"),P&&(X.style.display="inline",R>=$&&R<=U&&(R=$)),!this._coreService.isCursorHidden&&D&&$===R)switch(X.classList.add(x.CURSOR_CLASS),k&&X.classList.add(x.CURSOR_BLINK_CLASS),b){case"bar":X.classList.add(x.CURSOR_STYLE_BAR_CLASS);break;case"underline":X.classList.add(x.CURSOR_STYLE_UNDERLINE_CLASS);break;default:X.classList.add(x.CURSOR_STYLE_BLOCK_CLASS)}W.isBold()&&X.classList.add(x.BOLD_CLASS),W.isItalic()&&X.classList.add(x.ITALIC_CLASS),W.isDim()&&X.classList.add(x.DIM_CLASS),W.isUnderline()&&X.classList.add(x.UNDERLINE_CLASS),X.textContent=W.isInvisible()?v.WHITESPACE_CELL_CHAR:W.getChars()||v.WHITESPACE_CELL_CHAR,W.isStrikethrough()&&X.classList.add(x.STRIKETHROUGH_CLASS);var K=W.getFgColor(),Q=W.getFgColorMode(),oe=W.getBgColor(),re=W.getBgColorMode(),G=!!W.isInverse();if(G){var ie=K;K=oe,oe=ie;var Y=Q;Q=re,re=Y}switch(Q){case 16777216:case 33554432:W.isBold()&&K<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(K+=8),this._applyMinimumContrast(X,this._colors.background,this._colors.ansi[K])||X.classList.add("xterm-fg-"+K);break;case 50331648:var ee=a.rgba.toColor(K>>16&255,K>>8&255,255&K);this._applyMinimumContrast(X,this._colors.background,ee)||this._addStyle(X,"color:#"+h(K.toString(16),"0",6));break;default:this._applyMinimumContrast(X,this._colors.background,this._colors.foreground)||G&&X.classList.add("xterm-fg-"+y.INVERTED_DEFAULT_COLOR)}switch(re){case 16777216:case 33554432:X.classList.add("xterm-bg-"+oe);break;case 50331648:this._addStyle(X,"background-color:#"+h(oe.toString(16),"0",6));break;default:G&&X.classList.add("xterm-bg-"+y.INVERTED_DEFAULT_COLOR)}C.appendChild(X),$=U}}return C},p.prototype._applyMinimumContrast=function(_,E,D){if(1===this._optionsService.rawOptions.minimumContrastRatio)return!1;var b=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return void 0===b&&(b=a.color.ensureContrastRatio(E,D,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,null!=b?b:null)),!!b&&(this._addStyle(_,"color:"+b.css),!0)},p.prototype._addStyle=function(_,E){_.setAttribute("style",""+(_.getAttribute("style")||"")+E+";")},w([g(2,u.ICharacterJoinerService),g(3,s.IOptionsService),g(4,s.ICoreService)],p)}();function h(p,_,E){for(;p.length<E;)p=_+p;return p}x.DomRendererRowFactory=d},456:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.SelectionModel=void 0;var O=function(){function w(g){this._bufferService=g,this.isSelectAllActive=!1,this.selectionStartLength=0}return w.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(w.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var y=this.selectionStart[0]+this.selectionStartLength;return y>this._bufferService.cols?y%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(y/this._bufferService.cols)-1]:[y%this._bufferService.cols,this.selectionStart[1]+Math.floor(y/this._bufferService.cols)]:[y,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),w.prototype.areSelectionValuesReversed=function(){var g=this.selectionStart,y=this.selectionEnd;return!(!g||!y)&&(g[1]>y[1]||g[1]===y[1]&&g[0]>y[0])},w.prototype.onTrim=function(g){return this.selectionStart&&(this.selectionStart[1]-=g),this.selectionEnd&&(this.selectionEnd[1]-=g),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},w}();x.SelectionModel=O},428:function(H,x,O){var w=this&&this.__decorate||function(a,u,c,d){var h,p=arguments.length,_=p<3?u:null===d?d=Object.getOwnPropertyDescriptor(u,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(a,u,c,d);else for(var E=a.length-1;E>=0;E--)(h=a[E])&&(_=(p<3?h(_):p>3?h(u,c,_):h(u,c))||_);return p>3&&_&&Object.defineProperty(u,c,_),_},g=this&&this.__param||function(a,u){return function(c,d){u(c,d,a)}};Object.defineProperty(x,"__esModule",{value:!0}),x.CharSizeService=void 0;var y=O(2585),v=O(8460),f=function(){function a(u,c,d){this._optionsService=d,this.width=0,this.height=0,this._onCharSizeChange=new v.EventEmitter,this._measureStrategy=new s(u,c,this._optionsService)}return Object.defineProperty(a.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),a.prototype.measure=function(){var u=this._measureStrategy.measure();u.width===this.width&&u.height===this.height||(this.width=u.width,this.height=u.height,this._onCharSizeChange.fire())},w([g(2,y.IOptionsService)],a)}();x.CharSizeService=f;var s=function(){function a(u,c,d){this._document=u,this._parentElement=c,this._optionsService=d,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return a.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var u=this._measureElement.getBoundingClientRect();return 0!==u.width&&0!==u.height&&(this._result.width=u.width,this._result.height=Math.ceil(u.height)),this._result},a}()},4269:function(H,x,O){var w,g=this&&this.__extends||(w=function(p,_){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var b in D)Object.prototype.hasOwnProperty.call(D,b)&&(E[b]=D[b])})(p,_)},function(h,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function _(){this.constructor=h}w(h,p),h.prototype=null===p?Object.create(p):(_.prototype=p.prototype,new _)}),y=this&&this.__decorate||function(h,p,_,E){var D,b=arguments.length,R=b<3?p:null===E?E=Object.getOwnPropertyDescriptor(p,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(h,p,_,E);else for(var k=h.length-1;k>=0;k--)(D=h[k])&&(R=(b<3?D(R):b>3?D(p,_,R):D(p,_))||R);return b>3&&R&&Object.defineProperty(p,_,R),R},v=this&&this.__param||function(h,p){return function(_,E){p(_,E,h)}};Object.defineProperty(x,"__esModule",{value:!0}),x.CharacterJoinerService=x.JoinedCellData=void 0;var f=O(3734),s=O(643),a=O(511),u=O(2585),c=function(h){function p(_,E,D){var b=h.call(this)||this;return b.content=0,b.combinedData="",b.fg=_.fg,b.bg=_.bg,b.combinedData=E,b._width=D,b}return g(p,h),p.prototype.isCombined=function(){return 2097152},p.prototype.getWidth=function(){return this._width},p.prototype.getChars=function(){return this.combinedData},p.prototype.getCode=function(){return 2097151},p.prototype.setFromCharData=function(_){throw new Error("not implemented")},p.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},p}(f.AttributeData);x.JoinedCellData=c;var d=function(){function h(p){this._bufferService=p,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new a.CellData}return h.prototype.register=function(p){var _={id:this._nextCharacterJoinerId++,handler:p};return this._characterJoiners.push(_),_.id},h.prototype.deregister=function(p){for(var _=0;_<this._characterJoiners.length;_++)if(this._characterJoiners[_].id===p)return this._characterJoiners.splice(_,1),!0;return!1},h.prototype.getJoinedCharacters=function(p){if(0===this._characterJoiners.length)return[];var _=this._bufferService.buffer.lines.get(p);if(!_||0===_.length)return[];for(var E=[],D=_.translateToString(!0),b=0,R=0,k=0,S=_.getFg(0),M=_.getBg(0),C=0;C<_.getTrimmedLength();C++)if(_.loadCell(C,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==S||this._workCell.bg!==M){if(C-b>1)for(var T=this._getJoinedRanges(D,k,R,_,b),I=0;I<T.length;I++)E.push(T[I]);b=C,k=R,S=this._workCell.fg,M=this._workCell.bg}R+=this._workCell.getChars().length||s.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-b>1)for(T=this._getJoinedRanges(D,k,R,_,b),I=0;I<T.length;I++)E.push(T[I]);return E},h.prototype._getJoinedRanges=function(p,_,E,D,b){var R=p.substring(_,E),k=[];try{k=this._characterJoiners[0].handler(R)}catch(T){console.error(T)}for(var S=1;S<this._characterJoiners.length;S++)try{for(var M=this._characterJoiners[S].handler(R),C=0;C<M.length;C++)h._mergeRanges(k,M[C])}catch(T){console.error(T)}return this._stringRangesToCellRanges(k,D,b),k},h.prototype._stringRangesToCellRanges=function(p,_,E){var D=0,b=!1,R=0,k=p[D];if(k){for(var S=E;S<this._bufferService.cols;S++){var M=_.getWidth(S),C=_.getString(S).length||s.WHITESPACE_CELL_CHAR.length;if(0!==M){if(!b&&k[0]<=R&&(k[0]=S,b=!0),k[1]<=R){if(k[1]=S,!(k=p[++D]))break;k[0]<=R?(k[0]=S,b=!0):b=!1}R+=C}}k&&(k[1]=this._bufferService.cols)}},h._mergeRanges=function(p,_){for(var E=!1,D=0;D<p.length;D++){var b=p[D];if(E){if(_[1]<=b[0])return p[D-1][1]=_[1],p;if(_[1]<=b[1])return p[D-1][1]=Math.max(_[1],b[1]),p.splice(D,1),p;p.splice(D,1),D--}else{if(_[1]<=b[0])return p.splice(D,0,_),p;if(_[1]<=b[1])return b[0]=Math.min(_[0],b[0]),p;_[0]<b[1]&&(b[0]=Math.min(_[0],b[0]),E=!0)}}return E?p[p.length-1][1]=_[1]:p.push(_),p},h=y([v(0,u.IBufferService)],h)}();x.CharacterJoinerService=d},5114:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.CoreBrowserService=void 0;var O=function(){function w(g){this._textarea=g}return Object.defineProperty(w.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),w}();x.CoreBrowserService=O},7641:function(H,x,O){var w,g=this&&this.__extends||(w=function(h,p){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(_[D]=E[D])})(h,p)},function(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function p(){this.constructor=d}w(d,h),d.prototype=null===h?Object.create(h):(p.prototype=h.prototype,new p)}),y=this&&this.__decorate||function(d,h,p,_){var E,D=arguments.length,b=D<3?h:null===_?_=Object.getOwnPropertyDescriptor(h,p):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(d,h,p,_);else for(var R=d.length-1;R>=0;R--)(E=d[R])&&(b=(D<3?E(b):D>3?E(h,p,b):E(h,p))||b);return D>3&&b&&Object.defineProperty(h,p,b),b},v=this&&this.__param||function(d,h){return function(p,_){h(p,_,d)}};Object.defineProperty(x,"__esModule",{value:!0}),x.Decoration=x.DecorationService=void 0;var f=O(8460),s=O(844),a=O(2585),u=function(d){function h(p){var _=d.call(this)||this;return _._instantiationService=p,_._decorations=[],_}return g(h,d),h.prototype.attachToDom=function(p,_){var E=this;this._renderService=_,this._screenElement=p,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),p.appendChild(this._container),this.register(this._renderService.onRenderedBufferChange(function(){return E.refresh()})),this.register(this._renderService.onDimensionsChange(function(){return E.refresh(!0)}))},h.prototype.registerDecoration=function(p){var _=this;if(!p.marker.isDisposed&&this._container){var E=this._instantiationService.createInstance(c,p,this._container);return this._decorations.push(E),E.onDispose(function(){return _._decorations.splice(_._decorations.indexOf(E),1)}),this._queueRefresh(),E}},h.prototype._queueRefresh=function(){var p=this;void 0===this._animationFrame&&(this._animationFrame=window.requestAnimationFrame(function(){p.refresh(),p._animationFrame=void 0}))},h.prototype.refresh=function(p){if(this._renderService)for(var _=0,E=this._decorations;_<E.length;_++)E[_].render(this._renderService,p)},h.prototype.dispose=function(){for(var p=0,_=this._decorations;p<_.length;p++)_[p].dispose();this._screenElement&&this._container&&this._screenElement.contains(this._container)&&this._screenElement.removeChild(this._container)},y([v(0,a.IInstantiationService)],h)}(s.Disposable);x.DecorationService=u;var c=function(d){function h(p,_,E){var D,b=d.call(this)||this;return b._container=_,b._bufferService=E,b.isDisposed=!1,b._onDispose=new f.EventEmitter,b._onRender=new f.EventEmitter,b.x=null!==(D=p.x)&&void 0!==D?D:0,b._marker=p.marker,b._marker.onDispose(function(){return b.dispose()}),b.anchor=p.anchor||"left",b.width=p.width||1,b.height=p.height||1,b}return g(h,d),Object.defineProperty(h.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"marker",{get:function(){return this._marker},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),h.prototype.render=function(p,_){this._element&&!_||this._createElement(p,_),this._container&&this._element&&!this._container.contains(this._element)&&this._container.append(this._element),this._refreshStyle(p),this._element&&this._onRender.fire(this._element)},h.prototype._createElement=function(p,_){_&&this._element&&this._container.contains(this._element)&&this._container.removeChild(this._element),this._element=document.createElement("div"),this._element.classList.add("xterm-decoration"),this._element.style.width=this.width*p.dimensions.actualCellWidth+"px",this._element.style.height=this.height*p.dimensions.actualCellHeight+"px",this._element.style.top=(this.marker.line-this._bufferService.buffers.active.ydisp)*p.dimensions.actualCellHeight+"px",this._element.style.lineHeight=p.dimensions.actualCellHeight+"px",this.x&&this.x>this._bufferService.cols&&(this._element.style.display="none"),"right"===this.anchor?this._element.style.right=this.x?this.x*p.dimensions.actualCellWidth+"px":"":this._element.style.left=this.x?this.x*p.dimensions.actualCellWidth+"px":""},h.prototype._refreshStyle=function(p){if(this._element){var _=this.marker.line-this._bufferService.buffers.active.ydisp;_<0||_>this._bufferService.rows?this._element.style.display="none":(this._element.style.top=_*p.dimensions.actualCellHeight+"px",this._element.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block")}},h.prototype.dispose=function(){this.isDisposed||(this._element&&this._container.contains(this._element)&&this._container.removeChild(this._element),this.isDisposed=!0,this._onDispose.fire())},y([v(2,a.IBufferService)],h)}(s.Disposable);x.Decoration=c},8934:function(H,x,O){var w=this&&this.__decorate||function(s,a,u,c){var d,h=arguments.length,p=h<3?a:null===c?c=Object.getOwnPropertyDescriptor(a,u):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(s,a,u,c);else for(var _=s.length-1;_>=0;_--)(d=s[_])&&(p=(h<3?d(p):h>3?d(a,u,p):d(a,u))||p);return h>3&&p&&Object.defineProperty(a,u,p),p},g=this&&this.__param||function(s,a){return function(u,c){a(u,c,s)}};Object.defineProperty(x,"__esModule",{value:!0}),x.MouseService=void 0;var y=O(4725),v=O(9806),f=function(){function s(a,u){this._renderService=a,this._charSizeService=u}return s.prototype.getCoords=function(a,u,c,d,h){return(0,v.getCoords)(a,u,c,d,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,h)},s.prototype.getRawByteCoords=function(a,u,c,d){var h=this.getCoords(a,u,c,d);return(0,v.getRawByteCoords)(h)},w([g(0,y.IRenderService),g(1,y.ICharSizeService)],s)}();x.MouseService=f},3230:function(H,x,O){var w,g=this&&this.__extends||(w=function(E,D){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,R){b.__proto__=R}||function(b,R){for(var k in R)Object.prototype.hasOwnProperty.call(R,k)&&(b[k]=R[k])})(E,D)},function(_,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function D(){this.constructor=_}w(_,E),_.prototype=null===E?Object.create(E):(D.prototype=E.prototype,new D)}),y=this&&this.__decorate||function(_,E,D,b){var R,k=arguments.length,S=k<3?E:null===b?b=Object.getOwnPropertyDescriptor(E,D):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(_,E,D,b);else for(var M=_.length-1;M>=0;M--)(R=_[M])&&(S=(k<3?R(S):k>3?R(E,D,S):R(E,D))||S);return k>3&&S&&Object.defineProperty(E,D,S),S},v=this&&this.__param||function(_,E){return function(D,b){E(D,b,_)}};Object.defineProperty(x,"__esModule",{value:!0}),x.RenderService=void 0;var f=O(6193),s=O(8460),a=O(844),u=O(5596),c=O(3656),d=O(2585),h=O(4725),p=function(_){function E(D,b,R,k,S,M){var C=_.call(this)||this;if(C._renderer=D,C._rowCount=b,C._charSizeService=S,C._isPaused=!1,C._needsFullRefresh=!1,C._isNextRenderRedrawOnly=!0,C._needsSelectionRefresh=!1,C._canvasWidth=0,C._canvasHeight=0,C._selectionState={start:void 0,end:void 0,columnSelectMode:!1},C._onDimensionsChange=new s.EventEmitter,C._onRender=new s.EventEmitter,C._onRefreshRequest=new s.EventEmitter,C.register({dispose:function(){return C._renderer.dispose()}}),C._renderDebouncer=new f.RenderDebouncer(function(I,$){return C._renderRows(I,$)}),C.register(C._renderDebouncer),C._screenDprMonitor=new u.ScreenDprMonitor,C._screenDprMonitor.setListener(function(){return C.onDevicePixelRatioChange()}),C.register(C._screenDprMonitor),C.register(M.onResize(function(){return C._fullRefresh()})),C.register(M.buffers.onBufferActivate(function(){var I;return null===(I=C._renderer)||void 0===I?void 0:I.clear()})),C.register(k.onOptionChange(function(){return C._renderer.onOptionsChanged()})),C.register(C._charSizeService.onCharSizeChange(function(){return C.onCharSizeChanged()})),C._renderer.onRequestRedraw(function(I){return C.refreshRows(I.start,I.end,!0)}),C.register((0,c.addDisposableDomListener)(window,"resize",function(){return C.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var T=new IntersectionObserver(function(I){return C._onIntersectionChange(I[I.length-1])},{threshold:0});T.observe(R),C.register({dispose:function(){return T.disconnect()}})}return C}return g(E,_),Object.defineProperty(E.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),E.prototype._onIntersectionChange=function(D){this._isPaused=void 0===D.isIntersecting?0===D.intersectionRatio:!D.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},E.prototype.refreshRows=function(D,b,R){void 0===R&&(R=!1),this._isPaused?this._needsFullRefresh=!0:(R||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(D,b,this._rowCount))},E.prototype._renderRows=function(D,b){this._renderer.renderRows(D,b),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:D,end:b}),this._isNextRenderRedrawOnly=!0},E.prototype.resize=function(D,b){this._rowCount=b,this._fireOnCanvasResize()},E.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},E.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},E.prototype.dispose=function(){_.prototype.dispose.call(this)},E.prototype.setRenderer=function(D){var b=this;this._renderer.dispose(),this._renderer=D,this._renderer.onRequestRedraw(function(R){return b.refreshRows(R.start,R.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},E.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},E.prototype.clearTextureAtlas=function(){var D,b;null===(b=null===(D=this._renderer)||void 0===D?void 0:D.clearTextureAtlas)||void 0===b||b.call(D),this._fullRefresh()},E.prototype.setColors=function(D){this._renderer.setColors(D),this._fullRefresh()},E.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},E.prototype.onResize=function(D,b){this._renderer.onResize(D,b),this._fullRefresh()},E.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},E.prototype.onBlur=function(){this._renderer.onBlur()},E.prototype.onFocus=function(){this._renderer.onFocus()},E.prototype.onSelectionChanged=function(D,b,R){this._selectionState.start=D,this._selectionState.end=b,this._selectionState.columnSelectMode=R,this._renderer.onSelectionChanged(D,b,R)},E.prototype.onCursorMove=function(){this._renderer.onCursorMove()},E.prototype.clear=function(){this._renderer.clear()},y([v(3,d.IOptionsService),v(4,h.ICharSizeService),v(5,d.IBufferService)],E)}(a.Disposable);x.RenderService=p},9312:function(H,x,O){var w,g=this&&this.__extends||(w=function(S,M){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,T){C.__proto__=T}||function(C,T){for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&(C[I]=T[I])})(S,M)},function(k,S){if("function"!=typeof S&&null!==S)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function M(){this.constructor=k}w(k,S),k.prototype=null===S?Object.create(S):(M.prototype=S.prototype,new M)}),y=this&&this.__decorate||function(k,S,M,C){var T,I=arguments.length,$=I<3?S:null===C?C=Object.getOwnPropertyDescriptor(S,M):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(k,S,M,C);else for(var F=k.length-1;F>=0;F--)(T=k[F])&&($=(I<3?T($):I>3?T(S,M,$):T(S,M))||$);return I>3&&$&&Object.defineProperty(S,M,$),$},v=this&&this.__param||function(k,S){return function(M,C){S(M,C,k)}};Object.defineProperty(x,"__esModule",{value:!0}),x.SelectionService=void 0;var f=O(6114),s=O(456),a=O(511),u=O(8460),c=O(4725),d=O(2585),h=O(9806),p=O(9504),_=O(844),E=O(4841),D=String.fromCharCode(160),b=new RegExp(D,"g"),R=function(k){function S(M,C,T,I,$,F,P,U){var W=k.call(this)||this;return W._element=M,W._screenElement=C,W._linkifier=T,W._bufferService=I,W._coreService=$,W._mouseService=F,W._optionsService=P,W._renderService=U,W._dragScrollAmount=0,W._enabled=!0,W._workCell=new a.CellData,W._mouseDownTimeStamp=0,W._oldHasSelection=!1,W._oldSelectionStart=void 0,W._oldSelectionEnd=void 0,W._onLinuxMouseSelection=W.register(new u.EventEmitter),W._onRedrawRequest=W.register(new u.EventEmitter),W._onSelectionChange=W.register(new u.EventEmitter),W._onRequestScrollLines=W.register(new u.EventEmitter),W._mouseMoveListener=function(z){return W._onMouseMove(z)},W._mouseUpListener=function(z){return W._onMouseUp(z)},W._coreService.onUserInput(function(){W.hasSelection&&W.clearSelection()}),W._trimListener=W._bufferService.buffer.lines.onTrim(function(z){return W._onTrim(z)}),W.register(W._bufferService.buffers.onBufferActivate(function(z){return W._onBufferActivate(z)})),W.enable(),W._model=new s.SelectionModel(W._bufferService),W._activeSelectionMode=0,W}return g(S,k),Object.defineProperty(S.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),S.prototype.dispose=function(){this._removeMouseDownListeners()},S.prototype.reset=function(){this.clearSelection()},S.prototype.disable=function(){this.clearSelection(),this._enabled=!1},S.prototype.enable=function(){this._enabled=!0},Object.defineProperty(S.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"hasSelection",{get:function(){var C=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!C||!T||C[0]===T[0]&&C[1]===T[1])},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"selectionText",{get:function(){var C=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;if(!C||!T)return"";var I=this._bufferService.buffer,$=[];if(3===this._activeSelectionMode){if(C[0]===T[0])return"";for(var F=C[1];F<=T[1];F++){var P=I.translateBufferLineToString(F,!0,C[0],T[0]);$.push(P)}}else{for($.push(I.translateBufferLineToString(C[1],!0,C[0],C[1]===T[1]?T[0]:void 0)),F=C[1]+1;F<=T[1]-1;F++){var W=I.lines.get(F);P=I.translateBufferLineToString(F,!0),(null==W?void 0:W.isWrapped)?$[$.length-1]+=P:$.push(P)}C[1]!==T[1]&&(W=I.lines.get(T[1]),P=I.translateBufferLineToString(T[1],!0,0,T[0]),W&&W.isWrapped?$[$.length-1]+=P:$.push(P))}return $.map(function(z){return z.replace(b," ")}).join(f.isWindows?"\r\n":"\n")},enumerable:!1,configurable:!0}),S.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},S.prototype.refresh=function(M){var C=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return C._refresh()})),f.isLinux&&M&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},S.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},S.prototype._isClickInSelection=function(M){var C=this._getMouseBufferCoords(M),T=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;return!!(T&&I&&C)&&this._areCoordsInSelection(C,T,I)},S.prototype._areCoordsInSelection=function(M,C,T){return M[1]>C[1]&&M[1]<T[1]||C[1]===T[1]&&M[1]===C[1]&&M[0]>=C[0]&&M[0]<T[0]||C[1]<T[1]&&M[1]===T[1]&&M[0]<T[0]||C[1]<T[1]&&M[1]===C[1]&&M[0]>=C[0]},S.prototype._selectWordAtCursor=function(M,C){var T,I,$=null===(I=null===(T=this._linkifier.currentLink)||void 0===T?void 0:T.link)||void 0===I?void 0:I.range;if($)return this._model.selectionStart=[$.start.x-1,$.start.y-1],this._model.selectionStartLength=(0,E.getRangeLength)($,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var F=this._getMouseBufferCoords(M);return!!F&&(this._selectWordAt(F,C),this._model.selectionEnd=void 0,!0)},S.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},S.prototype.selectLines=function(M,C){this._model.clearSelection(),M=Math.max(M,0),C=Math.min(C,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,M],this._model.selectionEnd=[this._bufferService.cols,C],this.refresh(),this._onSelectionChange.fire()},S.prototype._onTrim=function(M){this._model.onTrim(M)&&this.refresh()},S.prototype._getMouseBufferCoords=function(M){var C=this._mouseService.getCoords(M,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(C)return C[0]--,C[1]--,C[1]+=this._bufferService.buffer.ydisp,C},S.prototype._getMouseEventScrollAmount=function(M){var C=(0,h.getCoordsRelativeToElement)(M,this._screenElement)[1],T=this._renderService.dimensions.canvasHeight;return C>=0&&C<=T?0:(C>T&&(C-=T),C=Math.min(Math.max(C,-50),50),(C/=50)/Math.abs(C)+Math.round(14*C))},S.prototype.shouldForceSelection=function(M){return f.isMac?M.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:M.shiftKey},S.prototype.onMouseDown=function(M){if(this._mouseDownTimeStamp=M.timeStamp,(2!==M.button||!this.hasSelection)&&0===M.button){if(!this._enabled){if(!this.shouldForceSelection(M))return;M.stopPropagation()}M.preventDefault(),this._dragScrollAmount=0,this._enabled&&M.shiftKey?this._onIncrementalClick(M):1===M.detail?this._onSingleClick(M):2===M.detail?this._onDoubleClick(M):3===M.detail&&this._onTripleClick(M),this._addMouseDownListeners(),this.refresh(!0)}},S.prototype._addMouseDownListeners=function(){var M=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return M._dragScroll()},50)},S.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},S.prototype._onIncrementalClick=function(M){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(M))},S.prototype._onSingleClick=function(M){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(M)?3:0,this._model.selectionStart=this._getMouseBufferCoords(M),this._model.selectionStart){this._model.selectionEnd=void 0;var C=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);C&&C.length!==this._model.selectionStart[0]&&0===C.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},S.prototype._onDoubleClick=function(M){this._selectWordAtCursor(M,!0)&&(this._activeSelectionMode=1)},S.prototype._onTripleClick=function(M){var C=this._getMouseBufferCoords(M);C&&(this._activeSelectionMode=2,this._selectLineAt(C[1]))},S.prototype.shouldColumnSelect=function(M){return M.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)},S.prototype._onMouseMove=function(M){if(M.stopImmediatePropagation(),this._model.selectionStart){var C=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(M),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(M),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var T=this._bufferService.buffer;if(this._model.selectionEnd[1]<T.lines.length){var I=T.lines.get(this._model.selectionEnd[1]);I&&0===I.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}C&&C[0]===this._model.selectionEnd[0]&&C[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},S.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var M=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(M.ydisp+this._bufferService.rows,M.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=M.ydisp),this.refresh()}},S.prototype._onMouseUp=function(M){var C=M.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&C<500&&M.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var T=this._mouseService.getCoords(M,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(T&&void 0!==T[0]&&void 0!==T[1]){var I=(0,p.moveToCellSequence)(T[0]-1,T[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(I,!0)}}}else this._fireEventIfSelectionChanged()},S.prototype._fireEventIfSelectionChanged=function(){var M=this._model.finalSelectionStart,C=this._model.finalSelectionEnd,T=!(!M||!C||M[0]===C[0]&&M[1]===C[1]);T?M&&C&&(this._oldSelectionStart&&this._oldSelectionEnd&&M[0]===this._oldSelectionStart[0]&&M[1]===this._oldSelectionStart[1]&&C[0]===this._oldSelectionEnd[0]&&C[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(M,C,T)):this._oldHasSelection&&this._fireOnSelectionChange(M,C,T)},S.prototype._fireOnSelectionChange=function(M,C,T){this._oldSelectionStart=M,this._oldSelectionEnd=C,this._oldHasSelection=T,this._onSelectionChange.fire()},S.prototype._onBufferActivate=function(M){var C=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=M.activeBuffer.lines.onTrim(function(T){return C._onTrim(T)})},S.prototype._convertViewportColToCharacterIndex=function(M,C){for(var T=C[0],I=0;C[0]>=I;I++){var $=M.loadCell(I,this._workCell).getChars().length;0===this._workCell.getWidth()?T--:$>1&&C[0]!==I&&(T+=$-1)}return T},S.prototype.setSelection=function(M,C,T){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[M,C],this._model.selectionStartLength=T,this.refresh()},S.prototype.rightClickSelect=function(M){this._isClickInSelection(M)||(this._selectWordAtCursor(M,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},S.prototype._getWordAt=function(M,C,T,I){if(void 0===T&&(T=!0),void 0===I&&(I=!0),!(M[0]>=this._bufferService.cols)){var $=this._bufferService.buffer,F=$.lines.get(M[1]);if(F){var P=$.translateBufferLineToString(M[1],!1),U=this._convertViewportColToCharacterIndex(F,M),W=U,z=M[0]-U,X=0,K=0,Q=0,oe=0;if(" "===P.charAt(U)){for(;U>0&&" "===P.charAt(U-1);)U--;for(;W<P.length&&" "===P.charAt(W+1);)W++}else{var re=M[0],G=M[0];0===F.getWidth(re)&&(X++,re--),2===F.getWidth(G)&&(K++,G++);var ie=F.getString(G).length;for(ie>1&&(oe+=ie-1,W+=ie-1);re>0&&U>0&&!this._isCharWordSeparator(F.loadCell(re-1,this._workCell));){F.loadCell(re-1,this._workCell);var Y=this._workCell.getChars().length;0===this._workCell.getWidth()?(X++,re--):Y>1&&(Q+=Y-1,U-=Y-1),U--,re--}for(;G<F.length&&W+1<P.length&&!this._isCharWordSeparator(F.loadCell(G+1,this._workCell));){F.loadCell(G+1,this._workCell);var ee=this._workCell.getChars().length;2===this._workCell.getWidth()?(K++,G++):ee>1&&(oe+=ee-1,W+=ee-1),W++,G++}}W++;var Z=U+z-X+Q,ce=Math.min(this._bufferService.cols,W-U+X+K-Q-oe);if(C||""!==P.slice(U,W).trim()){if(T&&0===Z&&32!==F.getCodePoint(0)){var ve=$.lines.get(M[1]-1);if(ve&&F.isWrapped&&32!==ve.getCodePoint(this._bufferService.cols-1)){var ye=this._getWordAt([this._bufferService.cols-1,M[1]-1],!1,!0,!1);if(ye){var Ce=this._bufferService.cols-ye.start;Z-=Ce,ce+=Ce}}}if(I&&Z+ce===this._bufferService.cols&&32!==F.getCodePoint(this._bufferService.cols-1)){var Pe=$.lines.get(M[1]+1);if((null==Pe?void 0:Pe.isWrapped)&&32!==Pe.getCodePoint(0)){var He=this._getWordAt([0,M[1]+1],!1,!1,!0);He&&(ce+=He.length)}}return{start:Z,length:ce}}}}},S.prototype._selectWordAt=function(M,C){var T=this._getWordAt(M,C);if(T){for(;T.start<0;)T.start+=this._bufferService.cols,M[1]--;this._model.selectionStart=[T.start,M[1]],this._model.selectionStartLength=T.length}},S.prototype._selectToWordAt=function(M){var C=this._getWordAt(M,!0);if(C){for(var T=M[1];C.start<0;)C.start+=this._bufferService.cols,T--;if(!this._model.areSelectionValuesReversed())for(;C.start+C.length>this._bufferService.cols;)C.length-=this._bufferService.cols,T++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?C.start:C.start+C.length,T]}},S.prototype._isCharWordSeparator=function(M){return 0!==M.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(M.getChars())>=0},S.prototype._selectLineAt=function(M){var C=this._bufferService.buffer.getWrappedRangeForLine(M);this._model.selectionStart=[0,C.first],this._model.selectionEnd=[this._bufferService.cols,C.last],this._model.selectionStartLength=0},y([v(3,d.IBufferService),v(4,d.ICoreService),v(5,c.IMouseService),v(6,d.IOptionsService),v(7,c.IRenderService)],S)}(_.Disposable);x.SelectionService=R},4725:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.IDecorationService=x.ICharacterJoinerService=x.ISoundService=x.ISelectionService=x.IRenderService=x.IMouseService=x.ICoreBrowserService=x.ICharSizeService=void 0;var w=O(8343);x.ICharSizeService=(0,w.createDecorator)("CharSizeService"),x.ICoreBrowserService=(0,w.createDecorator)("CoreBrowserService"),x.IMouseService=(0,w.createDecorator)("MouseService"),x.IRenderService=(0,w.createDecorator)("RenderService"),x.ISelectionService=(0,w.createDecorator)("SelectionService"),x.ISoundService=(0,w.createDecorator)("SoundService"),x.ICharacterJoinerService=(0,w.createDecorator)("CharacterJoinerService"),x.IDecorationService=(0,w.createDecorator)("DecorationService")},357:function(H,x,O){var w=this&&this.__decorate||function(f,s,a,u){var c,d=arguments.length,h=d<3?s:null===u?u=Object.getOwnPropertyDescriptor(s,a):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,s,a,u);else for(var p=f.length-1;p>=0;p--)(c=f[p])&&(h=(d<3?c(h):d>3?c(s,a,h):c(s,a))||h);return d>3&&h&&Object.defineProperty(s,a,h),h},g=this&&this.__param||function(f,s){return function(a,u){s(a,u,f)}};Object.defineProperty(x,"__esModule",{value:!0}),x.SoundService=void 0;var y=O(2585),v=function(){function f(s){this._optionsService=s}return Object.defineProperty(f,"audioContext",{get:function(){if(!f._audioContext){var a=window.AudioContext||window.webkitAudioContext;if(!a)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;f._audioContext=new a}return f._audioContext},enumerable:!1,configurable:!0}),f.prototype.playBellSound=function(){var s=f.audioContext;if(s){var a=s.createBufferSource();s.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.rawOptions.bellSound)),function(u){a.buffer=u,a.connect(s.destination),a.start(0)})}},f.prototype._base64ToArrayBuffer=function(s){for(var a=window.atob(s),u=a.length,c=new Uint8Array(u),d=0;d<u;d++)c[d]=a.charCodeAt(d);return c.buffer},f.prototype._removeMimeType=function(s){return s.split(",")[1]},f=w([g(0,y.IOptionsService)],f)}();x.SoundService=v},6349:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.CircularList=void 0;var w=O(8460),g=function(){function y(v){this._maxLength=v,this.onDeleteEmitter=new w.EventEmitter,this.onInsertEmitter=new w.EventEmitter,this.onTrimEmitter=new w.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(y.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"maxLength",{get:function(){return this._maxLength},set:function(f){if(this._maxLength!==f){for(var s=new Array(f),a=0;a<Math.min(f,this.length);a++)s[a]=this._array[this._getCyclicIndex(a)];this._array=s,this._maxLength=f,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"length",{get:function(){return this._length},set:function(f){if(f>this._length)for(var s=this._length;s<f;s++)this._array[s]=void 0;this._length=f},enumerable:!1,configurable:!0}),y.prototype.get=function(v){return this._array[this._getCyclicIndex(v)]},y.prototype.set=function(v,f){this._array[this._getCyclicIndex(v)]=f},y.prototype.push=function(v){this._array[this._getCyclicIndex(this._length)]=v,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},y.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(y.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),y.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},y.prototype.splice=function(v,f){for(var s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];if(f){for(var u=v;u<this._length-f;u++)this._array[this._getCyclicIndex(u)]=this._array[this._getCyclicIndex(u+f)];this._length-=f,this.onDeleteEmitter.fire({index:v,amount:f})}for(u=this._length-1;u>=v;u--)this._array[this._getCyclicIndex(u+s.length)]=this._array[this._getCyclicIndex(u)];for(u=0;u<s.length;u++)this._array[this._getCyclicIndex(v+u)]=s[u];if(s.length&&this.onInsertEmitter.fire({index:v,amount:s.length}),this._length+s.length>this._maxLength){var c=this._length+s.length-this._maxLength;this._startIndex+=c,this._length=this._maxLength,this.onTrimEmitter.fire(c)}else this._length+=s.length},y.prototype.trimStart=function(v){v>this._length&&(v=this._length),this._startIndex+=v,this._length-=v,this.onTrimEmitter.fire(v)},y.prototype.shiftElements=function(v,f,s){if(!(f<=0)){if(v<0||v>=this._length)throw new Error("start argument out of range");if(v+s<0)throw new Error("Cannot shift elements in list beyond index 0");if(s>0){for(var a=f-1;a>=0;a--)this.set(v+a+s,this.get(v+a));var u=v+f+s-this._length;if(u>0)for(this._length+=u;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(a=0;a<f;a++)this.set(v+a+s,this.get(v+a))}},y.prototype._getCyclicIndex=function(v){return(this._startIndex+v)%this._maxLength},y}();x.CircularList=g},1439:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.clone=void 0,x.clone=function O(w,g){if(void 0===g&&(g=5),"object"!=typeof w)return w;var y=Array.isArray(w)?[]:{};for(var v in w)y[v]=g<=1?w[v]:w[v]&&O(w[v],g-1);return y}},8969:function(H,x,O){var w,g=this&&this.__extends||(w=function(C,T){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,$){I.__proto__=$}||function(I,$){for(var F in $)Object.prototype.hasOwnProperty.call($,F)&&(I[F]=$[F])})(C,T)},function(M,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function T(){this.constructor=M}w(M,C),M.prototype=null===C?Object.create(C):(T.prototype=C.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.CoreTerminal=void 0;var y=O(844),v=O(2585),f=O(4348),s=O(7866),a=O(744),u=O(7302),c=O(6975),d=O(8460),h=O(1753),p=O(3730),_=O(1480),E=O(7994),D=O(9282),b=O(5435),R=O(5981),k=!1,S=function(M){function C(T){var I=M.call(this)||this;return I._onBinary=new d.EventEmitter,I._onData=new d.EventEmitter,I._onLineFeed=new d.EventEmitter,I._onResize=new d.EventEmitter,I._onScroll=new d.EventEmitter,I._instantiationService=new f.InstantiationService,I.optionsService=new u.OptionsService(T),I._instantiationService.setService(v.IOptionsService,I.optionsService),I._bufferService=I.register(I._instantiationService.createInstance(a.BufferService)),I._instantiationService.setService(v.IBufferService,I._bufferService),I._logService=I._instantiationService.createInstance(s.LogService),I._instantiationService.setService(v.ILogService,I._logService),I.coreService=I.register(I._instantiationService.createInstance(c.CoreService,function(){return I.scrollToBottom()})),I._instantiationService.setService(v.ICoreService,I.coreService),I.coreMouseService=I._instantiationService.createInstance(h.CoreMouseService),I._instantiationService.setService(v.ICoreMouseService,I.coreMouseService),I._dirtyRowService=I._instantiationService.createInstance(p.DirtyRowService),I._instantiationService.setService(v.IDirtyRowService,I._dirtyRowService),I.unicodeService=I._instantiationService.createInstance(_.UnicodeService),I._instantiationService.setService(v.IUnicodeService,I.unicodeService),I._charsetService=I._instantiationService.createInstance(E.CharsetService),I._instantiationService.setService(v.ICharsetService,I._charsetService),I._inputHandler=new b.InputHandler(I._bufferService,I._charsetService,I.coreService,I._dirtyRowService,I._logService,I.optionsService,I.coreMouseService,I.unicodeService),I.register((0,d.forwardEvent)(I._inputHandler.onLineFeed,I._onLineFeed)),I.register(I._inputHandler),I.register((0,d.forwardEvent)(I._bufferService.onResize,I._onResize)),I.register((0,d.forwardEvent)(I.coreService.onData,I._onData)),I.register((0,d.forwardEvent)(I.coreService.onBinary,I._onBinary)),I.register(I.optionsService.onOptionChange(function($){return I._updateOptions($)})),I.register(I._bufferService.onScroll(function($){I._onScroll.fire({position:I._bufferService.buffer.ydisp,source:0}),I._dirtyRowService.markRangeDirty(I._bufferService.buffer.scrollTop,I._bufferService.buffer.scrollBottom)})),I.register(I._inputHandler.onScroll(function($){I._onScroll.fire({position:I._bufferService.buffer.ydisp,source:0}),I._dirtyRowService.markRangeDirty(I._bufferService.buffer.scrollTop,I._bufferService.buffer.scrollBottom)})),I._writeBuffer=new R.WriteBuffer(function($,F){return I._inputHandler.parse($,F)}),I}return g(C,M),Object.defineProperty(C.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"onScroll",{get:function(){var I=this;return this._onScrollApi||(this._onScrollApi=new d.EventEmitter,this.register(this._onScroll.event(function($){var F;null===(F=I._onScrollApi)||void 0===F||F.fire($.position)}))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"options",{get:function(){return this.optionsService.options},set:function(I){for(var $ in I)this.optionsService.options[$]=I[$]},enumerable:!1,configurable:!0}),C.prototype.dispose=function(){var T;this._isDisposed||(M.prototype.dispose.call(this),null===(T=this._windowsMode)||void 0===T||T.dispose(),this._windowsMode=void 0)},C.prototype.write=function(T,I){this._writeBuffer.write(T,I)},C.prototype.writeSync=function(T,I){this._logService.logLevel<=v.LogLevelEnum.WARN&&!k&&(this._logService.warn("writeSync is unreliable and will be removed soon."),k=!0),this._writeBuffer.writeSync(T,I)},C.prototype.resize=function(T,I){isNaN(T)||isNaN(I)||(T=Math.max(T,a.MINIMUM_COLS),I=Math.max(I,a.MINIMUM_ROWS),this._bufferService.resize(T,I))},C.prototype.scroll=function(T,I){void 0===I&&(I=!1),this._bufferService.scroll(T,I)},C.prototype.scrollLines=function(T,I,$){this._bufferService.scrollLines(T,I,$)},C.prototype.scrollPages=function(T){this._bufferService.scrollPages(T)},C.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},C.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},C.prototype.scrollToLine=function(T){this._bufferService.scrollToLine(T)},C.prototype.registerEscHandler=function(T,I){return this._inputHandler.registerEscHandler(T,I)},C.prototype.registerDcsHandler=function(T,I){return this._inputHandler.registerDcsHandler(T,I)},C.prototype.registerCsiHandler=function(T,I){return this._inputHandler.registerCsiHandler(T,I)},C.prototype.registerOscHandler=function(T,I){return this._inputHandler.registerOscHandler(T,I)},C.prototype._setup=function(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()},C.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},C.prototype._updateOptions=function(T){var I;switch(T){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():(null===(I=this._windowsMode)||void 0===I||I.dispose(),this._windowsMode=void 0)}},C.prototype._enableWindowsMode=function(){var T=this;if(!this._windowsMode){var I=[];I.push(this.onLineFeed(D.updateWindowsModeWrappedState.bind(null,this._bufferService))),I.push(this.registerCsiHandler({final:"H"},function(){return(0,D.updateWindowsModeWrappedState)(T._bufferService),!1})),this._windowsMode={dispose:function(){for(var F=0,P=I;F<P.length;F++)P[F].dispose()}}}},C}(y.Disposable);x.CoreTerminal=S},8460:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.forwardEvent=x.EventEmitter=void 0;var O=function(){function w(){this._listeners=[],this._disposed=!1}return Object.defineProperty(w.prototype,"event",{get:function(){var y=this;return this._event||(this._event=function(v){return y._listeners.push(v),{dispose:function(){if(!y._disposed)for(var s=0;s<y._listeners.length;s++)if(y._listeners[s]===v)return void y._listeners.splice(s,1)}}}),this._event},enumerable:!1,configurable:!0}),w.prototype.fire=function(g,y){for(var v=[],f=0;f<this._listeners.length;f++)v.push(this._listeners[f]);for(f=0;f<v.length;f++)v[f].call(void 0,g,y)},w.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},w}();x.EventEmitter=O,x.forwardEvent=function(w,g){return w(function(y){return g.fire(y)})}},5435:function(H,x,O){var w,g=this&&this.__extends||(w=function(F,P){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,W){U.__proto__=W}||function(U,W){for(var z in W)Object.prototype.hasOwnProperty.call(W,z)&&(U[z]=W[z])})(F,P)},function($,F){if("function"!=typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function P(){this.constructor=$}w($,F),$.prototype=null===F?Object.create(F):(P.prototype=F.prototype,new P)});Object.defineProperty(x,"__esModule",{value:!0}),x.InputHandler=x.WindowsOptionsReportType=void 0;var y,$,v=O(2584),f=O(7116),s=O(2015),a=O(844),u=O(8273),c=O(482),d=O(8437),h=O(8460),p=O(643),_=O(511),E=O(3734),D=O(2585),b=O(6242),R=O(6351),k=O(5941),S={"(":0,")":1,"*":2,"+":3,"-":1,".":2},M=131072;function C($,F){if($>24)return F.setWinLines||!1;switch($){case 1:return!!F.restoreWin;case 2:return!!F.minimizeWin;case 3:return!!F.setWinPosition;case 4:return!!F.setWinSizePixels;case 5:return!!F.raiseWin;case 6:return!!F.lowerWin;case 7:return!!F.refreshWin;case 8:return!!F.setWinSizeChars;case 9:return!!F.maximizeWin;case 10:return!!F.fullscreenWin;case 11:return!!F.getWinState;case 13:return!!F.getWinPosition;case 14:return!!F.getWinSizePixels;case 15:return!!F.getScreenSizePixels;case 16:return!!F.getCellSizePixels;case 18:return!!F.getWinSizeChars;case 19:return!!F.getScreenSizeChars;case 20:return!!F.getIconTitle;case 21:return!!F.getWinTitle;case 22:return!!F.pushTitle;case 23:return!!F.popTitle;case 24:return!!F.setWinLines}return!1}($=y=x.WindowsOptionsReportType||(x.WindowsOptionsReportType={}))[$.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",$[$.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";var T=function(){function $(F,P,U,W){this._bufferService=F,this._coreService=P,this._logService=U,this._optionsService=W,this._data=new Uint32Array(0)}return $.prototype.hook=function(F){this._data=new Uint32Array(0)},$.prototype.put=function(F,P,U){this._data=(0,u.concat)(this._data,F.subarray(P,U))},$.prototype.unhook=function(F){if(!F)return this._data=new Uint32Array(0),!0;var P=(0,c.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),P){case'"q':this._coreService.triggerDataEvent(v.C0.ESC+'P1$r0"q'+v.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(v.C0.ESC+'P1$r61;1"p'+v.C0.ESC+"\\");break;case"r":this._coreService.triggerDataEvent(v.C0.ESC+"P1$r"+(this._bufferService.buffer.scrollTop+1)+";"+(this._bufferService.buffer.scrollBottom+1)+"r"+v.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(v.C0.ESC+"P1$r0m"+v.C0.ESC+"\\");break;case" q":var W={block:2,underline:4,bar:6}[this._optionsService.rawOptions.cursorStyle];this._coreService.triggerDataEvent(v.C0.ESC+"P1$r"+(W-=this._optionsService.rawOptions.cursorBlink?1:0)+" q"+v.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",P),this._coreService.triggerDataEvent(v.C0.ESC+"P0$r"+v.C0.ESC+"\\")}return!0},$}(),I=function($){function F(P,U,W,z,X,K,Q,oe,re){void 0===re&&(re=new s.EscapeSequenceParser);var G=$.call(this)||this;G._bufferService=P,G._charsetService=U,G._coreService=W,G._dirtyRowService=z,G._logService=X,G._optionsService=K,G._coreMouseService=Q,G._unicodeService=oe,G._parser=re,G._parseBuffer=new Uint32Array(4096),G._stringDecoder=new c.StringToUtf32,G._utf8Decoder=new c.Utf8ToUtf32,G._workCell=new _.CellData,G._windowTitle="",G._iconName="",G._windowTitleStack=[],G._iconNameStack=[],G._curAttrData=d.DEFAULT_ATTR_DATA.clone(),G._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone(),G._onRequestBell=new h.EventEmitter,G._onRequestRefreshRows=new h.EventEmitter,G._onRequestReset=new h.EventEmitter,G._onRequestSendFocus=new h.EventEmitter,G._onRequestSyncScrollBar=new h.EventEmitter,G._onRequestWindowsOptionsReport=new h.EventEmitter,G._onA11yChar=new h.EventEmitter,G._onA11yTab=new h.EventEmitter,G._onCursorMove=new h.EventEmitter,G._onLineFeed=new h.EventEmitter,G._onScroll=new h.EventEmitter,G._onTitleChange=new h.EventEmitter,G._onColor=new h.EventEmitter,G._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},G._specialColors=[256,257,258],G.register(G._parser),G._activeBuffer=G._bufferService.buffer,G.register(G._bufferService.buffers.onBufferActivate(function(Z){return G._activeBuffer=Z.activeBuffer})),G._parser.setCsiHandlerFallback(function(Z,ce){G._logService.debug("Unknown CSI code: ",{identifier:G._parser.identToString(Z),params:ce.toArray()})}),G._parser.setEscHandlerFallback(function(Z){G._logService.debug("Unknown ESC code: ",{identifier:G._parser.identToString(Z)})}),G._parser.setExecuteHandlerFallback(function(Z){G._logService.debug("Unknown EXECUTE code: ",{code:Z})}),G._parser.setOscHandlerFallback(function(Z,ce,ve){G._logService.debug("Unknown OSC code: ",{identifier:Z,action:ce,data:ve})}),G._parser.setDcsHandlerFallback(function(Z,ce,ve){"HOOK"===ce&&(ve=ve.toArray()),G._logService.debug("Unknown DCS code: ",{identifier:G._parser.identToString(Z),action:ce,payload:ve})}),G._parser.setPrintHandler(function(Z,ce,ve){return G.print(Z,ce,ve)}),G._parser.registerCsiHandler({final:"@"},function(Z){return G.insertChars(Z)}),G._parser.registerCsiHandler({intermediates:" ",final:"@"},function(Z){return G.scrollLeft(Z)}),G._parser.registerCsiHandler({final:"A"},function(Z){return G.cursorUp(Z)}),G._parser.registerCsiHandler({intermediates:" ",final:"A"},function(Z){return G.scrollRight(Z)}),G._parser.registerCsiHandler({final:"B"},function(Z){return G.cursorDown(Z)}),G._parser.registerCsiHandler({final:"C"},function(Z){return G.cursorForward(Z)}),G._parser.registerCsiHandler({final:"D"},function(Z){return G.cursorBackward(Z)}),G._parser.registerCsiHandler({final:"E"},function(Z){return G.cursorNextLine(Z)}),G._parser.registerCsiHandler({final:"F"},function(Z){return G.cursorPrecedingLine(Z)}),G._parser.registerCsiHandler({final:"G"},function(Z){return G.cursorCharAbsolute(Z)}),G._parser.registerCsiHandler({final:"H"},function(Z){return G.cursorPosition(Z)}),G._parser.registerCsiHandler({final:"I"},function(Z){return G.cursorForwardTab(Z)}),G._parser.registerCsiHandler({final:"J"},function(Z){return G.eraseInDisplay(Z)}),G._parser.registerCsiHandler({prefix:"?",final:"J"},function(Z){return G.eraseInDisplay(Z)}),G._parser.registerCsiHandler({final:"K"},function(Z){return G.eraseInLine(Z)}),G._parser.registerCsiHandler({prefix:"?",final:"K"},function(Z){return G.eraseInLine(Z)}),G._parser.registerCsiHandler({final:"L"},function(Z){return G.insertLines(Z)}),G._parser.registerCsiHandler({final:"M"},function(Z){return G.deleteLines(Z)}),G._parser.registerCsiHandler({final:"P"},function(Z){return G.deleteChars(Z)}),G._parser.registerCsiHandler({final:"S"},function(Z){return G.scrollUp(Z)}),G._parser.registerCsiHandler({final:"T"},function(Z){return G.scrollDown(Z)}),G._parser.registerCsiHandler({final:"X"},function(Z){return G.eraseChars(Z)}),G._parser.registerCsiHandler({final:"Z"},function(Z){return G.cursorBackwardTab(Z)}),G._parser.registerCsiHandler({final:"`"},function(Z){return G.charPosAbsolute(Z)}),G._parser.registerCsiHandler({final:"a"},function(Z){return G.hPositionRelative(Z)}),G._parser.registerCsiHandler({final:"b"},function(Z){return G.repeatPrecedingCharacter(Z)}),G._parser.registerCsiHandler({final:"c"},function(Z){return G.sendDeviceAttributesPrimary(Z)}),G._parser.registerCsiHandler({prefix:">",final:"c"},function(Z){return G.sendDeviceAttributesSecondary(Z)}),G._parser.registerCsiHandler({final:"d"},function(Z){return G.linePosAbsolute(Z)}),G._parser.registerCsiHandler({final:"e"},function(Z){return G.vPositionRelative(Z)}),G._parser.registerCsiHandler({final:"f"},function(Z){return G.hVPosition(Z)}),G._parser.registerCsiHandler({final:"g"},function(Z){return G.tabClear(Z)}),G._parser.registerCsiHandler({final:"h"},function(Z){return G.setMode(Z)}),G._parser.registerCsiHandler({prefix:"?",final:"h"},function(Z){return G.setModePrivate(Z)}),G._parser.registerCsiHandler({final:"l"},function(Z){return G.resetMode(Z)}),G._parser.registerCsiHandler({prefix:"?",final:"l"},function(Z){return G.resetModePrivate(Z)}),G._parser.registerCsiHandler({final:"m"},function(Z){return G.charAttributes(Z)}),G._parser.registerCsiHandler({final:"n"},function(Z){return G.deviceStatus(Z)}),G._parser.registerCsiHandler({prefix:"?",final:"n"},function(Z){return G.deviceStatusPrivate(Z)}),G._parser.registerCsiHandler({intermediates:"!",final:"p"},function(Z){return G.softReset(Z)}),G._parser.registerCsiHandler({intermediates:" ",final:"q"},function(Z){return G.setCursorStyle(Z)}),G._parser.registerCsiHandler({final:"r"},function(Z){return G.setScrollRegion(Z)}),G._parser.registerCsiHandler({final:"s"},function(Z){return G.saveCursor(Z)}),G._parser.registerCsiHandler({final:"t"},function(Z){return G.windowOptions(Z)}),G._parser.registerCsiHandler({final:"u"},function(Z){return G.restoreCursor(Z)}),G._parser.registerCsiHandler({intermediates:"'",final:"}"},function(Z){return G.insertColumns(Z)}),G._parser.registerCsiHandler({intermediates:"'",final:"~"},function(Z){return G.deleteColumns(Z)}),G._parser.setExecuteHandler(v.C0.BEL,function(){return G.bell()}),G._parser.setExecuteHandler(v.C0.LF,function(){return G.lineFeed()}),G._parser.setExecuteHandler(v.C0.VT,function(){return G.lineFeed()}),G._parser.setExecuteHandler(v.C0.FF,function(){return G.lineFeed()}),G._parser.setExecuteHandler(v.C0.CR,function(){return G.carriageReturn()}),G._parser.setExecuteHandler(v.C0.BS,function(){return G.backspace()}),G._parser.setExecuteHandler(v.C0.HT,function(){return G.tab()}),G._parser.setExecuteHandler(v.C0.SO,function(){return G.shiftOut()}),G._parser.setExecuteHandler(v.C0.SI,function(){return G.shiftIn()}),G._parser.setExecuteHandler(v.C1.IND,function(){return G.index()}),G._parser.setExecuteHandler(v.C1.NEL,function(){return G.nextLine()}),G._parser.setExecuteHandler(v.C1.HTS,function(){return G.tabSet()}),G._parser.registerOscHandler(0,new b.OscHandler(function(Z){return G.setTitle(Z),G.setIconName(Z),!0})),G._parser.registerOscHandler(1,new b.OscHandler(function(Z){return G.setIconName(Z)})),G._parser.registerOscHandler(2,new b.OscHandler(function(Z){return G.setTitle(Z)})),G._parser.registerOscHandler(4,new b.OscHandler(function(Z){return G.setOrReportIndexedColor(Z)})),G._parser.registerOscHandler(10,new b.OscHandler(function(Z){return G.setOrReportFgColor(Z)})),G._parser.registerOscHandler(11,new b.OscHandler(function(Z){return G.setOrReportBgColor(Z)})),G._parser.registerOscHandler(12,new b.OscHandler(function(Z){return G.setOrReportCursorColor(Z)})),G._parser.registerOscHandler(104,new b.OscHandler(function(Z){return G.restoreIndexedColor(Z)})),G._parser.registerOscHandler(110,new b.OscHandler(function(Z){return G.restoreFgColor(Z)})),G._parser.registerOscHandler(111,new b.OscHandler(function(Z){return G.restoreBgColor(Z)})),G._parser.registerOscHandler(112,new b.OscHandler(function(Z){return G.restoreCursorColor(Z)})),G._parser.registerEscHandler({final:"7"},function(){return G.saveCursor()}),G._parser.registerEscHandler({final:"8"},function(){return G.restoreCursor()}),G._parser.registerEscHandler({final:"D"},function(){return G.index()}),G._parser.registerEscHandler({final:"E"},function(){return G.nextLine()}),G._parser.registerEscHandler({final:"H"},function(){return G.tabSet()}),G._parser.registerEscHandler({final:"M"},function(){return G.reverseIndex()}),G._parser.registerEscHandler({final:"="},function(){return G.keypadApplicationMode()}),G._parser.registerEscHandler({final:">"},function(){return G.keypadNumericMode()}),G._parser.registerEscHandler({final:"c"},function(){return G.fullReset()}),G._parser.registerEscHandler({final:"n"},function(){return G.setgLevel(2)}),G._parser.registerEscHandler({final:"o"},function(){return G.setgLevel(3)}),G._parser.registerEscHandler({final:"|"},function(){return G.setgLevel(3)}),G._parser.registerEscHandler({final:"}"},function(){return G.setgLevel(2)}),G._parser.registerEscHandler({final:"~"},function(){return G.setgLevel(1)}),G._parser.registerEscHandler({intermediates:"%",final:"@"},function(){return G.selectDefaultCharset()}),G._parser.registerEscHandler({intermediates:"%",final:"G"},function(){return G.selectDefaultCharset()});var ie=function(ce){Y._parser.registerEscHandler({intermediates:"(",final:ce},function(){return G.selectCharset("("+ce)}),Y._parser.registerEscHandler({intermediates:")",final:ce},function(){return G.selectCharset(")"+ce)}),Y._parser.registerEscHandler({intermediates:"*",final:ce},function(){return G.selectCharset("*"+ce)}),Y._parser.registerEscHandler({intermediates:"+",final:ce},function(){return G.selectCharset("+"+ce)}),Y._parser.registerEscHandler({intermediates:"-",final:ce},function(){return G.selectCharset("-"+ce)}),Y._parser.registerEscHandler({intermediates:".",final:ce},function(){return G.selectCharset("."+ce)}),Y._parser.registerEscHandler({intermediates:"/",final:ce},function(){return G.selectCharset("/"+ce)})},Y=this;for(var ee in f.CHARSETS)ie(ee);return G._parser.registerEscHandler({intermediates:"#",final:"8"},function(){return G.screenAlignmentPattern()}),G._parser.setErrorHandler(function(Z){return G._logService.error("Parsing error: ",Z),Z}),G._parser.registerDcsHandler({intermediates:"$",final:"q"},new T(G._bufferService,G._coreService,G._logService,G._optionsService)),G}return g(F,$),Object.defineProperty(F.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),F.prototype.dispose=function(){$.prototype.dispose.call(this)},F.prototype._preserveStack=function(P,U,W,z){this._parseStack.paused=!0,this._parseStack.cursorStartX=P,this._parseStack.cursorStartY=U,this._parseStack.decodedLength=W,this._parseStack.position=z},F.prototype._logSlowResolvingAsync=function(P){this._logService.logLevel<=D.LogLevelEnum.WARN&&Promise.race([P,new Promise(function(U,W){return setTimeout(function(){return W("#SLOW_TIMEOUT")},5e3)})]).catch(function(U){if("#SLOW_TIMEOUT"!==U)throw U;console.warn("async parser handler taking longer than 5000 ms")})},F.prototype.parse=function(P,U){var W,z=this._activeBuffer.x,X=this._activeBuffer.y,K=0,Q=this._parseStack.paused;if(Q){if(W=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,U))return this._logSlowResolvingAsync(W),W;z=this._parseStack.cursorStartX,X=this._parseStack.cursorStartY,this._parseStack.paused=!1,P.length>M&&(K=this._parseStack.position+M)}if(this._logService.logLevel<=D.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof P?' "'+P+'"':' "'+Array.prototype.map.call(P,function(ie){return String.fromCharCode(ie)}).join("")+'"'),"string"==typeof P?P.split("").map(function(ie){return ie.charCodeAt(0)}):P),this._parseBuffer.length<P.length&&this._parseBuffer.length<M&&(this._parseBuffer=new Uint32Array(Math.min(P.length,M))),Q||this._dirtyRowService.clearRange(),P.length>M)for(var oe=K;oe<P.length;oe+=M){var re=oe+M<P.length?oe+M:P.length,G="string"==typeof P?this._stringDecoder.decode(P.substring(oe,re),this._parseBuffer):this._utf8Decoder.decode(P.subarray(oe,re),this._parseBuffer);if(W=this._parser.parse(this._parseBuffer,G))return this._preserveStack(z,X,G,oe),this._logSlowResolvingAsync(W),W}else if(!Q&&(G="string"==typeof P?this._stringDecoder.decode(P,this._parseBuffer):this._utf8Decoder.decode(P,this._parseBuffer),W=this._parser.parse(this._parseBuffer,G)))return this._preserveStack(z,X,G,0),this._logSlowResolvingAsync(W),W;this._activeBuffer.x===z&&this._activeBuffer.y===X||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},F.prototype.print=function(P,U,W){var z,X,K=this._charsetService.charset,Q=this._optionsService.rawOptions.screenReaderMode,oe=this._bufferService.cols,re=this._coreService.decPrivateModes.wraparound,G=this._coreService.modes.insertMode,ie=this._curAttrData,Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&W-U>0&&2===Y.getWidth(this._activeBuffer.x-1)&&Y.setCellFromCodePoint(this._activeBuffer.x-1,0,1,ie.fg,ie.bg,ie.extended);for(var ee=U;ee<W;++ee){if(X=this._unicodeService.wcwidth(z=P[ee]),z<127&&K){var Z=K[String.fromCharCode(z)];Z&&(z=Z.charCodeAt(0))}if(Q&&this._onA11yChar.fire((0,c.stringFromCodePoint)(z)),X||!this._activeBuffer.x){if(this._activeBuffer.x+X-1>=oe)if(re){for(;this._activeBuffer.x<oe;)Y.setCellFromCodePoint(this._activeBuffer.x++,0,1,ie.fg,ie.bg,ie.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=oe-1,2===X)continue;if(G&&(Y.insertCells(this._activeBuffer.x,X,this._activeBuffer.getNullCell(ie),ie),2===Y.getWidth(oe-1)&&Y.setCellFromCodePoint(oe-1,p.NULL_CELL_CODE,p.NULL_CELL_WIDTH,ie.fg,ie.bg,ie.extended)),Y.setCellFromCodePoint(this._activeBuffer.x++,z,X,ie.fg,ie.bg,ie.extended),X>0)for(;--X;)Y.setCellFromCodePoint(this._activeBuffer.x++,0,0,ie.fg,ie.bg,ie.extended)}else Y.getWidth(this._activeBuffer.x-1)?Y.addCodepointToCell(this._activeBuffer.x-1,z):Y.addCodepointToCell(this._activeBuffer.x-2,z)}W-U>0&&(Y.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<oe&&W-U>0&&0===Y.getWidth(this._activeBuffer.x)&&!Y.hasContent(this._activeBuffer.x)&&Y.setCellFromCodePoint(this._activeBuffer.x,0,1,ie.fg,ie.bg,ie.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},F.prototype.registerCsiHandler=function(P,U){var W=this;return this._parser.registerCsiHandler(P,"t"!==P.final||P.prefix||P.intermediates?U:function(z){return!C(z.params[0],W._optionsService.rawOptions.windowOptions)||U(z)})},F.prototype.registerDcsHandler=function(P,U){return this._parser.registerDcsHandler(P,new R.DcsHandler(U))},F.prototype.registerEscHandler=function(P,U){return this._parser.registerEscHandler(P,U)},F.prototype.registerOscHandler=function(P,U){return this._parser.registerOscHandler(P,new b.OscHandler(U))},F.prototype.bell=function(){return this._onRequestBell.fire(),!0},F.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},F.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},F.prototype.backspace=function(){var P;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===P?void 0:P.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);U.hasWidth(this._activeBuffer.x)&&!U.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},F.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var P=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-P),!0},F.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},F.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},F.prototype._restrictCursor=function(P){void 0===P&&(P=this._bufferService.cols-1),this._activeBuffer.x=Math.min(P,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},F.prototype._setCursor=function(P,U){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=P,this._activeBuffer.y=this._activeBuffer.scrollTop+U):(this._activeBuffer.x=P,this._activeBuffer.y=U),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},F.prototype._moveCursor=function(P,U){this._restrictCursor(),this._setCursor(this._activeBuffer.x+P,this._activeBuffer.y+U)},F.prototype.cursorUp=function(P){var U=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,U>=0?-Math.min(U,P.params[0]||1):-(P.params[0]||1)),!0},F.prototype.cursorDown=function(P){var U=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,U>=0?Math.min(U,P.params[0]||1):P.params[0]||1),!0},F.prototype.cursorForward=function(P){return this._moveCursor(P.params[0]||1,0),!0},F.prototype.cursorBackward=function(P){return this._moveCursor(-(P.params[0]||1),0),!0},F.prototype.cursorNextLine=function(P){return this.cursorDown(P),this._activeBuffer.x=0,!0},F.prototype.cursorPrecedingLine=function(P){return this.cursorUp(P),this._activeBuffer.x=0,!0},F.prototype.cursorCharAbsolute=function(P){return this._setCursor((P.params[0]||1)-1,this._activeBuffer.y),!0},F.prototype.cursorPosition=function(P){return this._setCursor(P.length>=2?(P.params[1]||1)-1:0,(P.params[0]||1)-1),!0},F.prototype.charPosAbsolute=function(P){return this._setCursor((P.params[0]||1)-1,this._activeBuffer.y),!0},F.prototype.hPositionRelative=function(P){return this._moveCursor(P.params[0]||1,0),!0},F.prototype.linePosAbsolute=function(P){return this._setCursor(this._activeBuffer.x,(P.params[0]||1)-1),!0},F.prototype.vPositionRelative=function(P){return this._moveCursor(0,P.params[0]||1),!0},F.prototype.hVPosition=function(P){return this.cursorPosition(P),!0},F.prototype.tabClear=function(P){var U=P.params[0];return 0===U?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===U&&(this._activeBuffer.tabs={}),!0},F.prototype.cursorForwardTab=function(P){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var U=P.params[0]||1;U--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},F.prototype.cursorBackwardTab=function(P){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var U=P.params[0]||1;U--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},F.prototype._eraseInBufferLine=function(P,U,W,z){void 0===z&&(z=!1);var X=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);X.replaceCells(U,W,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z&&(X.isWrapped=!1)},F.prototype._resetBufferLine=function(P){var U=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);U.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+P),U.isWrapped=!1},F.prototype.eraseInDisplay=function(P){var U;switch(this._restrictCursor(this._bufferService.cols),P.params[0]){case 0:for(this._dirtyRowService.markDirty(U=this._activeBuffer.y),this._eraseInBufferLine(U++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x);U<this._bufferService.rows;U++)this._resetBufferLine(U);this._dirtyRowService.markDirty(U);break;case 1:for(this._dirtyRowService.markDirty(U=this._activeBuffer.y),this._eraseInBufferLine(U,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(U+1).isWrapped=!1);U--;)this._resetBufferLine(U);this._dirtyRowService.markDirty(0);break;case 2:for(this._dirtyRowService.markDirty((U=this._bufferService.rows)-1);U--;)this._resetBufferLine(U);this._dirtyRowService.markDirty(0);break;case 3:var W=this._activeBuffer.lines.length-this._bufferService.rows;W>0&&(this._activeBuffer.lines.trimStart(W),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-W,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-W,0),this._onScroll.fire(0))}return!0},F.prototype.eraseInLine=function(P){switch(this._restrictCursor(this._bufferService.cols),P.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},F.prototype.insertLines=function(P){this._restrictCursor();var U=P.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var W=this._activeBuffer.ybase+this._activeBuffer.y,X=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;U--;)this._activeBuffer.lines.splice(X-1,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},F.prototype.deleteLines=function(P){this._restrictCursor();var U=P.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var W,z=this._activeBuffer.ybase+this._activeBuffer.y;for(W=this._bufferService.rows-1+this._activeBuffer.ybase-(W=this._bufferService.rows-1-this._activeBuffer.scrollBottom);U--;)this._activeBuffer.lines.splice(z,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},F.prototype.insertChars=function(P){this._restrictCursor();var U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return U&&(U.insertCells(this._activeBuffer.x,P.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},F.prototype.deleteChars=function(P){this._restrictCursor();var U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return U&&(U.deleteCells(this._activeBuffer.x,P.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},F.prototype.scrollUp=function(P){for(var U=P.params[0]||1;U--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},F.prototype.scrollDown=function(P){for(var U=P.params[0]||1;U--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(d.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},F.prototype.scrollLeft=function(P){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var U=P.params[0]||1,W=this._activeBuffer.scrollTop;W<=this._activeBuffer.scrollBottom;++W){var z=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);z.deleteCells(0,U,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},F.prototype.scrollRight=function(P){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var U=P.params[0]||1,W=this._activeBuffer.scrollTop;W<=this._activeBuffer.scrollBottom;++W){var z=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);z.insertCells(0,U,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},F.prototype.insertColumns=function(P){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var U=P.params[0]||1,W=this._activeBuffer.scrollTop;W<=this._activeBuffer.scrollBottom;++W){var z=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);z.insertCells(this._activeBuffer.x,U,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},F.prototype.deleteColumns=function(P){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var U=P.params[0]||1,W=this._activeBuffer.scrollTop;W<=this._activeBuffer.scrollBottom;++W){var z=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);z.deleteCells(this._activeBuffer.x,U,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),z.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},F.prototype.eraseChars=function(P){this._restrictCursor();var U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return U&&(U.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(P.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},F.prototype.repeatPrecedingCharacter=function(P){if(!this._parser.precedingCodepoint)return!0;for(var U=P.params[0]||1,W=new Uint32Array(U),z=0;z<U;++z)W[z]=this._parser.precedingCodepoint;return this.print(W,0,W.length),!0},F.prototype.sendDeviceAttributesPrimary=function(P){return P.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(v.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(v.C0.ESC+"[?6c")),!0},F.prototype.sendDeviceAttributesSecondary=function(P){return P.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(v.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(v.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(P.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(v.C0.ESC+"[>83;40003;0c")),!0},F.prototype._is=function(P){return 0===(this._optionsService.rawOptions.termName+"").indexOf(P)},F.prototype.setMode=function(P){for(var U=0;U<P.length;U++)4===P.params[U]&&(this._coreService.modes.insertMode=!0);return!0},F.prototype.setModePrivate=function(P){for(var U=0;U<P.length;U++)switch(P.params[U]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,f.DEFAULT_CHARSET),this._charsetService.setgCharset(1,f.DEFAULT_CHARSET),this._charsetService.setgCharset(2,f.DEFAULT_CHARSET),this._charsetService.setgCharset(3,f.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},F.prototype.resetMode=function(P){for(var U=0;U<P.length;U++)4===P.params[U]&&(this._coreService.modes.insertMode=!1);return!0},F.prototype.resetModePrivate=function(P){for(var U=0;U<P.length;U++)switch(P.params[U]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===P.params[U]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},F.prototype._updateAttrColor=function(P,U,W,z,X){return 2===U?(P|=50331648,P&=-16777216,P|=E.AttributeData.fromColorRGB([W,z,X])):5===U&&(P&=-50331904,P|=33554432|255&W),P},F.prototype._extractColor=function(P,U,W){var z=[0,0,-1,0,0,0],X=0,K=0;do{if(z[K+X]=P.params[U+K],P.hasSubParams(U+K)){var Q=P.getSubParams(U+K),oe=0;do{5===z[1]&&(X=1),z[K+oe+1+X]=Q[oe]}while(++oe<Q.length&&oe+K+1+X<z.length);break}if(5===z[1]&&K+X>=2||2===z[1]&&K+X>=5)break;z[1]&&(X=1)}while(++K+U<P.length&&K+X<z.length);for(oe=2;oe<z.length;++oe)-1===z[oe]&&(z[oe]=0);switch(z[0]){case 38:W.fg=this._updateAttrColor(W.fg,z[1],z[3],z[4],z[5]);break;case 48:W.bg=this._updateAttrColor(W.bg,z[1],z[3],z[4],z[5]);break;case 58:W.extended=W.extended.clone(),W.extended.underlineColor=this._updateAttrColor(W.extended.underlineColor,z[1],z[3],z[4],z[5])}return K},F.prototype._processUnderline=function(P,U){U.extended=U.extended.clone(),(!~P||P>5)&&(P=1),U.extended.underlineStyle=P,U.fg|=268435456,0===P&&(U.fg&=-268435457),U.updateExtended()},F.prototype.charAttributes=function(P){if(1===P.length&&0===P.params[0])return this._curAttrData.fg=d.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=d.DEFAULT_ATTR_DATA.bg,!0;for(var U,W=P.length,z=this._curAttrData,X=0;X<W;X++)(U=P.params[X])>=30&&U<=37?(z.fg&=-50331904,z.fg|=16777216|U-30):U>=40&&U<=47?(z.bg&=-50331904,z.bg|=16777216|U-40):U>=90&&U<=97?(z.fg&=-50331904,z.fg|=16777224|U-90):U>=100&&U<=107?(z.bg&=-50331904,z.bg|=16777224|U-100):0===U?(z.fg=d.DEFAULT_ATTR_DATA.fg,z.bg=d.DEFAULT_ATTR_DATA.bg):1===U?z.fg|=134217728:3===U?z.bg|=67108864:4===U?(z.fg|=268435456,this._processUnderline(P.hasSubParams(X)?P.getSubParams(X)[0]:1,z)):5===U?z.fg|=536870912:7===U?z.fg|=67108864:8===U?z.fg|=1073741824:9===U?z.fg|=2147483648:2===U?z.bg|=134217728:21===U?this._processUnderline(2,z):22===U?(z.fg&=-134217729,z.bg&=-134217729):23===U?z.bg&=-67108865:24===U?z.fg&=-268435457:25===U?z.fg&=-536870913:27===U?z.fg&=-67108865:28===U?z.fg&=-1073741825:29===U?z.fg&=2147483647:39===U?(z.fg&=-67108864,z.fg|=16777215&d.DEFAULT_ATTR_DATA.fg):49===U?(z.bg&=-67108864,z.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):38===U||48===U||58===U?X+=this._extractColor(P,X,z):59===U?(z.extended=z.extended.clone(),z.extended.underlineColor=-1,z.updateExtended()):100===U?(z.fg&=-67108864,z.fg|=16777215&d.DEFAULT_ATTR_DATA.fg,z.bg&=-67108864,z.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",U);return!0},F.prototype.deviceStatus=function(P){switch(P.params[0]){case 5:this._coreService.triggerDataEvent(v.C0.ESC+"[0n");break;case 6:this._coreService.triggerDataEvent(v.C0.ESC+"["+(this._activeBuffer.y+1)+";"+(this._activeBuffer.x+1)+"R")}return!0},F.prototype.deviceStatusPrivate=function(P){return 6===P.params[0]&&this._coreService.triggerDataEvent(v.C0.ESC+"[?"+(this._activeBuffer.y+1)+";"+(this._activeBuffer.x+1)+"R"),!0},F.prototype.softReset=function(P){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},F.prototype.setCursorStyle=function(P){var U=P.params[0]||1;switch(U){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=U%2==1,!0},F.prototype.setScrollRegion=function(P){var U,W=P.params[0]||1;return(P.length<2||(U=P.params[1])>this._bufferService.rows||0===U)&&(U=this._bufferService.rows),U>W&&(this._activeBuffer.scrollTop=W-1,this._activeBuffer.scrollBottom=U-1,this._setCursor(0,0)),!0},F.prototype.windowOptions=function(P){if(!C(P.params[0],this._optionsService.rawOptions.windowOptions))return!0;var U=P.length>1?P.params[1]:0;switch(P.params[0]){case 14:2!==U&&this._onRequestWindowsOptionsReport.fire(y.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(y.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(v.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:0!==U&&2!==U||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==U&&1!==U||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==U&&2!==U||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==U&&1!==U||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},F.prototype.saveCursor=function(P){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},F.prototype.restoreCursor=function(P){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},F.prototype.setTitle=function(P){return this._windowTitle=P,this._onTitleChange.fire(P),!0},F.prototype.setIconName=function(P){return this._iconName=P,!0},F.prototype.setOrReportIndexedColor=function(P){for(var U=[],W=P.split(";");W.length>1;){var z=W.shift(),X=W.shift();if(/^\d+$/.exec(z)){var K=parseInt(z);if(0<=K&&K<256)if("?"===X)U.push({type:0,index:K});else{var Q=(0,k.parseColor)(X);Q&&U.push({type:1,index:K,color:Q})}}}return U.length&&this._onColor.fire(U),!0},F.prototype._setOrReportSpecialColor=function(P,U){for(var W=P.split(";"),z=0;z<W.length&&!(U>=this._specialColors.length);++z,++U)if("?"===W[z])this._onColor.fire([{type:0,index:this._specialColors[U]}]);else{var X=(0,k.parseColor)(W[z]);X&&this._onColor.fire([{type:1,index:this._specialColors[U],color:X}])}return!0},F.prototype.setOrReportFgColor=function(P){return this._setOrReportSpecialColor(P,0)},F.prototype.setOrReportBgColor=function(P){return this._setOrReportSpecialColor(P,1)},F.prototype.setOrReportCursorColor=function(P){return this._setOrReportSpecialColor(P,2)},F.prototype.restoreIndexedColor=function(P){if(!P)return this._onColor.fire([{type:2}]),!0;for(var U=[],W=P.split(";"),z=0;z<W.length;++z)if(/^\d+$/.exec(W[z])){var X=parseInt(W[z]);0<=X&&X<256&&U.push({type:2,index:X})}return U.length&&this._onColor.fire(U),!0},F.prototype.restoreFgColor=function(P){return this._onColor.fire([{type:2,index:256}]),!0},F.prototype.restoreBgColor=function(P){return this._onColor.fire([{type:2,index:257}]),!0},F.prototype.restoreCursorColor=function(P){return this._onColor.fire([{type:2,index:258}]),!0},F.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},F.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},F.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},F.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,f.DEFAULT_CHARSET),!0},F.prototype.selectCharset=function(P){return 2!==P.length?(this.selectDefaultCharset(),!0):("/"===P[0]||this._charsetService.setgCharset(S[P[0]],f.CHARSETS[P[1]]||f.DEFAULT_CHARSET),!0)},F.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},F.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},F.prototype.reverseIndex=function(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0},F.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},F.prototype.reset=function(){this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone()},F.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},F.prototype.setgLevel=function(P){return this._charsetService.setgLevel(P),!0},F.prototype.screenAlignmentPattern=function(){var P=new _.CellData;P.content=1<<22|"E".charCodeAt(0),P.fg=this._curAttrData.fg,P.bg=this._curAttrData.bg,this._setCursor(0,0);for(var U=0;U<this._bufferService.rows;++U){var z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+U);z&&(z.fill(P),z.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},F}(a.Disposable);x.InputHandler=I},844:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.getDisposeArrayDisposable=x.disposeArray=x.Disposable=void 0;var O=function(){function g(){this._disposables=[],this._isDisposed=!1}return g.prototype.dispose=function(){this._isDisposed=!0;for(var y=0,v=this._disposables;y<v.length;y++)v[y].dispose();this._disposables.length=0},g.prototype.register=function(y){return this._disposables.push(y),y},g.prototype.unregister=function(y){var v=this._disposables.indexOf(y);-1!==v&&this._disposables.splice(v,1)},g}();function w(g){for(var y=0,v=g;y<v.length;y++)v[y].dispose();g.length=0}x.Disposable=O,x.disposeArray=w,x.getDisposeArrayDisposable=function(g){return{dispose:function(){return w(g)}}}},6114:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.isLinux=x.isWindows=x.isIphone=x.isIpad=x.isMac=x.isSafari=x.isLegacyEdge=x.isFirefox=void 0;var O="undefined"==typeof navigator,w=O?"node":navigator.userAgent,g=O?"node":navigator.platform;x.isFirefox=w.includes("Firefox"),x.isLegacyEdge=w.includes("Edge"),x.isSafari=/^((?!chrome|android).)*safari/i.test(w),x.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(g),x.isIpad="iPad"===g,x.isIphone="iPhone"===g,x.isWindows=["Windows","Win16","Win32","WinCE"].includes(g),x.isLinux=g.indexOf("Linux")>=0},8273:function(H,x){function O(w,g,y,v){if(void 0===y&&(y=0),void 0===v&&(v=w.length),y>=w.length)return w;v=v>=w.length?w.length:(w.length+v)%w.length;for(var f=y=(w.length+y)%w.length;f<v;++f)w[f]=g;return w}Object.defineProperty(x,"__esModule",{value:!0}),x.concat=x.fillFallback=x.fill=void 0,x.fill=function(w,g,y,v){return w.fill?w.fill(g,y,v):O(w,g,y,v)},x.fillFallback=O,x.concat=function(w,g){var y=new w.constructor(w.length+g.length);return y.set(w),y.set(g,w.length),y}},9282:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.updateWindowsModeWrappedState=void 0;var w=O(643);x.updateWindowsModeWrappedState=function(g){var y=g.buffer.lines.get(g.buffer.ybase+g.buffer.y-1),v=null==y?void 0:y.get(g.cols-1),f=g.buffer.lines.get(g.buffer.ybase+g.buffer.y);f&&v&&(f.isWrapped=v[w.CHAR_DATA_CODE_INDEX]!==w.NULL_CELL_CODE&&v[w.CHAR_DATA_CODE_INDEX]!==w.WHITESPACE_CELL_CODE)}},3734:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.ExtendedAttrs=x.AttributeData=void 0;var O=function(){function g(){this.fg=0,this.bg=0,this.extended=new w}return g.toColorRGB=function(y){return[y>>>16&255,y>>>8&255,255&y]},g.fromColorRGB=function(y){return(255&y[0])<<16|(255&y[1])<<8|255&y[2]},g.prototype.clone=function(){var y=new g;return y.fg=this.fg,y.bg=this.bg,y.extended=this.extended.clone(),y},g.prototype.isInverse=function(){return 67108864&this.fg},g.prototype.isBold=function(){return 134217728&this.fg},g.prototype.isUnderline=function(){return 268435456&this.fg},g.prototype.isBlink=function(){return 536870912&this.fg},g.prototype.isInvisible=function(){return 1073741824&this.fg},g.prototype.isItalic=function(){return 67108864&this.bg},g.prototype.isDim=function(){return 134217728&this.bg},g.prototype.isStrikethrough=function(){return 2147483648&this.fg},g.prototype.getFgColorMode=function(){return 50331648&this.fg},g.prototype.getBgColorMode=function(){return 50331648&this.bg},g.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},g.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},g.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},g.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},g.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},g.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},g.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},g.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},g.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},g.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},g.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},g.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},g.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},g.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()},g.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()},g.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()},g.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},g}();x.AttributeData=O;var w=function(){function g(y,v){void 0===y&&(y=0),void 0===v&&(v=-1),this.underlineStyle=y,this.underlineColor=v}return g.prototype.clone=function(){return new g(this.underlineStyle,this.underlineColor)},g.prototype.isEmpty=function(){return 0===this.underlineStyle},g}();x.ExtendedAttrs=w},9092:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.BufferStringIterator=x.Buffer=x.MAX_BUFFER_SIZE=void 0;var w=O(6349),g=O(8437),y=O(511),v=O(643),f=O(4634),s=O(4863),a=O(7116),u=O(3734);x.MAX_BUFFER_SIZE=4294967295;var c=function(){function h(p,_,E){this._hasScrollback=p,this._optionsService=_,this._bufferService=E,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=a.DEFAULT_CHARSET,this.markers=[],this._nullCell=y.CellData.fromCharData([0,v.NULL_CELL_CHAR,v.NULL_CELL_WIDTH,v.NULL_CELL_CODE]),this._whitespaceCell=y.CellData.fromCharData([0,v.WHITESPACE_CELL_CHAR,v.WHITESPACE_CELL_WIDTH,v.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new w.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return h.prototype.getNullCell=function(p){return p?(this._nullCell.fg=p.fg,this._nullCell.bg=p.bg,this._nullCell.extended=p.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new u.ExtendedAttrs),this._nullCell},h.prototype.getWhitespaceCell=function(p){return p?(this._whitespaceCell.fg=p.fg,this._whitespaceCell.bg=p.bg,this._whitespaceCell.extended=p.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new u.ExtendedAttrs),this._whitespaceCell},h.prototype.getBlankLine=function(p,_){return new g.BufferLine(this._bufferService.cols,this.getNullCell(p),_)},Object.defineProperty(h.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isCursorInViewport",{get:function(){var _=this.ybase+this.y-this.ydisp;return _>=0&&_<this._rows},enumerable:!1,configurable:!0}),h.prototype._getCorrectBufferLength=function(p){if(!this._hasScrollback)return p;var _=p+this._optionsService.rawOptions.scrollback;return _>x.MAX_BUFFER_SIZE?x.MAX_BUFFER_SIZE:_},h.prototype.fillViewportRows=function(p){if(0===this.lines.length){void 0===p&&(p=g.DEFAULT_ATTR_DATA);for(var _=this._rows;_--;)this.lines.push(this.getBlankLine(p))}},h.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new w.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},h.prototype.resize=function(p,_){var E=this.getNullCell(g.DEFAULT_ATTR_DATA),D=this._getCorrectBufferLength(_);if(D>this.lines.maxLength&&(this.lines.maxLength=D),this.lines.length>0){if(this._cols<p)for(var b=0;b<this.lines.length;b++)this.lines.get(b).resize(p,E);var R=0;if(this._rows<_)for(var k=this._rows;k<_;k++)this.lines.length<_+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new g.BufferLine(p,E)):this.ybase>0&&this.lines.length<=this.ybase+this.y+R+1?(this.ybase--,R++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(p,E)));else for(k=this._rows;k>_;k--)this.lines.length>_+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(D<this.lines.maxLength){var S=this.lines.length-D;S>0&&(this.lines.trimStart(S),this.ybase=Math.max(this.ybase-S,0),this.ydisp=Math.max(this.ydisp-S,0),this.savedY=Math.max(this.savedY-S,0)),this.lines.maxLength=D}this.x=Math.min(this.x,p-1),this.y=Math.min(this.y,_-1),R&&(this.y+=R),this.savedX=Math.min(this.savedX,p-1),this.scrollTop=0}if(this.scrollBottom=_-1,this._isReflowEnabled&&(this._reflow(p,_),this._cols>p))for(b=0;b<this.lines.length;b++)this.lines.get(b).resize(p,E);this._cols=p,this._rows=_},Object.defineProperty(h.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode},enumerable:!1,configurable:!0}),h.prototype._reflow=function(p,_){this._cols!==p&&(p>this._cols?this._reflowLarger(p,_):this._reflowSmaller(p,_))},h.prototype._reflowLarger=function(p,_){var E=(0,f.reflowLargerGetLinesToRemove)(this.lines,this._cols,p,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(E.length>0){var D=(0,f.reflowLargerCreateNewLayout)(this.lines,E);(0,f.reflowLargerApplyNewLayout)(this.lines,D.layout),this._reflowLargerAdjustViewport(p,_,D.countRemoved)}},h.prototype._reflowLargerAdjustViewport=function(p,_,E){for(var D=this.getNullCell(g.DEFAULT_ATTR_DATA),b=E;b-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<_&&this.lines.push(new g.BufferLine(p,D))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-E,0)},h.prototype._reflowSmaller=function(p,_){for(var E=this.getNullCell(g.DEFAULT_ATTR_DATA),D=[],b=0,R=this.lines.length-1;R>=0;R--){var k=this.lines.get(R);if(!(!k||!k.isWrapped&&k.getTrimmedLength()<=p)){for(var S=[k];k.isWrapped&&R>0;)k=this.lines.get(--R),S.unshift(k);var M=this.ybase+this.y;if(!(M>=R&&M<R+S.length)){var C,T=S[S.length-1].getTrimmedLength(),I=(0,f.reflowSmallerGetNewLineLengths)(S,this._cols,p),$=I.length-S.length;C=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+$):Math.max(0,this.lines.length-this.lines.maxLength+$);for(var F=[],P=0;P<$;P++){var U=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);F.push(U)}F.length>0&&(D.push({start:R+S.length+b,newLines:F}),b+=F.length),S.push.apply(S,F);var W=I.length-1,z=I[W];0===z&&(z=I[--W]);for(var X=S.length-$-1,K=T;X>=0;){var Q=Math.min(K,z);if(void 0===S[W])break;if(S[W].copyCellsFrom(S[X],K-Q,z-Q,Q,!0),0==(z-=Q)&&(z=I[--W]),0==(K-=Q)){X--;var oe=Math.max(X,0);K=(0,f.getWrappedLineTrimmedLength)(S,oe,this._cols)}}for(P=0;P<S.length;P++)I[P]<p&&S[P].setCell(I[P],E);for(var re=$-C;re-- >0;)0===this.ybase?this.y<_-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+b)-_&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+$,this.ybase+_-1)}}}if(D.length>0){var G=[],ie=[];for(P=0;P<this.lines.length;P++)ie.push(this.lines.get(P));var Y=this.lines.length,ee=Y-1,Z=0,ce=D[Z];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+b);var ve=0;for(P=Math.min(this.lines.maxLength-1,Y+b-1);P>=0;P--)if(ce&&ce.start>ee+ve){for(var ye=ce.newLines.length-1;ye>=0;ye--)this.lines.set(P--,ce.newLines[ye]);P++,G.push({index:ee+1,amount:ce.newLines.length}),ve+=ce.newLines.length,ce=D[++Z]}else this.lines.set(P,ie[ee--]);var Ce=0;for(P=G.length-1;P>=0;P--)G[P].index+=Ce,this.lines.onInsertEmitter.fire(G[P]),Ce+=G[P].amount;var Pe=Math.max(0,Y+b-this.lines.maxLength);Pe>0&&this.lines.onTrimEmitter.fire(Pe)}},h.prototype.stringIndexToBufferIndex=function(p,_,E){for(void 0===E&&(E=!1);_;){var D=this.lines.get(p);if(!D)return[-1,-1];for(var b=E?D.getTrimmedLength():D.length,R=0;R<b;++R)if(D.get(R)[v.CHAR_DATA_WIDTH_INDEX]&&(_-=D.get(R)[v.CHAR_DATA_CHAR_INDEX].length||1),_<0)return[p,R];p++}return[p,0]},h.prototype.translateBufferLineToString=function(p,_,E,D){void 0===E&&(E=0);var b=this.lines.get(p);return b?b.translateToString(_,E,D):""},h.prototype.getWrappedRangeForLine=function(p){for(var _=p,E=p;_>0&&this.lines.get(_).isWrapped;)_--;for(;E+1<this.lines.length&&this.lines.get(E+1).isWrapped;)E++;return{first:_,last:E}},h.prototype.setupTabStops=function(p){for(null!=p?this.tabs[p]||(p=this.prevStop(p)):(this.tabs={},p=0);p<this._cols;p+=this._optionsService.rawOptions.tabStopWidth)this.tabs[p]=!0},h.prototype.prevStop=function(p){for(null==p&&(p=this.x);!this.tabs[--p]&&p>0;);return p>=this._cols?this._cols-1:p<0?0:p},h.prototype.nextStop=function(p){for(null==p&&(p=this.x);!this.tabs[++p]&&p<this._cols;);return p>=this._cols?this._cols-1:p<0?0:p},h.prototype.clearMarkers=function(p){if(this._isClearing=!0,void 0!==p)for(var _=0;_<this.markers.length;_++)this.markers[_].line===p&&(this.markers[_].dispose(),this.markers.splice(_--,1));else{for(var E=0,D=this.markers;E<D.length;E++)D[E].dispose();this.markers=[]}this._isClearing=!1},h.prototype.addMarker=function(p){var _=this,E=new s.Marker(p);return this.markers.push(E),E.register(this.lines.onTrim(function(D){E.line-=D,E.line<0&&E.dispose()})),E.register(this.lines.onInsert(function(D){E.line>=D.index&&(E.line+=D.amount)})),E.register(this.lines.onDelete(function(D){E.line>=D.index&&E.line<D.index+D.amount&&E.dispose(),E.line>D.index&&(E.line-=D.amount)})),E.register(E.onDispose(function(){return _._removeMarker(E)})),E},h.prototype._removeMarker=function(p){this._isClearing||this.markers.splice(this.markers.indexOf(p),1)},h.prototype.iterator=function(p,_,E,D,b){return new d(this,p,_,E,D,b)},h}();x.Buffer=c;var d=function(){function h(p,_,E,D,b,R){void 0===E&&(E=0),void 0===D&&(D=p.lines.length),void 0===b&&(b=0),void 0===R&&(R=0),this._buffer=p,this._trimRight=_,this._startIndex=E,this._endIndex=D,this._startOverscan=b,this._endOverscan=R,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return h.prototype.hasNext=function(){return this._current<this._endIndex},h.prototype.next=function(){var p=this._buffer.getWrappedRangeForLine(this._current);p.first<this._startIndex-this._startOverscan&&(p.first=this._startIndex-this._startOverscan),p.last>this._endIndex+this._endOverscan&&(p.last=this._endIndex+this._endOverscan),p.first=Math.max(p.first,0),p.last=Math.min(p.last,this._buffer.lines.length);for(var _="",E=p.first;E<=p.last;++E)_+=this._buffer.translateBufferLineToString(E,this._trimRight);return this._current=p.last+1,{range:p,content:_}},h}();x.BufferStringIterator=d},8437:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.BufferLine=x.DEFAULT_ATTR_DATA=void 0;var w=O(482),g=O(643),y=O(511),v=O(3734);x.DEFAULT_ATTR_DATA=Object.freeze(new v.AttributeData);var f=function(){function s(a,u,c){void 0===c&&(c=!1),this.isWrapped=c,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*a);for(var d=u||y.CellData.fromCharData([0,g.NULL_CELL_CHAR,g.NULL_CELL_WIDTH,g.NULL_CELL_CODE]),h=0;h<a;++h)this.setCell(h,d);this.length=a}return s.prototype.get=function(a){var u=this._data[3*a+0],c=2097151&u;return[this._data[3*a+1],2097152&u?this._combined[a]:c?(0,w.stringFromCodePoint)(c):"",u>>22,2097152&u?this._combined[a].charCodeAt(this._combined[a].length-1):c]},s.prototype.set=function(a,u){this._data[3*a+1]=u[g.CHAR_DATA_ATTR_INDEX],u[g.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[a]=u[1],this._data[3*a+0]=2097152|a|u[g.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*a+0]=u[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|u[g.CHAR_DATA_WIDTH_INDEX]<<22},s.prototype.getWidth=function(a){return this._data[3*a+0]>>22},s.prototype.hasWidth=function(a){return 12582912&this._data[3*a+0]},s.prototype.getFg=function(a){return this._data[3*a+1]},s.prototype.getBg=function(a){return this._data[3*a+2]},s.prototype.hasContent=function(a){return 4194303&this._data[3*a+0]},s.prototype.getCodePoint=function(a){var u=this._data[3*a+0];return 2097152&u?this._combined[a].charCodeAt(this._combined[a].length-1):2097151&u},s.prototype.isCombined=function(a){return 2097152&this._data[3*a+0]},s.prototype.getString=function(a){var u=this._data[3*a+0];return 2097152&u?this._combined[a]:2097151&u?(0,w.stringFromCodePoint)(2097151&u):""},s.prototype.loadCell=function(a,u){var c=3*a;return u.content=this._data[c+0],u.fg=this._data[c+1],u.bg=this._data[c+2],2097152&u.content&&(u.combinedData=this._combined[a]),268435456&u.bg&&(u.extended=this._extendedAttrs[a]),u},s.prototype.setCell=function(a,u){2097152&u.content&&(this._combined[a]=u.combinedData),268435456&u.bg&&(this._extendedAttrs[a]=u.extended),this._data[3*a+0]=u.content,this._data[3*a+1]=u.fg,this._data[3*a+2]=u.bg},s.prototype.setCellFromCodePoint=function(a,u,c,d,h,p){268435456&h&&(this._extendedAttrs[a]=p),this._data[3*a+0]=u|c<<22,this._data[3*a+1]=d,this._data[3*a+2]=h},s.prototype.addCodepointToCell=function(a,u){var c=this._data[3*a+0];2097152&c?this._combined[a]+=(0,w.stringFromCodePoint)(u):(2097151&c?(this._combined[a]=(0,w.stringFromCodePoint)(2097151&c)+(0,w.stringFromCodePoint)(u),c&=-2097152,c|=2097152):c=u|1<<22,this._data[3*a+0]=c)},s.prototype.insertCells=function(a,u,c,d){if((a%=this.length)&&2===this.getWidth(a-1)&&this.setCellFromCodePoint(a-1,0,1,(null==d?void 0:d.fg)||0,(null==d?void 0:d.bg)||0,(null==d?void 0:d.extended)||new v.ExtendedAttrs),u<this.length-a){for(var h=new y.CellData,p=this.length-a-u-1;p>=0;--p)this.setCell(a+u+p,this.loadCell(a+p,h));for(p=0;p<u;++p)this.setCell(a+p,c)}else for(p=a;p<this.length;++p)this.setCell(p,c);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==d?void 0:d.fg)||0,(null==d?void 0:d.bg)||0,(null==d?void 0:d.extended)||new v.ExtendedAttrs)},s.prototype.deleteCells=function(a,u,c,d){if(u<this.length-(a%=this.length)){for(var h=new y.CellData,p=0;p<this.length-a-u;++p)this.setCell(a+p,this.loadCell(a+u+p,h));for(p=this.length-u;p<this.length;++p)this.setCell(p,c)}else for(p=a;p<this.length;++p)this.setCell(p,c);a&&2===this.getWidth(a-1)&&this.setCellFromCodePoint(a-1,0,1,(null==d?void 0:d.fg)||0,(null==d?void 0:d.bg)||0,(null==d?void 0:d.extended)||new v.ExtendedAttrs),0!==this.getWidth(a)||this.hasContent(a)||this.setCellFromCodePoint(a,0,1,(null==d?void 0:d.fg)||0,(null==d?void 0:d.bg)||0,(null==d?void 0:d.extended)||new v.ExtendedAttrs)},s.prototype.replaceCells=function(a,u,c,d){for(a&&2===this.getWidth(a-1)&&this.setCellFromCodePoint(a-1,0,1,(null==d?void 0:d.fg)||0,(null==d?void 0:d.bg)||0,(null==d?void 0:d.extended)||new v.ExtendedAttrs),u<this.length&&2===this.getWidth(u-1)&&this.setCellFromCodePoint(u,0,1,(null==d?void 0:d.fg)||0,(null==d?void 0:d.bg)||0,(null==d?void 0:d.extended)||new v.ExtendedAttrs);a<u&&a<this.length;)this.setCell(a++,c)},s.prototype.resize=function(a,u){if(a!==this.length){if(a>this.length){var c=new Uint32Array(3*a);this.length&&c.set(3*a<this._data.length?this._data.subarray(0,3*a):this._data),this._data=c;for(var d=this.length;d<a;++d)this.setCell(d,u)}else if(a){(c=new Uint32Array(3*a)).set(this._data.subarray(0,3*a)),this._data=c;var h=Object.keys(this._combined);for(d=0;d<h.length;d++){var p=parseInt(h[d],10);p>=a&&delete this._combined[p]}}else this._data=new Uint32Array(0),this._combined={};this.length=a}},s.prototype.fill=function(a){this._combined={},this._extendedAttrs={};for(var u=0;u<this.length;++u)this.setCell(u,a)},s.prototype.copyFrom=function(a){for(var u in this.length!==a.length?this._data=new Uint32Array(a._data):this._data.set(a._data),this.length=a.length,this._combined={},a._combined)this._combined[u]=a._combined[u];for(var u in this._extendedAttrs={},a._extendedAttrs)this._extendedAttrs[u]=a._extendedAttrs[u];this.isWrapped=a.isWrapped},s.prototype.clone=function(){var a=new s(0);for(var u in a._data=new Uint32Array(this._data),a.length=this.length,this._combined)a._combined[u]=this._combined[u];for(var u in this._extendedAttrs)a._extendedAttrs[u]=this._extendedAttrs[u];return a.isWrapped=this.isWrapped,a},s.prototype.getTrimmedLength=function(){for(var a=this.length-1;a>=0;--a)if(4194303&this._data[3*a+0])return a+(this._data[3*a+0]>>22);return 0},s.prototype.copyCellsFrom=function(a,u,c,d,h){var p=a._data;if(h)for(var _=d-1;_>=0;_--)for(var E=0;E<3;E++)this._data[3*(c+_)+E]=p[3*(u+_)+E];else for(_=0;_<d;_++)for(E=0;E<3;E++)this._data[3*(c+_)+E]=p[3*(u+_)+E];var D=Object.keys(a._combined);for(E=0;E<D.length;E++){var b=parseInt(D[E],10);b>=u&&(this._combined[b-u+c]=a._combined[b])}},s.prototype.translateToString=function(a,u,c){void 0===a&&(a=!1),void 0===u&&(u=0),void 0===c&&(c=this.length),a&&(c=Math.min(c,this.getTrimmedLength()));for(var d="";u<c;){var h=this._data[3*u+0],p=2097151&h;d+=2097152&h?this._combined[u]:p?(0,w.stringFromCodePoint)(p):g.WHITESPACE_CELL_CHAR,u+=h>>22||1}return d},s}();x.BufferLine=f},4841:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.getRangeLength=void 0,x.getRangeLength=function(O,w){if(O.start.y>O.end.y)throw new Error("Buffer range end ("+O.end.x+", "+O.end.y+") cannot be before start ("+O.start.x+", "+O.start.y+")");return w*(O.end.y-O.start.y)+(O.end.x-O.start.x+1)}},4634:function(H,x){function O(w,g,y){if(g===w.length-1)return w[g].getTrimmedLength();var v=!w[g].hasContent(y-1)&&1===w[g].getWidth(y-1),f=2===w[g+1].getWidth(0);return v&&f?y-1:y}Object.defineProperty(x,"__esModule",{value:!0}),x.getWrappedLineTrimmedLength=x.reflowSmallerGetNewLineLengths=x.reflowLargerApplyNewLayout=x.reflowLargerCreateNewLayout=x.reflowLargerGetLinesToRemove=void 0,x.reflowLargerGetLinesToRemove=function(w,g,y,v,f){for(var s=[],a=0;a<w.length-1;a++){var u=a,c=w.get(++u);if(c.isWrapped){for(var d=[w.get(a)];u<w.length&&c.isWrapped;)d.push(c),c=w.get(++u);if(v>=a&&v<u)a+=d.length-1;else{for(var h=0,p=O(d,h,g),_=1,E=0;_<d.length;){var D=O(d,_,g),k=Math.min(D-E,y-p);d[h].copyCellsFrom(d[_],E,p,k,!1),(p+=k)===y&&(h++,p=0),(E+=k)===D&&(_++,E=0),0===p&&0!==h&&2===d[h-1].getWidth(y-1)&&(d[h].copyCellsFrom(d[h-1],y-1,p++,1,!1),d[h-1].setCell(y-1,f))}d[h].replaceCells(p,y,f);for(var S=0,M=d.length-1;M>0&&(M>h||0===d[M].getTrimmedLength());M--)S++;S>0&&(s.push(a+d.length-S),s.push(S)),a+=d.length-1}}}return s},x.reflowLargerCreateNewLayout=function(w,g){for(var y=[],v=0,f=g[v],s=0,a=0;a<w.length;a++)if(f===a){var u=g[++v];w.onDeleteEmitter.fire({index:a-s,amount:u}),a+=u-1,s+=u,f=g[++v]}else y.push(a);return{layout:y,countRemoved:s}},x.reflowLargerApplyNewLayout=function(w,g){for(var y=[],v=0;v<g.length;v++)y.push(w.get(g[v]));for(v=0;v<y.length;v++)w.set(v,y[v]);w.length=g.length},x.reflowSmallerGetNewLineLengths=function(w,g,y){for(var v=[],f=w.map(function(p,_){return O(w,_,g)}).reduce(function(p,_){return p+_}),s=0,a=0,u=0;u<f;){if(f-u<y){v.push(f-u);break}s+=y;var c=O(w,a,g);s>c&&(s-=c,a++);var d=2===w[a].getWidth(s-1);d&&s--;var h=d?y-1:y;v.push(h),u+=h}return v},x.getWrappedLineTrimmedLength=O},5295:function(H,x,O){var w,g=this&&this.__extends||(w=function(a,u){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(c[h]=d[h])})(a,u)},function(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function u(){this.constructor=s}w(s,a),s.prototype=null===a?Object.create(a):(u.prototype=a.prototype,new u)});Object.defineProperty(x,"__esModule",{value:!0}),x.BufferSet=void 0;var y=O(9092),v=O(8460),f=function(s){function a(u,c){var d=s.call(this)||this;return d._optionsService=u,d._bufferService=c,d._onBufferActivate=d.register(new v.EventEmitter),d.reset(),d}return g(a,s),Object.defineProperty(a.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),a.prototype.reset=function(){this._normal=new y.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new y.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(a.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),a.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},a.prototype.activateAltBuffer=function(u){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(u),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},a.prototype.resize=function(u,c){this._normal.resize(u,c),this._alt.resize(u,c)},a.prototype.setupTabStops=function(u){this._normal.setupTabStops(u),this._alt.setupTabStops(u)},a}(O(844).Disposable);x.BufferSet=f},511:function(H,x,O){var w,g=this&&this.__extends||(w=function(u,c){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])})(u,c)},function(a,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function c(){this.constructor=a}w(a,u),a.prototype=null===u?Object.create(u):(c.prototype=u.prototype,new c)});Object.defineProperty(x,"__esModule",{value:!0}),x.CellData=void 0;var y=O(482),v=O(643),f=O(3734),s=function(a){function u(){var c=null!==a&&a.apply(this,arguments)||this;return c.content=0,c.fg=0,c.bg=0,c.extended=new f.ExtendedAttrs,c.combinedData="",c}return g(u,a),u.fromCharData=function(c){var d=new u;return d.setFromCharData(c),d},u.prototype.isCombined=function(){return 2097152&this.content},u.prototype.getWidth=function(){return this.content>>22},u.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,y.stringFromCodePoint)(2097151&this.content):""},u.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},u.prototype.setFromCharData=function(c){this.fg=c[v.CHAR_DATA_ATTR_INDEX],this.bg=0;var d=!1;if(c[v.CHAR_DATA_CHAR_INDEX].length>2)d=!0;else if(2===c[v.CHAR_DATA_CHAR_INDEX].length){var h=c[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=h&&h<=56319){var p=c[v.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=p&&p<=57343?this.content=1024*(h-55296)+p-56320+65536|c[v.CHAR_DATA_WIDTH_INDEX]<<22:d=!0}else d=!0}else this.content=c[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|c[v.CHAR_DATA_WIDTH_INDEX]<<22;d&&(this.combinedData=c[v.CHAR_DATA_CHAR_INDEX],this.content=2097152|c[v.CHAR_DATA_WIDTH_INDEX]<<22)},u.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},u}(f.AttributeData);x.CellData=s},643:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.WHITESPACE_CELL_CODE=x.WHITESPACE_CELL_WIDTH=x.WHITESPACE_CELL_CHAR=x.NULL_CELL_CODE=x.NULL_CELL_WIDTH=x.NULL_CELL_CHAR=x.CHAR_DATA_CODE_INDEX=x.CHAR_DATA_WIDTH_INDEX=x.CHAR_DATA_CHAR_INDEX=x.CHAR_DATA_ATTR_INDEX=x.DEFAULT_ATTR=x.DEFAULT_COLOR=void 0,x.DEFAULT_COLOR=256,x.DEFAULT_ATTR=256|x.DEFAULT_COLOR<<9,x.CHAR_DATA_ATTR_INDEX=0,x.CHAR_DATA_CHAR_INDEX=1,x.CHAR_DATA_WIDTH_INDEX=2,x.CHAR_DATA_CODE_INDEX=3,x.NULL_CELL_CHAR="",x.NULL_CELL_WIDTH=1,x.NULL_CELL_CODE=0,x.WHITESPACE_CELL_CHAR=" ",x.WHITESPACE_CELL_WIDTH=1,x.WHITESPACE_CELL_CODE=32},4863:function(H,x,O){var w,g=this&&this.__extends||(w=function(s,a){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(u[d]=c[d])})(s,a)},function(f,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=f}w(f,s),f.prototype=null===s?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(x,"__esModule",{value:!0}),x.Marker=void 0;var y=O(8460),v=function(f){function s(a){var u=f.call(this)||this;return u.line=a,u._id=s._nextId++,u.isDisposed=!1,u._onDispose=new y.EventEmitter,u}return g(s,f),Object.defineProperty(s.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),s.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),f.prototype.dispose.call(this))},s._nextId=1,s}(O(844).Disposable);x.Marker=v},7116:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.DEFAULT_CHARSET=x.CHARSETS=void 0,x.CHARSETS={},x.DEFAULT_CHARSET=x.CHARSETS.B,x.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},x.CHARSETS.A={"#":"\xa3"},x.CHARSETS.B=void 0,x.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},x.CHARSETS.C=x.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},x.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},x.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},x.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},x.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},x.CHARSETS.E=x.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},x.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},x.CHARSETS.H=x.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},x.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:function(H,x){var O,w;Object.defineProperty(x,"__esModule",{value:!0}),x.C1=x.C0=void 0,(w=x.C0||(x.C0={})).NUL="\0",w.SOH="\x01",w.STX="\x02",w.ETX="\x03",w.EOT="\x04",w.ENQ="\x05",w.ACK="\x06",w.BEL="\x07",w.BS="\b",w.HT="\t",w.LF="\n",w.VT="\v",w.FF="\f",w.CR="\r",w.SO="\x0e",w.SI="\x0f",w.DLE="\x10",w.DC1="\x11",w.DC2="\x12",w.DC3="\x13",w.DC4="\x14",w.NAK="\x15",w.SYN="\x16",w.ETB="\x17",w.CAN="\x18",w.EM="\x19",w.SUB="\x1a",w.ESC="\x1b",w.FS="\x1c",w.GS="\x1d",w.RS="\x1e",w.US="\x1f",w.SP=" ",w.DEL="\x7f",(O=x.C1||(x.C1={})).PAD="\x80",O.HOP="\x81",O.BPH="\x82",O.NBH="\x83",O.IND="\x84",O.NEL="\x85",O.SSA="\x86",O.ESA="\x87",O.HTS="\x88",O.HTJ="\x89",O.VTS="\x8a",O.PLD="\x8b",O.PLU="\x8c",O.RI="\x8d",O.SS2="\x8e",O.SS3="\x8f",O.DCS="\x90",O.PU1="\x91",O.PU2="\x92",O.STS="\x93",O.CCH="\x94",O.MW="\x95",O.SPA="\x96",O.EPA="\x97",O.SOS="\x98",O.SGCI="\x99",O.SCI="\x9a",O.CSI="\x9b",O.ST="\x9c",O.OSC="\x9d",O.PM="\x9e",O.APC="\x9f"},7399:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.evaluateKeyboardEvent=void 0;var w=O(2584),g={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};x.evaluateKeyboardEvent=function(y,v,f,s){var a={type:0,cancel:!1,key:void 0},u=(y.shiftKey?1:0)|(y.altKey?2:0)|(y.ctrlKey?4:0)|(y.metaKey?8:0);switch(y.keyCode){case 0:"UIKeyInputUpArrow"===y.key?a.key=v?w.C0.ESC+"OA":w.C0.ESC+"[A":"UIKeyInputLeftArrow"===y.key?a.key=v?w.C0.ESC+"OD":w.C0.ESC+"[D":"UIKeyInputRightArrow"===y.key?a.key=v?w.C0.ESC+"OC":w.C0.ESC+"[C":"UIKeyInputDownArrow"===y.key&&(a.key=v?w.C0.ESC+"OB":w.C0.ESC+"[B");break;case 8:if(y.shiftKey){a.key=w.C0.BS;break}if(y.altKey){a.key=w.C0.ESC+w.C0.DEL;break}a.key=w.C0.DEL;break;case 9:if(y.shiftKey){a.key=w.C0.ESC+"[Z";break}a.key=w.C0.HT,a.cancel=!0;break;case 13:a.key=y.altKey?w.C0.ESC+w.C0.CR:w.C0.CR,a.cancel=!0;break;case 27:a.key=w.C0.ESC,y.altKey&&(a.key=w.C0.ESC+w.C0.ESC),a.cancel=!0;break;case 37:if(y.metaKey)break;u?(a.key=w.C0.ESC+"[1;"+(u+1)+"D",a.key===w.C0.ESC+"[1;3D"&&(a.key=w.C0.ESC+(f?"b":"[1;5D"))):a.key=v?w.C0.ESC+"OD":w.C0.ESC+"[D";break;case 39:if(y.metaKey)break;u?(a.key=w.C0.ESC+"[1;"+(u+1)+"C",a.key===w.C0.ESC+"[1;3C"&&(a.key=w.C0.ESC+(f?"f":"[1;5C"))):a.key=v?w.C0.ESC+"OC":w.C0.ESC+"[C";break;case 38:if(y.metaKey)break;u?(a.key=w.C0.ESC+"[1;"+(u+1)+"A",f||a.key!==w.C0.ESC+"[1;3A"||(a.key=w.C0.ESC+"[1;5A")):a.key=v?w.C0.ESC+"OA":w.C0.ESC+"[A";break;case 40:if(y.metaKey)break;u?(a.key=w.C0.ESC+"[1;"+(u+1)+"B",f||a.key!==w.C0.ESC+"[1;3B"||(a.key=w.C0.ESC+"[1;5B")):a.key=v?w.C0.ESC+"OB":w.C0.ESC+"[B";break;case 45:y.shiftKey||y.ctrlKey||(a.key=w.C0.ESC+"[2~");break;case 46:a.key=u?w.C0.ESC+"[3;"+(u+1)+"~":w.C0.ESC+"[3~";break;case 36:a.key=u?w.C0.ESC+"[1;"+(u+1)+"H":v?w.C0.ESC+"OH":w.C0.ESC+"[H";break;case 35:a.key=u?w.C0.ESC+"[1;"+(u+1)+"F":v?w.C0.ESC+"OF":w.C0.ESC+"[F";break;case 33:y.shiftKey?a.type=2:a.key=w.C0.ESC+"[5~";break;case 34:y.shiftKey?a.type=3:a.key=w.C0.ESC+"[6~";break;case 112:a.key=u?w.C0.ESC+"[1;"+(u+1)+"P":w.C0.ESC+"OP";break;case 113:a.key=u?w.C0.ESC+"[1;"+(u+1)+"Q":w.C0.ESC+"OQ";break;case 114:a.key=u?w.C0.ESC+"[1;"+(u+1)+"R":w.C0.ESC+"OR";break;case 115:a.key=u?w.C0.ESC+"[1;"+(u+1)+"S":w.C0.ESC+"OS";break;case 116:a.key=u?w.C0.ESC+"[15;"+(u+1)+"~":w.C0.ESC+"[15~";break;case 117:a.key=u?w.C0.ESC+"[17;"+(u+1)+"~":w.C0.ESC+"[17~";break;case 118:a.key=u?w.C0.ESC+"[18;"+(u+1)+"~":w.C0.ESC+"[18~";break;case 119:a.key=u?w.C0.ESC+"[19;"+(u+1)+"~":w.C0.ESC+"[19~";break;case 120:a.key=u?w.C0.ESC+"[20;"+(u+1)+"~":w.C0.ESC+"[20~";break;case 121:a.key=u?w.C0.ESC+"[21;"+(u+1)+"~":w.C0.ESC+"[21~";break;case 122:a.key=u?w.C0.ESC+"[23;"+(u+1)+"~":w.C0.ESC+"[23~";break;case 123:a.key=u?w.C0.ESC+"[24;"+(u+1)+"~":w.C0.ESC+"[24~";break;default:if(!y.ctrlKey||y.shiftKey||y.altKey||y.metaKey)if(f&&!s||!y.altKey||y.metaKey)!f||y.altKey||y.ctrlKey||y.shiftKey||!y.metaKey?y.key&&!y.ctrlKey&&!y.altKey&&!y.metaKey&&y.keyCode>=48&&1===y.key.length?a.key=y.key:y.key&&y.ctrlKey&&"_"===y.key&&(a.key=w.C0.US):65===y.keyCode&&(a.type=1);else{var c=g[y.keyCode],d=null==c?void 0:c[y.shiftKey?1:0];d?a.key=w.C0.ESC+d:y.keyCode>=65&&y.keyCode<=90&&(a.key=w.C0.ESC+String.fromCharCode(y.ctrlKey?y.keyCode-64:y.keyCode+32))}else y.keyCode>=65&&y.keyCode<=90?a.key=String.fromCharCode(y.keyCode-64):32===y.keyCode?a.key=w.C0.NUL:y.keyCode>=51&&y.keyCode<=55?a.key=String.fromCharCode(y.keyCode-51+27):56===y.keyCode?a.key=w.C0.DEL:219===y.keyCode?a.key=w.C0.ESC:220===y.keyCode?a.key=w.C0.FS:221===y.keyCode&&(a.key=w.C0.GS)}return a}},482:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.Utf8ToUtf32=x.StringToUtf32=x.utf32ToString=x.stringFromCodePoint=void 0,x.stringFromCodePoint=function(g){return g>65535?(g-=65536,String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):String.fromCharCode(g)},x.utf32ToString=function(g,y,v){void 0===y&&(y=0),void 0===v&&(v=g.length);for(var f="",s=y;s<v;++s){var a=g[s];a>65535?(a-=65536,f+=String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):f+=String.fromCharCode(a)}return f};var O=function(){function g(){this._interim=0}return g.prototype.clear=function(){this._interim=0},g.prototype.decode=function(y,v){var f=y.length;if(!f)return 0;var s=0,a=0;this._interim&&(56320<=(d=y.charCodeAt(a++))&&d<=57343?v[s++]=1024*(this._interim-55296)+d-56320+65536:(v[s++]=this._interim,v[s++]=d),this._interim=0);for(var u=a;u<f;++u){var c=y.charCodeAt(u);if(55296<=c&&c<=56319){if(++u>=f)return this._interim=c,s;var d;56320<=(d=y.charCodeAt(u))&&d<=57343?v[s++]=1024*(c-55296)+d-56320+65536:(v[s++]=c,v[s++]=d)}else 65279!==c&&(v[s++]=c)}return s},g}();x.StringToUtf32=O;var w=function(){function g(){this.interim=new Uint8Array(3)}return g.prototype.clear=function(){this.interim.fill(0)},g.prototype.decode=function(y,v){var f=y.length;if(!f)return 0;var s,a,u,c,d=0,h=0,p=0;if(this.interim[0]){var _=!1,E=this.interim[0];E&=192==(224&E)?31:224==(240&E)?15:7;for(var D=0,b=void 0;(b=63&this.interim[++D])&&D<4;)E<<=6,E|=b;for(var R=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,k=R-D;p<k;){if(p>=f)return 0;if(128!=(192&(b=y[p++]))){p--,_=!0;break}this.interim[D++]=b,E<<=6,E|=63&b}_||(2===R?E<128?p--:v[d++]=E:3===R?E<2048||E>=55296&&E<=57343||65279===E||(v[d++]=E):E<65536||E>1114111||(v[d++]=E)),this.interim.fill(0)}for(var S=f-4,M=p;M<f;){for(;!(!(M<S)||128&(s=y[M])||128&(a=y[M+1])||128&(u=y[M+2])||128&(c=y[M+3]));)v[d++]=s,v[d++]=a,v[d++]=u,v[d++]=c,M+=4;if((s=y[M++])<128)v[d++]=s;else if(192==(224&s)){if(M>=f)return this.interim[0]=s,d;if(128!=(192&(a=y[M++]))){M--;continue}if((h=(31&s)<<6|63&a)<128){M--;continue}v[d++]=h}else if(224==(240&s)){if(M>=f)return this.interim[0]=s,d;if(128!=(192&(a=y[M++]))){M--;continue}if(M>=f)return this.interim[0]=s,this.interim[1]=a,d;if(128!=(192&(u=y[M++]))){M--;continue}if((h=(15&s)<<12|(63&a)<<6|63&u)<2048||h>=55296&&h<=57343||65279===h)continue;v[d++]=h}else if(240==(248&s)){if(M>=f)return this.interim[0]=s,d;if(128!=(192&(a=y[M++]))){M--;continue}if(M>=f)return this.interim[0]=s,this.interim[1]=a,d;if(128!=(192&(u=y[M++]))){M--;continue}if(M>=f)return this.interim[0]=s,this.interim[1]=a,this.interim[2]=u,d;if(128!=(192&(c=y[M++]))){M--;continue}if((h=(7&s)<<18|(63&a)<<12|(63&u)<<6|63&c)<65536||h>1114111)continue;v[d++]=h}}return d},g}();x.Utf8ToUtf32=w},225:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.UnicodeV6=void 0;var w,g=O(8273),y=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],v=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],f=function(){function s(){if(this.version="6",!w){w=new Uint8Array(65536),(0,g.fill)(w,1),w[0]=0,(0,g.fill)(w,0,1,32),(0,g.fill)(w,0,127,160),(0,g.fill)(w,2,4352,4448),w[9001]=2,w[9002]=2,(0,g.fill)(w,2,11904,42192),w[12351]=1,(0,g.fill)(w,2,44032,55204),(0,g.fill)(w,2,63744,64256),(0,g.fill)(w,2,65040,65050),(0,g.fill)(w,2,65072,65136),(0,g.fill)(w,2,65280,65377),(0,g.fill)(w,2,65504,65511);for(var a=0;a<y.length;++a)(0,g.fill)(w,0,y[a][0],y[a][1]+1)}}return s.prototype.wcwidth=function(a){return a<32?0:a<127?1:a<65536?w[a]:function(u,c){var d,h=0,p=c.length-1;if(u<c[0][0]||u>c[p][1])return!1;for(;p>=h;)if(u>c[d=h+p>>1][1])h=d+1;else{if(!(u<c[d][0]))return!0;p=d-1}return!1}(a,v)?0:a>=131072&&a<=196605||a>=196608&&a<=262141?2:1},s}();x.UnicodeV6=f},5981:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.WriteBuffer=void 0;var O="undefined"==typeof queueMicrotask?function(g){Promise.resolve().then(g)}:queueMicrotask,w=function(){function g(y){this._action=y,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0}return g.prototype.writeSync=function(y,v){if(void 0!==v&&this._syncCalls>v)this._syncCalls=0;else if(this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var f;for(this._isSyncWriting=!0;f=this._writeBuffer.shift();){this._action(f);var s=this._callbacks.shift();s&&s()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},g.prototype.write=function(y,v){var f=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return f._innerWrite()})),this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(v)},g.prototype._innerWrite=function(y,v){var f=this;void 0===y&&(y=0),void 0===v&&(v=!0);for(var s=y||Date.now();this._writeBuffer.length>this._bufferOffset;){var a=this._writeBuffer[this._bufferOffset],u=this._action(a,v);if(u)return void u.catch(function(d){return O(function(){throw d}),Promise.resolve(!1)}).then(function(d){return Date.now()-s>=12?setTimeout(function(){return f._innerWrite(0,d)}):f._innerWrite(s,d)});var c=this._callbacks[this._bufferOffset];if(c&&c(),this._bufferOffset++,this._pendingData-=a.length,Date.now()-s>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return f._innerWrite()})):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0)},g}();x.WriteBuffer=w},5941:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.toRgbString=x.parseColor=void 0;var O=/^([\da-f]{1})\/([\da-f]{1})\/([\da-f]{1})$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,w=/^[\da-f]+$/;function g(y,v){var f=y.toString(16),s=f.length<2?"0"+f:f;switch(v){case 4:return f[0];case 8:return s;case 12:return(s+s).slice(0,3);default:return s+s}}x.parseColor=function(y){if(y){var v=y.toLowerCase();if(0===v.indexOf("rgb:")){v=v.slice(4);var f=O.exec(v);if(f){var s=f[1]?15:f[4]?255:f[7]?4095:65535;return[Math.round(parseInt(f[1]||f[4]||f[7]||f[10],16)/s*255),Math.round(parseInt(f[2]||f[5]||f[8]||f[11],16)/s*255),Math.round(parseInt(f[3]||f[6]||f[9]||f[12],16)/s*255)]}}else if(0===v.indexOf("#")&&(v=v.slice(1),w.exec(v)&&[3,6,9,12].includes(v.length))){for(var a=v.length/3,u=[0,0,0],c=0;c<3;++c){var d=parseInt(v.slice(a*c,a*c+a),16);u[c]=1===a?d<<4:2===a?d:3===a?d>>4:d>>8}return u}}},x.toRgbString=function(y,v){void 0===v&&(v=16);var s=y[1],a=y[2];return"rgb:"+g(y[0],v)+"/"+g(s,v)+"/"+g(a,v)}},5770:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.PAYLOAD_LIMIT=void 0,x.PAYLOAD_LIMIT=1e7},6351:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.DcsHandler=x.DcsParser=void 0;var w=O(482),g=O(8742),y=O(5770),v=[],f=function(){function u(){this._handlers=Object.create(null),this._active=v,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return u.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=v},u.prototype.registerHandler=function(c,d){void 0===this._handlers[c]&&(this._handlers[c]=[]);var h=this._handlers[c];return h.push(d),{dispose:function(){var _=h.indexOf(d);-1!==_&&h.splice(_,1)}}},u.prototype.clearHandler=function(c){this._handlers[c]&&delete this._handlers[c]},u.prototype.setHandlerFallback=function(c){this._handlerFb=c},u.prototype.reset=function(){if(this._active.length)for(var c=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;c>=0;--c)this._active[c].unhook(!1);this._stack.paused=!1,this._active=v,this._ident=0},u.prototype.hook=function(c,d){if(this.reset(),this._ident=c,this._active=this._handlers[c]||v,this._active.length)for(var h=this._active.length-1;h>=0;h--)this._active[h].hook(d);else this._handlerFb(this._ident,"HOOK",d)},u.prototype.put=function(c,d,h){if(this._active.length)for(var p=this._active.length-1;p>=0;p--)this._active[p].put(c,d,h);else this._handlerFb(this._ident,"PUT",(0,w.utf32ToString)(c,d,h))},u.prototype.unhook=function(c,d){if(void 0===d&&(d=!0),this._active.length){var h=!1,p=this._active.length-1,_=!1;if(this._stack.paused&&(p=this._stack.loopPosition-1,h=d,_=this._stack.fallThrough,this._stack.paused=!1),!_&&!1===h){for(;p>=0&&!0!==(h=this._active[p].unhook(c));p--)if(h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!1,h;p--}for(;p>=0;p--)if((h=this._active[p].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!0,h}else this._handlerFb(this._ident,"UNHOOK",c);this._active=v,this._ident=0},u}();x.DcsParser=f;var s=new g.Params;s.addParam(0);var a=function(){function u(c){this._handler=c,this._data="",this._params=s,this._hitLimit=!1}return u.prototype.hook=function(c){this._params=c.length>1||c.params[0]?c.clone():s,this._data="",this._hitLimit=!1},u.prototype.put=function(c,d,h){this._hitLimit||(this._data+=(0,w.utf32ToString)(c,d,h),this._data.length>y.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},u.prototype.unhook=function(c){var d=this,h=!1;if(this._hitLimit)h=!1;else if(c&&(h=this._handler(this._data,this._params))instanceof Promise)return h.then(function(p){return d._params=s,d._data="",d._hitLimit=!1,p});return this._params=s,this._data="",this._hitLimit=!1,h},u}();x.DcsHandler=a},2015:function(H,x,O){var w,g=this&&this.__extends||(w=function(p,_){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var b in D)Object.prototype.hasOwnProperty.call(D,b)&&(E[b]=D[b])})(p,_)},function(h,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function _(){this.constructor=h}w(h,p),h.prototype=null===p?Object.create(p):(_.prototype=p.prototype,new _)});Object.defineProperty(x,"__esModule",{value:!0}),x.EscapeSequenceParser=x.VT500_TRANSITION_TABLE=x.TransitionTable=void 0;var y=O(844),v=O(8273),f=O(8742),s=O(6242),a=O(6351),u=function(){function h(p){this.table=new Uint8Array(p)}return h.prototype.setDefault=function(p,_){(0,v.fill)(this.table,p<<4|_)},h.prototype.add=function(p,_,E,D){this.table[_<<8|p]=E<<4|D},h.prototype.addMany=function(p,_,E,D){for(var b=0;b<p.length;b++)this.table[_<<8|p[b]]=E<<4|D},h}();x.TransitionTable=u;var c=160;x.VT500_TRANSITION_TABLE=function(){var h=new u(4095),p=Array.apply(null,Array(256)).map(function(k,S){return S}),_=function(S,M){return p.slice(S,M)},E=_(32,127),D=_(0,24);D.push(25),D.push.apply(D,_(28,32));var b,R=_(0,14);for(b in h.setDefault(1,0),h.addMany(E,0,2,0),R)h.addMany([24,26,153,154],b,3,0),h.addMany(_(128,144),b,3,0),h.addMany(_(144,152),b,3,0),h.add(156,b,0,0),h.add(27,b,11,1),h.add(157,b,4,8),h.addMany([152,158,159],b,0,7),h.add(155,b,11,3),h.add(144,b,11,9);return h.addMany(D,0,3,0),h.addMany(D,1,3,1),h.add(127,1,0,1),h.addMany(D,8,0,8),h.addMany(D,3,3,3),h.add(127,3,0,3),h.addMany(D,4,3,4),h.add(127,4,0,4),h.addMany(D,6,3,6),h.addMany(D,5,3,5),h.add(127,5,0,5),h.addMany(D,2,3,2),h.add(127,2,0,2),h.add(93,1,4,8),h.addMany(E,8,5,8),h.add(127,8,5,8),h.addMany([156,27,24,26,7],8,6,0),h.addMany(_(28,32),8,0,8),h.addMany([88,94,95],1,0,7),h.addMany(E,7,0,7),h.addMany(D,7,0,7),h.add(156,7,0,0),h.add(127,7,0,7),h.add(91,1,11,3),h.addMany(_(64,127),3,7,0),h.addMany(_(48,60),3,8,4),h.addMany([60,61,62,63],3,9,4),h.addMany(_(48,60),4,8,4),h.addMany(_(64,127),4,7,0),h.addMany([60,61,62,63],4,0,6),h.addMany(_(32,64),6,0,6),h.add(127,6,0,6),h.addMany(_(64,127),6,0,0),h.addMany(_(32,48),3,9,5),h.addMany(_(32,48),5,9,5),h.addMany(_(48,64),5,0,6),h.addMany(_(64,127),5,7,0),h.addMany(_(32,48),4,9,5),h.addMany(_(32,48),1,9,2),h.addMany(_(32,48),2,9,2),h.addMany(_(48,127),2,10,0),h.addMany(_(48,80),1,10,0),h.addMany(_(81,88),1,10,0),h.addMany([89,90,92],1,10,0),h.addMany(_(96,127),1,10,0),h.add(80,1,11,9),h.addMany(D,9,0,9),h.add(127,9,0,9),h.addMany(_(28,32),9,0,9),h.addMany(_(32,48),9,9,12),h.addMany(_(48,60),9,8,10),h.addMany([60,61,62,63],9,9,10),h.addMany(D,11,0,11),h.addMany(_(32,128),11,0,11),h.addMany(_(28,32),11,0,11),h.addMany(D,10,0,10),h.add(127,10,0,10),h.addMany(_(28,32),10,0,10),h.addMany(_(48,60),10,8,10),h.addMany([60,61,62,63],10,0,11),h.addMany(_(32,48),10,9,12),h.addMany(D,12,0,12),h.add(127,12,0,12),h.addMany(_(28,32),12,0,12),h.addMany(_(32,48),12,9,12),h.addMany(_(48,64),12,0,11),h.addMany(_(64,127),12,12,13),h.addMany(_(64,127),10,12,13),h.addMany(_(64,127),9,12,13),h.addMany(D,13,13,13),h.addMany(E,13,13,13),h.add(127,13,0,13),h.addMany([27,156,24,26],13,14,0),h.add(c,0,2,0),h.add(c,8,5,8),h.add(c,6,0,6),h.add(c,11,0,11),h.add(c,13,13,13),h}();var d=function(h){function p(_){void 0===_&&(_=x.VT500_TRANSITION_TABLE);var E=h.call(this)||this;return E._transitions=_,E._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},E.initialState=0,E.currentState=E.initialState,E._params=new f.Params,E._params.addParam(0),E._collect=0,E.precedingCodepoint=0,E._printHandlerFb=function(D,b,R){},E._executeHandlerFb=function(D){},E._csiHandlerFb=function(D,b){},E._escHandlerFb=function(D){},E._errorHandlerFb=function(D){return D},E._printHandler=E._printHandlerFb,E._executeHandlers=Object.create(null),E._csiHandlers=Object.create(null),E._escHandlers=Object.create(null),E._oscParser=new s.OscParser,E._dcsParser=new a.DcsParser,E._errorHandler=E._errorHandlerFb,E.registerEscHandler({final:"\\"},function(){return!0}),E}return g(p,h),p.prototype._identifier=function(_,E){void 0===E&&(E=[64,126]);var D=0;if(_.prefix){if(_.prefix.length>1)throw new Error("only one byte as prefix supported");if((D=_.prefix.charCodeAt(0))&&60>D||D>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(_.intermediates){if(_.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var b=0;b<_.intermediates.length;++b){var R=_.intermediates.charCodeAt(b);if(32>R||R>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");D<<=8,D|=R}}if(1!==_.final.length)throw new Error("final must be a single byte");var k=_.final.charCodeAt(0);if(E[0]>k||k>E[1])throw new Error("final must be in range "+E[0]+" .. "+E[1]);return(D<<=8)|k},p.prototype.identToString=function(_){for(var E=[];_;)E.push(String.fromCharCode(255&_)),_>>=8;return E.reverse().join("")},p.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},p.prototype.setPrintHandler=function(_){this._printHandler=_},p.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},p.prototype.registerEscHandler=function(_,E){var D=this._identifier(_,[48,126]);void 0===this._escHandlers[D]&&(this._escHandlers[D]=[]);var b=this._escHandlers[D];return b.push(E),{dispose:function(){var k=b.indexOf(E);-1!==k&&b.splice(k,1)}}},p.prototype.clearEscHandler=function(_){this._escHandlers[this._identifier(_,[48,126])]&&delete this._escHandlers[this._identifier(_,[48,126])]},p.prototype.setEscHandlerFallback=function(_){this._escHandlerFb=_},p.prototype.setExecuteHandler=function(_,E){this._executeHandlers[_.charCodeAt(0)]=E},p.prototype.clearExecuteHandler=function(_){this._executeHandlers[_.charCodeAt(0)]&&delete this._executeHandlers[_.charCodeAt(0)]},p.prototype.setExecuteHandlerFallback=function(_){this._executeHandlerFb=_},p.prototype.registerCsiHandler=function(_,E){var D=this._identifier(_);void 0===this._csiHandlers[D]&&(this._csiHandlers[D]=[]);var b=this._csiHandlers[D];return b.push(E),{dispose:function(){var k=b.indexOf(E);-1!==k&&b.splice(k,1)}}},p.prototype.clearCsiHandler=function(_){this._csiHandlers[this._identifier(_)]&&delete this._csiHandlers[this._identifier(_)]},p.prototype.setCsiHandlerFallback=function(_){this._csiHandlerFb=_},p.prototype.registerDcsHandler=function(_,E){return this._dcsParser.registerHandler(this._identifier(_),E)},p.prototype.clearDcsHandler=function(_){this._dcsParser.clearHandler(this._identifier(_))},p.prototype.setDcsHandlerFallback=function(_){this._dcsParser.setHandlerFallback(_)},p.prototype.registerOscHandler=function(_,E){return this._oscParser.registerHandler(_,E)},p.prototype.clearOscHandler=function(_){this._oscParser.clearHandler(_)},p.prototype.setOscHandlerFallback=function(_){this._oscParser.setHandlerFallback(_)},p.prototype.setErrorHandler=function(_){this._errorHandler=_},p.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},p.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])},p.prototype._preserveStack=function(_,E,D,b,R){this._parseStack.state=_,this._parseStack.handlers=E,this._parseStack.handlerPos=D,this._parseStack.transition=b,this._parseStack.chunkPos=R},p.prototype.parse=function(_,E,D){var b,R=0,k=0,S=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,S=this._parseStack.chunkPos+1;else{if(void 0===D||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var M=this._parseStack.handlers,C=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===D&&C>-1)for(;C>=0&&!0!==(b=M[C](this._params));C--)if(b instanceof Promise)return this._parseStack.handlerPos=C,b;this._parseStack.handlers=[];break;case 4:if(!1===D&&C>-1)for(;C>=0&&!0!==(b=M[C]());C--)if(b instanceof Promise)return this._parseStack.handlerPos=C,b;this._parseStack.handlers=[];break;case 6:if(b=this._dcsParser.unhook(24!==(R=_[this._parseStack.chunkPos])&&26!==R,D))return b;27===R&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(b=this._oscParser.end(24!==(R=_[this._parseStack.chunkPos])&&26!==R,D))return b;27===R&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,S=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var T=S;T<E;++T){switch((k=this._transitions.table[this.currentState<<8|((R=_[T])<160?R:c)])>>4){case 2:for(var I=T+1;;++I){if(I>=E||(R=_[I])<32||R>126&&R<c){this._printHandler(_,T,I),T=I-1;break}if(++I>=E||(R=_[I])<32||R>126&&R<c){this._printHandler(_,T,I),T=I-1;break}if(++I>=E||(R=_[I])<32||R>126&&R<c){this._printHandler(_,T,I),T=I-1;break}if(++I>=E||(R=_[I])<32||R>126&&R<c){this._printHandler(_,T,I),T=I-1;break}}break;case 3:this._executeHandlers[R]?this._executeHandlers[R]():this._executeHandlerFb(R),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:T,code:R,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var $=(M=this._csiHandlers[this._collect<<8|R])?M.length-1:-1;$>=0&&!0!==(b=M[$](this._params));$--)if(b instanceof Promise)return this._preserveStack(3,M,$,k,T),b;$<0&&this._csiHandlerFb(this._collect<<8|R,this._params),this.precedingCodepoint=0;break;case 8:do{switch(R){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(R-48)}}while(++T<E&&(R=_[T])>47&&R<60);T--;break;case 9:this._collect<<=8,this._collect|=R;break;case 10:for(var F=this._escHandlers[this._collect<<8|R],P=F?F.length-1:-1;P>=0&&!0!==(b=F[P]());P--)if(b instanceof Promise)return this._preserveStack(4,F,P,k,T),b;P<0&&this._escHandlerFb(this._collect<<8|R),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|R,this._params);break;case 13:for(var U=T+1;;++U)if(U>=E||24===(R=_[U])||26===R||27===R||R>127&&R<c){this._dcsParser.put(_,T,U),T=U-1;break}break;case 14:if(b=this._dcsParser.unhook(24!==R&&26!==R))return this._preserveStack(6,[],0,k,T),b;27===R&&(k|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var W=T+1;;W++)if(W>=E||(R=_[W])<32||R>127&&R<c){this._oscParser.put(_,T,W),T=W-1;break}break;case 6:if(b=this._oscParser.end(24!==R&&26!==R))return this._preserveStack(5,[],0,k,T),b;27===R&&(k|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&k}},p}(y.Disposable);x.EscapeSequenceParser=d},6242:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.OscHandler=x.OscParser=void 0;var w=O(5770),g=O(482),y=[],v=function(){function s(){this._state=0,this._active=y,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return s.prototype.registerHandler=function(a,u){void 0===this._handlers[a]&&(this._handlers[a]=[]);var c=this._handlers[a];return c.push(u),{dispose:function(){var h=c.indexOf(u);-1!==h&&c.splice(h,1)}}},s.prototype.clearHandler=function(a){this._handlers[a]&&delete this._handlers[a]},s.prototype.setHandlerFallback=function(a){this._handlerFb=a},s.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=y},s.prototype.reset=function(){if(2===this._state)for(var a=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;a>=0;--a)this._active[a].end(!1);this._stack.paused=!1,this._active=y,this._id=-1,this._state=0},s.prototype._start=function(){if(this._active=this._handlers[this._id]||y,this._active.length)for(var a=this._active.length-1;a>=0;a--)this._active[a].start();else this._handlerFb(this._id,"START")},s.prototype._put=function(a,u,c){if(this._active.length)for(var d=this._active.length-1;d>=0;d--)this._active[d].put(a,u,c);else this._handlerFb(this._id,"PUT",(0,g.utf32ToString)(a,u,c))},s.prototype.start=function(){this.reset(),this._state=1},s.prototype.put=function(a,u,c){if(3!==this._state){if(1===this._state)for(;u<c;){var d=a[u++];if(59===d){this._state=2,this._start();break}if(d<48||57<d)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+d-48}2===this._state&&c-u>0&&this._put(a,u,c)}},s.prototype.end=function(a,u){if(void 0===u&&(u=!0),0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){var c=!1,d=this._active.length-1,h=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,c=u,h=this._stack.fallThrough,this._stack.paused=!1),!h&&!1===c){for(;d>=0&&!0!==(c=this._active[d].end(a));d--)if(c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,c;d--}for(;d>=0;d--)if((c=this._active[d].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,c}else this._handlerFb(this._id,"END",a);this._active=y,this._id=-1,this._state=0}},s}();x.OscParser=v;var f=function(){function s(a){this._handler=a,this._data="",this._hitLimit=!1}return s.prototype.start=function(){this._data="",this._hitLimit=!1},s.prototype.put=function(a,u,c){this._hitLimit||(this._data+=(0,g.utf32ToString)(a,u,c),this._data.length>w.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},s.prototype.end=function(a){var u=this,c=!1;if(this._hitLimit)c=!1;else if(a&&(c=this._handler(this._data))instanceof Promise)return c.then(function(d){return u._data="",u._hitLimit=!1,d});return this._data="",this._hitLimit=!1,c},s}();x.OscHandler=f},8742:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.Params=void 0;var O=2147483647,w=function(){function g(y,v){if(void 0===y&&(y=32),void 0===v&&(v=32),this.maxLength=y,this.maxSubParamsLength=v,v>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(y),this.length=0,this._subParams=new Int32Array(v),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(y),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return g.fromArray=function(y){var v=new g;if(!y.length)return v;for(var f=Array.isArray(y[0])?1:0;f<y.length;++f){var s=y[f];if(Array.isArray(s))for(var a=0;a<s.length;++a)v.addSubParam(s[a]);else v.addParam(s)}return v},g.prototype.clone=function(){var y=new g(this.maxLength,this.maxSubParamsLength);return y.params.set(this.params),y.length=this.length,y._subParams.set(this._subParams),y._subParamsLength=this._subParamsLength,y._subParamsIdx.set(this._subParamsIdx),y._rejectDigits=this._rejectDigits,y._rejectSubDigits=this._rejectSubDigits,y._digitIsSub=this._digitIsSub,y},g.prototype.toArray=function(){for(var y=[],v=0;v<this.length;++v){y.push(this.params[v]);var f=this._subParamsIdx[v]>>8,s=255&this._subParamsIdx[v];s-f>0&&y.push(Array.prototype.slice.call(this._subParams,f,s))}return y},g.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},g.prototype.addParam=function(y){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(y<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=y>O?O:y}},g.prototype.addSubParam=function(y){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(y<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=y>O?O:y,this._subParamsIdx[this.length-1]++}},g.prototype.hasSubParams=function(y){return(255&this._subParamsIdx[y])-(this._subParamsIdx[y]>>8)>0},g.prototype.getSubParams=function(y){var v=this._subParamsIdx[y]>>8,f=255&this._subParamsIdx[y];return f-v>0?this._subParams.subarray(v,f):null},g.prototype.getSubParamsAll=function(){for(var y={},v=0;v<this.length;++v){var f=this._subParamsIdx[v]>>8,s=255&this._subParamsIdx[v];s-f>0&&(y[v]=this._subParams.slice(f,s))}return y},g.prototype.addDigit=function(y){var v;if(!(this._rejectDigits||!(v=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var f=this._digitIsSub?this._subParams:this.params,s=f[v-1];f[v-1]=~s?Math.min(10*s+y,O):y}},g}();x.Params=w},5741:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.AddonManager=void 0;var O=function(){function w(){this._addons=[]}return w.prototype.dispose=function(){for(var g=this._addons.length-1;g>=0;g--)this._addons[g].instance.dispose()},w.prototype.loadAddon=function(g,y){var v=this,f={instance:y,dispose:y.dispose,isDisposed:!1};this._addons.push(f),y.dispose=function(){return v._wrappedAddonDispose(f)},y.activate(g)},w.prototype._wrappedAddonDispose=function(g){if(!g.isDisposed){for(var y=-1,v=0;v<this._addons.length;v++)if(this._addons[v]===g){y=v;break}if(-1===y)throw new Error("Could not dispose an addon that has not been loaded");g.isDisposed=!0,g.dispose.apply(g.instance),this._addons.splice(y,1)}},w}();x.AddonManager=O},8771:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.BufferApiView=void 0;var w=O(3785),g=O(511),y=function(){function v(f,s){this._buffer=f,this.type=s}return v.prototype.init=function(f){return this._buffer=f,this},Object.defineProperty(v.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),v.prototype.getLine=function(f){var s=this._buffer.lines.get(f);if(s)return new w.BufferLineApiView(s)},v.prototype.getNullCell=function(){return new g.CellData},v}();x.BufferApiView=y},3785:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.BufferLineApiView=void 0;var w=O(511),g=function(){function y(v){this._line=v}return Object.defineProperty(y.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),y.prototype.getCell=function(v,f){if(!(v<0||v>=this._line.length))return f?(this._line.loadCell(v,f),f):this._line.loadCell(v,new w.CellData)},y.prototype.translateToString=function(v,f,s){return this._line.translateToString(v,f,s)},y}();x.BufferLineApiView=g},8285:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.BufferNamespaceApi=void 0;var w=O(8771),g=O(8460),y=function(){function v(f){var s=this;this._core=f,this._onBufferChange=new g.EventEmitter,this._normal=new w.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new w.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(function(){return s._onBufferChange.fire(s.active)})}return Object.defineProperty(v.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),v}();x.BufferNamespaceApi=y},7975:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.ParserApi=void 0;var O=function(){function w(g){this._core=g}return w.prototype.registerCsiHandler=function(g,y){return this._core.registerCsiHandler(g,function(v){return y(v.toArray())})},w.prototype.addCsiHandler=function(g,y){return this.registerCsiHandler(g,y)},w.prototype.registerDcsHandler=function(g,y){return this._core.registerDcsHandler(g,function(v,f){return y(v,f.toArray())})},w.prototype.addDcsHandler=function(g,y){return this.registerDcsHandler(g,y)},w.prototype.registerEscHandler=function(g,y){return this._core.registerEscHandler(g,y)},w.prototype.addEscHandler=function(g,y){return this.registerEscHandler(g,y)},w.prototype.registerOscHandler=function(g,y){return this._core.registerOscHandler(g,y)},w.prototype.addOscHandler=function(g,y){return this.registerOscHandler(g,y)},w}();x.ParserApi=O},7090:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.UnicodeApi=void 0;var O=function(){function w(g){this._core=g}return w.prototype.register=function(g){this._core.unicodeService.register(g)},Object.defineProperty(w.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(y){this._core.unicodeService.activeVersion=y},enumerable:!1,configurable:!0}),w}();x.UnicodeApi=O},744:function(H,x,O){var w,g=this&&this.__extends||(w=function(h,p){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(_[D]=E[D])})(h,p)},function(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function p(){this.constructor=d}w(d,h),d.prototype=null===h?Object.create(h):(p.prototype=h.prototype,new p)}),y=this&&this.__decorate||function(d,h,p,_){var E,D=arguments.length,b=D<3?h:null===_?_=Object.getOwnPropertyDescriptor(h,p):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(d,h,p,_);else for(var R=d.length-1;R>=0;R--)(E=d[R])&&(b=(D<3?E(b):D>3?E(h,p,b):E(h,p))||b);return D>3&&b&&Object.defineProperty(h,p,b),b},v=this&&this.__param||function(d,h){return function(p,_){h(p,_,d)}};Object.defineProperty(x,"__esModule",{value:!0}),x.BufferService=x.MINIMUM_ROWS=x.MINIMUM_COLS=void 0;var f=O(2585),s=O(5295),a=O(8460),u=O(844);x.MINIMUM_COLS=2,x.MINIMUM_ROWS=1;var c=function(d){function h(p){var _=d.call(this)||this;return _._optionsService=p,_.isUserScrolling=!1,_._onResize=new a.EventEmitter,_._onScroll=new a.EventEmitter,_.cols=Math.max(p.rawOptions.cols||0,x.MINIMUM_COLS),_.rows=Math.max(p.rawOptions.rows||0,x.MINIMUM_ROWS),_.buffers=new s.BufferSet(p,_),_}return g(h,d),Object.defineProperty(h.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),h.prototype.dispose=function(){d.prototype.dispose.call(this),this.buffers.dispose()},h.prototype.resize=function(p,_){this.cols=p,this.rows=_,this.buffers.resize(p,_),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:p,rows:_})},h.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},h.prototype.scroll=function(p,_){void 0===_&&(_=!1);var E,D=this.buffer;(E=this._cachedBlankLine)&&E.length===this.cols&&E.getFg(0)===p.fg&&E.getBg(0)===p.bg||(E=D.getBlankLine(p,_),this._cachedBlankLine=E),E.isWrapped=_;var b=D.ybase+D.scrollTop,R=D.ybase+D.scrollBottom;if(0===D.scrollTop){var k=D.lines.isFull;R===D.lines.length-1?k?D.lines.recycle().copyFrom(E):D.lines.push(E.clone()):D.lines.splice(R+1,0,E.clone()),k?this.isUserScrolling&&(D.ydisp=Math.max(D.ydisp-1,0)):(D.ybase++,this.isUserScrolling||D.ydisp++)}else D.lines.shiftElements(b+1,R-b+1-1,-1),D.lines.set(R,E.clone());this.isUserScrolling||(D.ydisp=D.ybase),this._onScroll.fire(D.ydisp)},h.prototype.scrollLines=function(p,_,E){var D=this.buffer;if(p<0){if(0===D.ydisp)return;this.isUserScrolling=!0}else p+D.ydisp>=D.ybase&&(this.isUserScrolling=!1);var b=D.ydisp;D.ydisp=Math.max(Math.min(D.ydisp+p,D.ybase),0),b!==D.ydisp&&(_||this._onScroll.fire(D.ydisp))},h.prototype.scrollPages=function(p){this.scrollLines(p*(this.rows-1))},h.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},h.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},h.prototype.scrollToLine=function(p){var _=p-this.buffer.ydisp;0!==_&&this.scrollLines(_)},y([v(0,f.IOptionsService)],h)}(u.Disposable);x.BufferService=c},7994:function(H,x){Object.defineProperty(x,"__esModule",{value:!0}),x.CharsetService=void 0;var O=function(){function w(){this.glevel=0,this._charsets=[]}return w.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},w.prototype.setgLevel=function(g){this.glevel=g,this.charset=this._charsets[g]},w.prototype.setgCharset=function(g,y){this._charsets[g]=y,this.glevel===g&&(this.charset=y)},w}();x.CharsetService=O},1753:function(H,x,O){var w=this&&this.__decorate||function(d,h,p,_){var E,D=arguments.length,b=D<3?h:null===_?_=Object.getOwnPropertyDescriptor(h,p):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(d,h,p,_);else for(var R=d.length-1;R>=0;R--)(E=d[R])&&(b=(D<3?E(b):D>3?E(h,p,b):E(h,p))||b);return D>3&&b&&Object.defineProperty(h,p,b),b},g=this&&this.__param||function(d,h){return function(p,_){h(p,_,d)}};Object.defineProperty(x,"__esModule",{value:!0}),x.CoreMouseService=void 0;var y=O(2585),v=O(8460),f={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(h){return 4!==h.button&&1===h.action&&(h.ctrl=!1,h.alt=!1,h.shift=!1,!0)}},VT200:{events:19,restrict:function(h){return 32!==h.action}},DRAG:{events:23,restrict:function(h){return 32!==h.action||3!==h.button}},ANY:{events:31,restrict:function(h){return!0}}};function s(d,h){var p=(d.ctrl?16:0)|(d.shift?4:0)|(d.alt?8:0);return 4===d.button?(p|=64,p|=d.action):(p|=3&d.button,4&d.button&&(p|=64),8&d.button&&(p|=128),32===d.action?p|=32:0!==d.action||h||(p|=3)),p}var a=String.fromCharCode,u={DEFAULT:function(h){var p=[s(h,!1)+32,h.col+32,h.row+32];return p[0]>255||p[1]>255||p[2]>255?"":"\x1b[M"+a(p[0])+a(p[1])+a(p[2])},SGR:function(h){var p=0===h.action&&4!==h.button?"m":"M";return"\x1b[<"+s(h,!0)+";"+h.col+";"+h.row+p}},c=function(){function d(h,p){this._bufferService=h,this._coreService=p,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new v.EventEmitter,this._lastEvent=null;for(var _=0,E=Object.keys(f);_<E.length;_++){var D=E[_];this.addProtocol(D,f[D])}for(var b=0,R=Object.keys(u);b<R.length;b++){var k=R[b];this.addEncoding(k,u[k])}this.reset()}return d.prototype.addProtocol=function(h,p){this._protocols[h]=p},d.prototype.addEncoding=function(h,p){this._encodings[h]=p},Object.defineProperty(d.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(p){if(!this._protocols[p])throw new Error('unknown protocol "'+p+'"');this._activeProtocol=p,this._onProtocolChange.fire(this._protocols[p].events)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"areMouseEventsActive",{get:function(){return 0!==this._protocols[this._activeProtocol].events},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(p){if(!this._encodings[p])throw new Error('unknown encoding "'+p+'"');this._activeEncoding=p},enumerable:!1,configurable:!0}),d.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(d.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),d.prototype.triggerMouseEvent=function(h){if(h.col<0||h.col>=this._bufferService.cols||h.row<0||h.row>=this._bufferService.rows||4===h.button&&32===h.action||3===h.button&&32!==h.action||4!==h.button&&(2===h.action||3===h.action)||(h.col++,h.row++,32===h.action&&this._lastEvent&&this._compareEvents(this._lastEvent,h))||!this._protocols[this._activeProtocol].restrict(h))return!1;var p=this._encodings[this._activeEncoding](h);return p&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(p):this._coreService.triggerDataEvent(p,!0)),this._lastEvent=h,!0},d.prototype.explainEvents=function(h){return{down:!!(1&h),up:!!(2&h),drag:!!(4&h),move:!!(8&h),wheel:!!(16&h)}},d.prototype._compareEvents=function(h,p){return h.col===p.col&&h.row===p.row&&h.button===p.button&&h.action===p.action&&h.ctrl===p.ctrl&&h.alt===p.alt&&h.shift===p.shift},w([g(0,y.IBufferService),g(1,y.ICoreService)],d)}();x.CoreMouseService=c},6975:function(H,x,O){var w,g=this&&this.__extends||(w=function(_,E){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,b){D.__proto__=b}||function(D,b){for(var R in b)Object.prototype.hasOwnProperty.call(b,R)&&(D[R]=b[R])})(_,E)},function(p,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function E(){this.constructor=p}w(p,_),p.prototype=null===_?Object.create(_):(E.prototype=_.prototype,new E)}),y=this&&this.__decorate||function(p,_,E,D){var b,R=arguments.length,k=R<3?_:null===D?D=Object.getOwnPropertyDescriptor(_,E):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(p,_,E,D);else for(var S=p.length-1;S>=0;S--)(b=p[S])&&(k=(R<3?b(k):R>3?b(_,E,k):b(_,E))||k);return R>3&&k&&Object.defineProperty(_,E,k),k},v=this&&this.__param||function(p,_){return function(E,D){_(E,D,p)}};Object.defineProperty(x,"__esModule",{value:!0}),x.CoreService=void 0;var f=O(2585),s=O(8460),a=O(1439),u=O(844),c=Object.freeze({insertMode:!1}),d=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),h=function(p){function _(E,D,b,R){var k=p.call(this)||this;return k._bufferService=D,k._logService=b,k._optionsService=R,k.isCursorInitialized=!1,k.isCursorHidden=!1,k._onData=k.register(new s.EventEmitter),k._onUserInput=k.register(new s.EventEmitter),k._onBinary=k.register(new s.EventEmitter),k._scrollToBottom=E,k.register({dispose:function(){return k._scrollToBottom=void 0}}),k.modes=(0,a.clone)(c),k.decPrivateModes=(0,a.clone)(d),k}return g(_,p),Object.defineProperty(_.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),_.prototype.reset=function(){this.modes=(0,a.clone)(c),this.decPrivateModes=(0,a.clone)(d)},_.prototype.triggerDataEvent=function(E,D){if(void 0===D&&(D=!1),!this._optionsService.rawOptions.disableStdin){var b=this._bufferService.buffer;b.ybase!==b.ydisp&&this._scrollToBottom(),D&&this._onUserInput.fire(),this._logService.debug('sending data "'+E+'"',function(){return E.split("").map(function(R){return R.charCodeAt(0)})}),this._onData.fire(E)}},_.prototype.triggerBinaryEvent=function(E){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'+E+'"',function(){return E.split("").map(function(D){return D.charCodeAt(0)})}),this._onBinary.fire(E))},y([v(1,f.IBufferService),v(2,f.ILogService),v(3,f.IOptionsService)],_)}(u.Disposable);x.CoreService=h},3730:function(H,x,O){var w=this&&this.__decorate||function(f,s,a,u){var c,d=arguments.length,h=d<3?s:null===u?u=Object.getOwnPropertyDescriptor(s,a):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,s,a,u);else for(var p=f.length-1;p>=0;p--)(c=f[p])&&(h=(d<3?c(h):d>3?c(s,a,h):c(s,a))||h);return d>3&&h&&Object.defineProperty(s,a,h),h},g=this&&this.__param||function(f,s){return function(a,u){s(a,u,f)}};Object.defineProperty(x,"__esModule",{value:!0}),x.DirtyRowService=void 0;var y=O(2585),v=function(){function f(s){this._bufferService=s,this.clearRange()}return Object.defineProperty(f.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),f.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},f.prototype.markDirty=function(s){s<this._start?this._start=s:s>this._end&&(this._end=s)},f.prototype.markRangeDirty=function(s,a){if(s>a){var u=s;s=a,a=u}s<this._start&&(this._start=s),a>this._end&&(this._end=a)},f.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},w([g(0,y.IBufferService)],f)}();x.DirtyRowService=v},4348:function(H,x,O){var w=this&&this.__spreadArray||function(s,a,u){if(u||2===arguments.length)for(var c,d=0,h=a.length;d<h;d++)!c&&d in a||(c||(c=Array.prototype.slice.call(a,0,d)),c[d]=a[d]);return s.concat(c||Array.prototype.slice.call(a))};Object.defineProperty(x,"__esModule",{value:!0}),x.InstantiationService=x.ServiceCollection=void 0;var g=O(2585),y=O(8343),v=function(){function s(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];this._entries=new Map;for(var c=0,d=a;c<d.length;c++){var h=d[c];this.set(h[0],h[1])}}return s.prototype.set=function(a,u){var c=this._entries.get(a);return this._entries.set(a,u),c},s.prototype.forEach=function(a){this._entries.forEach(function(u,c){return a(c,u)})},s.prototype.has=function(a){return this._entries.has(a)},s.prototype.get=function(a){return this._entries.get(a)},s}();x.ServiceCollection=v;var f=function(){function s(){this._services=new v,this._services.set(g.IInstantiationService,this)}return s.prototype.setService=function(a,u){this._services.set(a,u)},s.prototype.getService=function(a){return this._services.get(a)},s.prototype.createInstance=function(a){for(var u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];for(var d=(0,y.getServiceDependencies)(a).sort(function(R,k){return R.index-k.index}),h=[],p=0,_=d;p<_.length;p++){var E=_[p],D=this._services.get(E.id);if(!D)throw new Error("[createInstance] "+a.name+" depends on UNKNOWN service "+E.id+".");h.push(D)}var b=d.length>0?d[0].index:u.length;if(u.length!==b)throw new Error("[createInstance] First service dependency of "+a.name+" at position "+(b+1)+" conflicts with "+u.length+" static arguments");return new(a.bind.apply(a,w([void 0],w(w([],u,!0),h,!0),!1)))},s}();x.InstantiationService=f},7866:function(H,x,O){var w=this&&this.__decorate||function(a,u,c,d){var h,p=arguments.length,_=p<3?u:null===d?d=Object.getOwnPropertyDescriptor(u,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(a,u,c,d);else for(var E=a.length-1;E>=0;E--)(h=a[E])&&(_=(p<3?h(_):p>3?h(u,c,_):h(u,c))||_);return p>3&&_&&Object.defineProperty(u,c,_),_},g=this&&this.__param||function(a,u){return function(c,d){u(c,d,a)}},y=this&&this.__spreadArray||function(a,u,c){if(c||2===arguments.length)for(var d,h=0,p=u.length;h<p;h++)!d&&h in u||(d||(d=Array.prototype.slice.call(u,0,h)),d[h]=u[h]);return a.concat(d||Array.prototype.slice.call(u))};Object.defineProperty(x,"__esModule",{value:!0}),x.LogService=void 0;var v=O(2585),f={debug:v.LogLevelEnum.DEBUG,info:v.LogLevelEnum.INFO,warn:v.LogLevelEnum.WARN,error:v.LogLevelEnum.ERROR,off:v.LogLevelEnum.OFF},s=function(){function a(u){var c=this;this._optionsService=u,this.logLevel=v.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(function(d){"logLevel"===d&&c._updateLogLevel()})}return a.prototype._updateLogLevel=function(){this.logLevel=f[this._optionsService.rawOptions.logLevel]},a.prototype._evalLazyOptionalParams=function(u){for(var c=0;c<u.length;c++)"function"==typeof u[c]&&(u[c]=u[c]())},a.prototype._log=function(u,c,d){this._evalLazyOptionalParams(d),u.call.apply(u,y([console,"xterm.js: "+c],d,!1))},a.prototype.debug=function(u){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];this.logLevel<=v.LogLevelEnum.DEBUG&&this._log(console.log,u,c)},a.prototype.info=function(u){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];this.logLevel<=v.LogLevelEnum.INFO&&this._log(console.info,u,c)},a.prototype.warn=function(u){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];this.logLevel<=v.LogLevelEnum.WARN&&this._log(console.warn,u,c)},a.prototype.error=function(u){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];this.logLevel<=v.LogLevelEnum.ERROR&&this._log(console.error,u,c)},w([g(0,v.IOptionsService)],a)}();x.LogService=s},7302:function(H,x,O){var w=this&&this.__assign||function(){return w=Object.assign||function(s){for(var a,u=1,c=arguments.length;u<c;u++)for(var d in a=arguments[u])Object.prototype.hasOwnProperty.call(a,d)&&(s[d]=a[d]);return s},w.apply(this,arguments)};Object.defineProperty(x,"__esModule",{value:!0}),x.OptionsService=x.DEFAULT_OPTIONS=x.DEFAULT_BELL_SOUND=void 0;var g=O(8460),y=O(6114);x.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",x.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:x.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:y.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1};var v=["normal","bold","100","200","300","400","500","600","700","800","900"],f=function(){function s(a){this._onOptionChange=new g.EventEmitter;var u=w({},x.DEFAULT_OPTIONS);for(var c in a)if(c in u)try{u[c]=this._sanitizeAndValidateOption(c,a[c])}catch(h){console.error(h)}this.rawOptions=u,this.options=w({},u),this._setupOptions()}return Object.defineProperty(s.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),s.prototype._setupOptions=function(){var a=this,u=function(_){if(!(_ in x.DEFAULT_OPTIONS))throw new Error('No option with key "'+_+'"');return a.rawOptions[_]},c=function(_,E){if(!(_ in x.DEFAULT_OPTIONS))throw new Error('No option with key "'+_+'"');E=a._sanitizeAndValidateOption(_,E),a.rawOptions[_]!==E&&(a.rawOptions[_]=E,a._onOptionChange.fire(_))};for(var d in this.rawOptions){var h={get:u.bind(this,d),set:c.bind(this,d)};Object.defineProperty(this.options,d,h)}},s.prototype.setOption=function(a,u){this.options[a]=u},s.prototype._sanitizeAndValidateOption=function(a,u){switch(a){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":u||(u=x.DEFAULT_OPTIONS[a]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof u&&1<=u&&u<=1e3)break;u=v.includes(u)?u:x.DEFAULT_OPTIONS[a];break;case"cursorWidth":u=Math.floor(u);case"lineHeight":case"tabStopWidth":if(u<1)throw new Error(a+" cannot be less than 1, value: "+u);break;case"minimumContrastRatio":u=Math.max(1,Math.min(21,Math.round(10*u)/10));break;case"scrollback":if((u=Math.min(u,4294967295))<0)throw new Error(a+" cannot be less than 0, value: "+u);break;case"fastScrollSensitivity":case"scrollSensitivity":if(u<=0)throw new Error(a+" cannot be less than or equal to 0, value: "+u);case"rows":case"cols":if(!u&&0!==u)throw new Error(a+" must be numeric, value: "+u)}return u},s.prototype.getOption=function(a){return this.options[a]},s}();x.OptionsService=f},8343:function(H,x){function O(w,g,y){g.di$target===g?g.di$dependencies.push({id:w,index:y}):(g.di$dependencies=[{id:w,index:y}],g.di$target=g)}Object.defineProperty(x,"__esModule",{value:!0}),x.createDecorator=x.getServiceDependencies=x.serviceRegistry=void 0,x.serviceRegistry=new Map,x.getServiceDependencies=function(w){return w.di$dependencies||[]},x.createDecorator=function(w){if(x.serviceRegistry.has(w))return x.serviceRegistry.get(w);var g=function y(v,f,s){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");O(y,v,s)};return g.toString=function(){return w},x.serviceRegistry.set(w,g),g}},2585:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.IUnicodeService=x.IOptionsService=x.ILogService=x.LogLevelEnum=x.IInstantiationService=x.IDirtyRowService=x.ICharsetService=x.ICoreService=x.ICoreMouseService=x.IBufferService=void 0;var w,g=O(8343);x.IBufferService=(0,g.createDecorator)("BufferService"),x.ICoreMouseService=(0,g.createDecorator)("CoreMouseService"),x.ICoreService=(0,g.createDecorator)("CoreService"),x.ICharsetService=(0,g.createDecorator)("CharsetService"),x.IDirtyRowService=(0,g.createDecorator)("DirtyRowService"),x.IInstantiationService=(0,g.createDecorator)("InstantiationService"),(w=x.LogLevelEnum||(x.LogLevelEnum={}))[w.DEBUG=0]="DEBUG",w[w.INFO=1]="INFO",w[w.WARN=2]="WARN",w[w.ERROR=3]="ERROR",w[w.OFF=4]="OFF",x.ILogService=(0,g.createDecorator)("LogService"),x.IOptionsService=(0,g.createDecorator)("OptionsService"),x.IUnicodeService=(0,g.createDecorator)("UnicodeService")},1480:function(H,x,O){Object.defineProperty(x,"__esModule",{value:!0}),x.UnicodeService=void 0;var w=O(8460),g=O(225),y=function(){function v(){this._providers=Object.create(null),this._active="",this._onChange=new w.EventEmitter;var f=new g.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}return Object.defineProperty(v.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"activeVersion",{get:function(){return this._active},set:function(s){if(!this._providers[s])throw new Error('unknown Unicode version "'+s+'"');this._active=s,this._activeProvider=this._providers[s],this._onChange.fire(s)},enumerable:!1,configurable:!0}),v.prototype.register=function(f){this._providers[f.version]=f},v.prototype.wcwidth=function(f){return this._activeProvider.wcwidth(f)},v.prototype.getStringCellWidth=function(f){for(var s=0,a=f.length,u=0;u<a;++u){var c=f.charCodeAt(u);if(55296<=c&&c<=56319){if(++u>=a)return s+this.wcwidth(c);var d=f.charCodeAt(u);56320<=d&&d<=57343?c=1024*(c-55296)+d-56320+65536:s+=this.wcwidth(d)}s+=this.wcwidth(c)}return s},v}();x.UnicodeService=y}},ne={};return function N(H){var x=ne[H];if(void 0!==x)return x.exports;var O=ne[H]={exports:{}};return J[H].call(O.exports,O,O.exports,N),O.exports}(4389)}()},5379:function(ge){"use strict";var O,J="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),N={},H=0,x=0;function w(v){var f="";do{f=J[v%64]+f,v=Math.floor(v/64)}while(v>0);return f}function y(){var v=w(+new Date);return v!==O?(H=0,O=v):v+"."+w(H++)}for(;x<64;x++)N[J[x]]=x;y.encode=w,y.decode=function g(v){var f=0;for(x=0;x<v.length;x++)f=64*f+N[v.charAt(x)];return f},ge.exports=y},7757:function(ge,J,ne){ge.exports=ne(7854)},7020:function(){}},function(ge){ge(ge.s=8919)}]);